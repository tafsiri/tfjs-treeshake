{"version":3,"file":"forward_mode_wasm.js","sources":["../../../../../tfjs-core-workspace/tfjs-core/dist/environment.js","../../../../../tfjs-core-workspace/tfjs-core/dist/global_util.js","../../../../../tfjs-core-workspace/tfjs-core/dist/kernel_names.js","../../../../../tfjs-core-workspace/tfjs-core/dist/kernel_registry.js","../../../../../tfjs-core-workspace/tfjs-core/dist/util.js","../../../../../tfjs-core-workspace/tfjs-core/dist/profiler.js","../../../../../tfjs-core-workspace/tfjs-core/dist/tensor_format.js","../../../../../tfjs-core-workspace/tfjs-core/dist/tensor.js","../../../../../tfjs-core-workspace/tfjs-core/dist/tensor_util.js","../../../../../tfjs-core-workspace/tfjs-core/dist/engine.js","../../../../../tfjs-core-workspace/tfjs-core/dist/tape.js","../../../../../tfjs-core-workspace/tfjs-core/dist/tensor_util_env.js","../../../../../tfjs-core-workspace/tfjs-core/dist/ops/operation.js","../../../../../tfjs-core-workspace/tfjs-core/dist/ops/reshape.js","../../../../../tfjs-core-workspace/tfjs-core/dist/ops/transpose.js","../../../../../tfjs-core-workspace/tfjs-core/dist/ops/axis_util.js","../../../../../tfjs-core-workspace/tfjs-core/dist/ops/max.js","../../../../../tfjs-core-workspace/tfjs-core/dist/backends/backend.js","../../../../../tfjs-core-workspace/tfjs-core/dist/flags.js","../../../../../tfjs-core-workspace/tfjs-core/dist/device_util.js","../../../../../tfjs-core-workspace/tfjs-core/dist/platforms/platform_browser.js","../../../../../tfjs-core-workspace/tfjs-core/dist/platforms/platform_node.js","../../../../../tfjs-core-workspace/tfjs-converter/dist/data/compiled_api.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/flags_wasm.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm-threaded-simd.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/backend_wasm.js","../../../../../tfjs-core-workspace/tfjs-core/dist/globals.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/wasm-out/tfjs-backend-wasm-threaded-simd.worker.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/kernels/types.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/kernels/Transpose.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/kernels/Max.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/kernels/Identity.js","../../../custom_tfjs_wasm.js","../../../node_modules/@tensorflow/tfjs-backend-wasm/dist/kernels/kernel_utils.js","../../../forward_mode_wasm.js"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n// Expects flags from URL in the format ?tfjsflags=FLAG1:1,FLAG2:true.\nconst TENSORFLOWJS_FLAGS_PREFIX = 'tfjsflags';\n/**\n * The environment contains evaluated flags as well as the registered platform.\n * This is always used as a global singleton and can be retrieved with\n * `tf.env()`.\n */\n/** @doc {heading: 'Environment'} */\nexport class Environment {\n    // tslint:disable-next-line: no-any\n    constructor(global) {\n        this.global = global;\n        this.flags = {};\n        this.flagRegistry = {};\n        this.urlFlags = {};\n        this.populateURLFlags();\n    }\n    setPlatform(platformName, platform) {\n        if (this.platform != null) {\n            console.warn(`Platform ${this.platformName} has already been set. ` +\n                `Overwriting the platform with ${platform}.`);\n        }\n        this.platformName = platformName;\n        this.platform = platform;\n    }\n    registerFlag(flagName, evaluationFn, setHook) {\n        this.flagRegistry[flagName] = { evaluationFn, setHook };\n        // Override the flag value from the URL. This has to happen here because the\n        // environment is initialized before flags get registered.\n        if (this.urlFlags[flagName] != null) {\n            const flagValue = this.urlFlags[flagName];\n            console.warn(`Setting feature override from URL ${flagName}: ${flagValue}.`);\n            this.set(flagName, flagValue);\n        }\n    }\n    async getAsync(flagName) {\n        if (flagName in this.flags) {\n            return this.flags[flagName];\n        }\n        this.flags[flagName] = await this.evaluateFlag(flagName);\n        return this.flags[flagName];\n    }\n    get(flagName) {\n        if (flagName in this.flags) {\n            return this.flags[flagName];\n        }\n        const flagValue = this.evaluateFlag(flagName);\n        if (flagValue instanceof Promise) {\n            throw new Error(`Flag ${flagName} cannot be synchronously evaluated. ` +\n                `Please use getAsync() instead.`);\n        }\n        this.flags[flagName] = flagValue;\n        return this.flags[flagName];\n    }\n    getNumber(flagName) {\n        return this.get(flagName);\n    }\n    getBool(flagName) {\n        return this.get(flagName);\n    }\n    getFlags() {\n        return this.flags;\n    }\n    // For backwards compatibility.\n    get features() {\n        return this.flags;\n    }\n    set(flagName, value) {\n        if (this.flagRegistry[flagName] == null) {\n            throw new Error(`Cannot set flag ${flagName} as it has not been registered.`);\n        }\n        this.flags[flagName] = value;\n        if (this.flagRegistry[flagName].setHook != null) {\n            this.flagRegistry[flagName].setHook(value);\n        }\n    }\n    evaluateFlag(flagName) {\n        if (this.flagRegistry[flagName] == null) {\n            throw new Error(`Cannot evaluate flag '${flagName}': no evaluation function found.`);\n        }\n        return this.flagRegistry[flagName].evaluationFn();\n    }\n    setFlags(flags) {\n        this.flags = Object.assign({}, flags);\n    }\n    reset() {\n        this.flags = {};\n        this.urlFlags = {};\n        this.populateURLFlags();\n    }\n    populateURLFlags() {\n        if (typeof this.global === 'undefined' ||\n            typeof this.global.location === 'undefined' ||\n            typeof this.global.location.search === 'undefined') {\n            return;\n        }\n        const urlParams = getQueryParams(this.global.location.search);\n        if (TENSORFLOWJS_FLAGS_PREFIX in urlParams) {\n            const keyValues = urlParams[TENSORFLOWJS_FLAGS_PREFIX].split(',');\n            keyValues.forEach(keyValue => {\n                const [key, value] = keyValue.split(':');\n                this.urlFlags[key] = parseValue(key, value);\n            });\n        }\n    }\n}\nexport function getQueryParams(queryString) {\n    const params = {};\n    queryString.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g, (s, ...t) => {\n        decodeParam(params, t[0], t[1]);\n        return t.join('=');\n    });\n    return params;\n}\nfunction decodeParam(params, name, value) {\n    params[decodeURIComponent(name)] = decodeURIComponent(value || '');\n}\nfunction parseValue(flagName, value) {\n    value = value.toLowerCase();\n    if (value === 'true' || value === 'false') {\n        return value === 'true';\n    }\n    else if (`${+value}` === value) {\n        return +value;\n    }\n    throw new Error(`Could not parse value flag value ${value} for flag ${flagName}.`);\n}\n/**\n * Returns the current environment (a global singleton).\n *\n * The environment object contains the evaluated feature values as well as the\n * active platform.\n */\n/** @doc {heading: 'Environment'} */\nexport function env() {\n    return ENV;\n}\nexport let ENV = null;\nexport function setEnvironmentGlobal(environment) {\n    ENV = environment;\n}\n//# sourceMappingURL=environment.js.map","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n// Note that the identifier globalNameSpace is scoped to this module, but will\n// always resolve to the same global object regardless of how the module is\n// resolved.\n// tslint:disable-next-line:no-any\nlet globalNameSpace;\n// tslint:disable-next-line:no-any\nexport function getGlobalNamespace() {\n    if (globalNameSpace == null) {\n        // tslint:disable-next-line:no-any\n        let ns;\n        if (typeof (window) !== 'undefined') {\n            ns = window;\n        }\n        else if (typeof (global) !== 'undefined') {\n            ns = global;\n        }\n        else if (typeof (process) !== 'undefined') {\n            ns = process;\n        }\n        else if (typeof (self) !== 'undefined') {\n            ns = self;\n        }\n        else {\n            throw new Error('Could not find a global object');\n        }\n        globalNameSpace = ns;\n    }\n    return globalNameSpace;\n}\n// tslint:disable-next-line:no-any\nfunction getGlobalMap() {\n    const ns = getGlobalNamespace();\n    if (ns._tfGlobals == null) {\n        ns._tfGlobals = new Map();\n    }\n    return ns._tfGlobals;\n}\n/**\n * Returns a globally accessible 'singleton' object.\n *\n * @param key the name of the object\n * @param init a function to initialize to initialize this object\n *             the first time it is fetched.\n */\nexport function getGlobal(key, init) {\n    const globalMap = getGlobalMap();\n    if (globalMap.has(key)) {\n        return globalMap.get(key);\n    }\n    else {\n        const singleton = init();\n        globalMap.set(key, singleton);\n        return globalMap.get(key);\n    }\n}\n//# sourceMappingURL=global_util.js.map","export const Abs = 'Abs';\nexport const Acos = 'Acos';\nexport const Acosh = 'Acosh';\nexport const Add = 'Add';\nexport const AddN = 'AddN';\nexport const All = 'All';\nexport const Any = 'Any';\nexport const ArgMax = 'ArgMax';\nexport const ArgMin = 'ArgMin';\nexport const Asin = 'Asin';\nexport const Asinh = 'Asinh';\nexport const Atan = 'Atan';\nexport const Atanh = 'Atanh';\nexport const Atan2 = 'Atan2';\nexport const AvgPool = 'AvgPool';\nexport const AvgPoolBackprop = 'AvgPoolBackprop';\nexport const AvgPool3D = 'AvgPool3D';\nexport const AvgPool3DBackprop = 'AvgPool3DBackprop';\nexport const BatchMatMul = 'BatchMatMul';\nexport const BatchToSpaceND = 'BatchToSpaceND';\nexport const BroadcastTo = 'BroadcastTo';\nexport const Cast = 'Cast';\nexport const Ceil = 'Ceil';\nexport const ClipByValue = 'ClipByValue';\nexport const Complex = 'Complex';\nexport const Concat = 'Concat';\nexport const Conv2D = 'Conv2D';\nexport const Conv2DBackpropFilter = 'Conv2DBackpropFilter';\nexport const Conv2DBackpropInput = 'Conv2DBackpropInput';\nexport const Conv3D = 'Conv3D';\nexport const Conv3DBackpropFilterV2 = 'Conv3DBackpropFilterV2';\nexport const Conv3DBackpropInputV2 = 'Conv3DBackpropInputV2';\nexport const Cos = 'Cos';\nexport const Cosh = 'Cosh';\nexport const Cumsum = 'Cumsum';\nexport const CropAndResize = 'CropAndResize';\nexport const DepthToSpace = 'DepthToSpace';\nexport const DepthwiseConv2dNative = 'DepthwiseConv2dNative';\nexport const DepthwiseConv2dNativeBackpropFilter = 'DepthwiseConv2dNativeBackpropFilter';\nexport const DepthwiseConv2dNativeBackpropInput = 'DepthwiseConv2dNativeBackpropInput';\nexport const Diag = 'Diag';\nexport const Dilation2D = 'Dilation2D';\nexport const Dilation2DBackpropInput = 'Dilation2DBackpropInput';\nexport const Dilation2DBackpropFilter = 'Dilation2DBackpropFilter';\nexport const Div = 'Div';\nexport const Elu = 'Elu';\nexport const EluGrad = 'EluGrad';\nexport const Erf = 'Erf';\nexport const Equal = 'Equal';\nexport const Exp = 'Exp';\nexport const Expm1 = 'Expm1';\nexport const FFT = 'FFT';\nexport const Floor = 'Floor';\nexport const FloorDiv = 'FloorDiv';\nexport const Fill = 'Fill';\nexport const FusedBatchNorm = 'FusedBatchNorm';\nexport const GatherV2 = 'GatherV2';\nexport const GatherNd = 'GatherNd';\nexport const Greater = 'Greater';\nexport const GreaterEqual = 'GreaterEqual';\nexport const Identity = 'Identity';\nexport const IFFT = 'IFFT';\nexport const Imag = 'Imag';\nexport const IsFinite = 'IsFinite';\nexport const IsInf = 'IsInf';\nexport const IsNan = 'IsNan';\nexport const Less = 'Less';\nexport const LessEqual = 'LessEqual';\nexport const LinSpace = 'LinSpace';\nexport const Log = 'Log';\nexport const Log1p = 'Log1p';\nexport const LogicalAnd = 'LogicalAnd';\nexport const LogicalNot = 'LogicalNot';\nexport const LogicalOr = 'LogicalOr';\nexport const LogSoftmax = 'LogSoftmax';\nexport const LRN = 'LRN';\nexport const LRNBackprop = 'LRNBackprop';\nexport const Max = 'Max';\nexport const Maximum = 'Maximum';\nexport const MaxPool = 'MaxPool';\nexport const MaxPoolBackprop = 'MaxPoolBackprop';\nexport const MaxPool3D = 'MaxPool3D';\nexport const MaxPool3DBackprop = 'MaxPool3DBackprop';\nexport const MaxPoolWithArgmax = 'MaxPoolWithArgmax';\nexport const Mean = 'Mean';\nexport const Min = 'Min';\nexport const Minimum = 'Minimum';\nexport const Mod = 'Mod';\nexport const Multiply = 'Multiply';\nexport const Negate = 'Negate';\nexport const NotEqual = 'NotEqual';\nexport const NonMaxSuppressionV3 = 'NonMaxSuppressionV3';\nexport const NonMaxSuppressionV4 = 'NonMaxSuppressionV4';\nexport const NonMaxSuppressionV5 = 'NonMaxSuppressionV5';\nexport const OnesLike = 'OnesLike';\nexport const OneHot = 'OneHot';\nexport const PadV2 = 'PadV2';\nexport const Pool = 'Pool';\nexport const Pow = 'Pow';\nexport const Prelu = 'Prelu';\nexport const Prod = 'Prod';\nexport const Range = 'Range';\nexport const Real = 'Real';\nexport const Reciprocal = 'Reciprocal';\nexport const Relu = 'Relu';\nexport const Reshape = 'Reshape';\nexport const ResizeNearestNeighbor = 'ResizeNearestNeighbor';\nexport const ResizeNearestNeighborGrad = 'ResizeNearestNeighborGrad';\nexport const ResizeBilinear = 'ResizeBilinear';\nexport const ResizeBilinearGrad = 'ResizeBilinearGrad';\nexport const Relu6 = 'Relu6';\nexport const Reverse = 'Reverse';\nexport const Round = 'Round';\nexport const Rsqrt = 'Rsqrt';\nexport const ScatterNd = 'ScatterNd';\nexport const SelectV2 = 'SelectV2';\nexport const Selu = 'Selu';\nexport const Slice = 'Slice';\nexport const Sin = 'Sin';\nexport const Sinh = 'Sinh';\nexport const Sign = 'Sign';\nexport const Sigmoid = 'Sigmoid';\nexport const Softplus = 'Softplus';\nexport const Sqrt = 'Sqrt';\nexport const Sum = 'Sum';\nexport const SpaceToBatchND = 'SpaceToBatchND';\nexport const SplitV = 'SplitV';\nexport const Softmax = 'Softmax';\nexport const SquaredDifference = 'SquaredDifference';\nexport const Square = 'Square';\nexport const Sub = 'Sub';\nexport const SparseToDense = 'SparseToDense';\nexport const StridedSlice = 'StridedSlice';\nexport const Tan = 'Tan';\nexport const Tanh = 'Tanh';\nexport const Tile = 'Tile';\nexport const TopK = 'TopK';\nexport const Transpose = 'Transpose';\nexport const Unpack = 'Unpack';\nexport const UnsortedSegmentSum = 'UnsortedSegmentSum';\nexport const ZerosLike = 'ZerosLike';\n/**\n * TensorFlow.js-only kernels\n */\nexport const Step = 'Step';\nexport const FromPixels = 'FromPixels';\nexport const RotateWithOffset = 'RotateWithOffset';\nexport const _FusedMatMul = '_FusedMatMul';\nexport const FusedConv2D = 'FusedConv2D';\nexport const FusedDepthwiseConv2D = 'FusedDepthwiseConv2D';\n//# sourceMappingURL=kernel_names.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { env } from './environment';\nimport { getGlobal } from './global_util';\nconst kernelRegistry = getGlobal('kernelRegistry', () => new Map());\nconst gradRegistry = getGlobal('gradRegistry', () => new Map());\n/**\n * Returns the kernel function (code) associated with the provided names.\n *\n * @param kernelName The official name of the kernel.\n * @param backendName The official name of the backend.\n */\nexport function getKernel(kernelName, backendName) {\n    const key = makeKey(kernelName, backendName);\n    return kernelRegistry.get(key);\n}\n/**\n * Returns the registered gradient info associated with the provided kernel.\n * @param kernelName The official TF kernel name.\n */\nexport function getGradient(kernelName) {\n    return gradRegistry.get(kernelName);\n}\nexport function getKernelsForBackend(backendName) {\n    const it = kernelRegistry.entries();\n    const result = [];\n    while (true) {\n        const { done, value } = it.next();\n        if (done) {\n            break;\n        }\n        const [key, config] = value;\n        const [backend,] = key.split('_');\n        if (backend === backendName) {\n            result.push(config);\n        }\n    }\n    return result;\n}\n/**\n * Registers the function (forward pass) for the kernel in a global registry.\n *\n * @param config A config object with the following properties:\n * - `kernelName` The official name of the kernel.\n * - `backendName` The official name of the backend.\n * - `kernelFunc` The function to run during the forward pass of the kernel.\n * - `setupFunc` Optional. Gets called once, after the backend initializes.\n * - `disposeFunc` Optional. Gets called once, right before the backend is\n * disposed.\n */\nexport function registerKernel(config) {\n    const { kernelName, backendName } = config;\n    const key = makeKey(kernelName, backendName);\n    if (kernelRegistry.has(key)) {\n        console.warn(`The kernel '${kernelName}' for backend ` +\n            `'${backendName}' is already registered`);\n    }\n    kernelRegistry.set(key, config);\n}\n/**\n * Registers a gradient function for a given kernel in the global registry,\n * to be used during the back-propagation of that kernel.\n *\n * @param config An object with the following properties:\n * - `kernelName` The name of the kernel that the gradient function is for.\n * - `gradFunc` The function to run during back-propagation.\n */\nexport function registerGradient(config) {\n    const { kernelName } = config;\n    if (gradRegistry.has(kernelName)) {\n        // TODO (yassogba) after 3.0 assess whether we need to keep this gated\n        // to debug mode.\n        if (env().getBool('DEBUG')) {\n            console.warn(`Overriding the gradient for '${kernelName}'`);\n        }\n    }\n    gradRegistry.set(kernelName, config);\n}\n/**\n * Removes the kernel function from the registry.\n *\n * @param kernelName The official name of the kernel.\n * @param backendName The official name of the backend.\n *\n */\nexport function unregisterKernel(kernelName, backendName) {\n    const key = makeKey(kernelName, backendName);\n    if (!kernelRegistry.has(key)) {\n        throw new Error(`The kernel '${kernelName}' for backend ` +\n            `'${backendName}' is not registered`);\n    }\n    kernelRegistry.delete(key);\n}\n/** Removes the registered gradient from the global registry. */\nexport function unregisterGradient(kernelName) {\n    if (!gradRegistry.has(kernelName)) {\n        throw new Error(`The gradient '${kernelName}' for backend is not registered`);\n    }\n    gradRegistry.delete(kernelName);\n}\nfunction makeKey(kernelName, backendName) {\n    return `${backendName}_${kernelName}`;\n}\n//# sourceMappingURL=kernel_registry.js.map","/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { env } from './environment';\n/**\n * Shuffles the array in-place using Fisher-Yates algorithm.\n *\n * ```js\n * const a = [1, 2, 3, 4, 5];\n * tf.util.shuffle(a);\n * console.log(a);\n * ```\n *\n * @param array The array to shuffle in-place.\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\n// tslint:disable-next-line:no-any\nexport function shuffle(array) {\n    let counter = array.length;\n    let temp = 0;\n    let index = 0;\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        index = (Math.random() * counter) | 0;\n        // Decrease counter by 1\n        counter--;\n        // And swap the last element with it\n        temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n}\n/** Clamps a value to a specified range. */\nexport function clamp(min, x, max) {\n    return Math.max(min, Math.min(x, max));\n}\nexport function nearestLargerEven(val) {\n    return val % 2 === 0 ? val : val + 1;\n}\nexport function sum(arr) {\n    let sum = 0;\n    for (let i = 0; i < arr.length; i++) {\n        sum += arr[i];\n    }\n    return sum;\n}\n/**\n * Returns a sample from a uniform [a, b) distribution.\n *\n * @param a The minimum support (inclusive).\n * @param b The maximum support (exclusive).\n * @return A pseudorandom number on the half-open interval [a,b).\n */\nexport function randUniform(a, b) {\n    const r = Math.random();\n    return (b * r) + (1 - r) * a;\n}\n/** Returns the squared Euclidean distance between two vectors. */\nexport function distSquared(a, b) {\n    let result = 0;\n    for (let i = 0; i < a.length; i++) {\n        const diff = Number(a[i]) - Number(b[i]);\n        result += diff * diff;\n    }\n    return result;\n}\n/**\n * Asserts that the expression is true. Otherwise throws an error with the\n * provided message.\n *\n * ```js\n * const x = 2;\n * tf.util.assert(x === 2, 'x is not 2');\n * ```\n *\n * @param expr The expression to assert (as a boolean).\n * @param msg A function that returns the message to report when throwing an\n *     error. We use a function for performance reasons.\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\nexport function assert(expr, msg) {\n    if (!expr) {\n        throw new Error(typeof msg === 'string' ? msg : msg());\n    }\n}\nexport function assertShapesMatch(shapeA, shapeB, errorMessagePrefix = '') {\n    assert(arraysEqual(shapeA, shapeB), () => errorMessagePrefix + ` Shapes ${shapeA} and ${shapeB} must match`);\n}\nexport function assertNonNull(a) {\n    assert(a != null, () => `The input to the tensor constructor must be a non-null value.`);\n}\n// NOTE: We explicitly type out what T extends instead of any so that\n// util.flatten on a nested array of number doesn't try to infer T as a\n// number[][], causing us to explicitly type util.flatten<number>().\n/**\n *  Flattens an arbitrarily nested array.\n *\n * ```js\n * const a = [[1, 2], [3, 4], [5, [6, [7]]]];\n * const flat = tf.util.flatten(a);\n * console.log(flat);\n * ```\n *\n *  @param arr The nested array to flatten.\n *  @param result The destination array which holds the elements.\n *  @param skipTypedArray If true, avoids flattening the typed arrays. Defaults\n *      to false.\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\nexport function flatten(arr, result = [], skipTypedArray = false) {\n    if (result == null) {\n        result = [];\n    }\n    if (Array.isArray(arr) || isTypedArray(arr) && !skipTypedArray) {\n        for (let i = 0; i < arr.length; ++i) {\n            flatten(arr[i], result, skipTypedArray);\n        }\n    }\n    else {\n        result.push(arr);\n    }\n    return result;\n}\n/**\n * Returns the size (number of elements) of the tensor given its shape.\n *\n * ```js\n * const shape = [3, 4, 2];\n * const size = tf.util.sizeFromShape(shape);\n * console.log(size);\n * ```\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\nexport function sizeFromShape(shape) {\n    if (shape.length === 0) {\n        // Scalar.\n        return 1;\n    }\n    let size = shape[0];\n    for (let i = 1; i < shape.length; i++) {\n        size *= shape[i];\n    }\n    return size;\n}\nexport function isScalarShape(shape) {\n    return shape.length === 0;\n}\nexport function arraysEqual(n1, n2) {\n    if (n1 === n2) {\n        return true;\n    }\n    if (n1 == null || n2 == null) {\n        return false;\n    }\n    if (n1.length !== n2.length) {\n        return false;\n    }\n    for (let i = 0; i < n1.length; i++) {\n        if (n1[i] !== n2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function isInt(a) {\n    return a % 1 === 0;\n}\nexport function tanh(x) {\n    // tslint:disable-next-line:no-any\n    if (Math.tanh != null) {\n        // tslint:disable-next-line:no-any\n        return Math.tanh(x);\n    }\n    if (x === Infinity) {\n        return 1;\n    }\n    else if (x === -Infinity) {\n        return -1;\n    }\n    else {\n        const e2x = Math.exp(2 * x);\n        return (e2x - 1) / (e2x + 1);\n    }\n}\nexport function sizeToSquarishShape(size) {\n    const width = Math.ceil(Math.sqrt(size));\n    return [width, Math.ceil(size / width)];\n}\n/**\n * Creates a new array with randomized indicies to a given quantity.\n *\n * ```js\n * const randomTen = tf.util.createShuffledIndices(10);\n * console.log(randomTen);\n * ```\n *\n * @param number Quantity of how many shuffled indicies to create.\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\nexport function createShuffledIndices(n) {\n    const shuffledIndices = new Uint32Array(n);\n    for (let i = 0; i < n; ++i) {\n        shuffledIndices[i] = i;\n    }\n    shuffle(shuffledIndices);\n    return shuffledIndices;\n}\nexport function rightPad(a, size) {\n    if (size <= a.length) {\n        return a;\n    }\n    return a + ' '.repeat(size - a.length);\n}\nexport function repeatedTry(checkFn, delayFn = (counter) => 0, maxCounter) {\n    return new Promise((resolve, reject) => {\n        let tryCount = 0;\n        const tryFn = () => {\n            if (checkFn()) {\n                resolve();\n                return;\n            }\n            tryCount++;\n            const nextBackoff = delayFn(tryCount);\n            if (maxCounter != null && tryCount >= maxCounter) {\n                reject();\n                return;\n            }\n            setTimeout(tryFn, nextBackoff);\n        };\n        tryFn();\n    });\n}\n/**\n * Given the full size of the array and a shape that may contain -1 as the\n * implicit dimension, returns the inferred shape where -1 is replaced.\n * E.g. For shape=[2, -1, 3] and size=24, it will return [2, 4, 3].\n *\n * @param shape The shape, which may contain -1 in some dimension.\n * @param size The full size (number of elements) of the array.\n * @return The inferred shape where -1 is replaced with the inferred size.\n */\nexport function inferFromImplicitShape(shape, size) {\n    let shapeProd = 1;\n    let implicitIdx = -1;\n    for (let i = 0; i < shape.length; ++i) {\n        if (shape[i] >= 0) {\n            shapeProd *= shape[i];\n        }\n        else if (shape[i] === -1) {\n            if (implicitIdx !== -1) {\n                throw Error(`Shapes can only have 1 implicit size. ` +\n                    `Found -1 at dim ${implicitIdx} and dim ${i}`);\n            }\n            implicitIdx = i;\n        }\n        else if (shape[i] < 0) {\n            throw Error(`Shapes can not be < 0. Found ${shape[i]} at dim ${i}`);\n        }\n    }\n    if (implicitIdx === -1) {\n        if (size > 0 && size !== shapeProd) {\n            throw Error(`Size(${size}) must match the product of shape ${shape}`);\n        }\n        return shape;\n    }\n    if (shapeProd === 0) {\n        throw Error(`Cannot infer the missing size in [${shape}] when ` +\n            `there are 0 elements`);\n    }\n    if (size % shapeProd !== 0) {\n        throw Error(`The implicit shape can't be a fractional number. ` +\n            `Got ${size} / ${shapeProd}`);\n    }\n    const newShape = shape.slice();\n    newShape[implicitIdx] = size / shapeProd;\n    return newShape;\n}\nexport function parseAxisParam(axis, shape) {\n    const rank = shape.length;\n    // Normalize input\n    axis = axis == null ? shape.map((s, i) => i) : [].concat(axis);\n    // Check for valid range\n    assert(axis.every(ax => ax >= -rank && ax < rank), () => `All values in axis param must be in range [-${rank}, ${rank}) but ` +\n        `got axis ${axis}`);\n    // Check for only integers\n    assert(axis.every(ax => isInt(ax)), () => `All values in axis param must be integers but ` +\n        `got axis ${axis}`);\n    // Handle negative axis.\n    return axis.map(a => a < 0 ? rank + a : a);\n}\n/** Reduces the shape by removing all dimensions of shape 1. */\nexport function squeezeShape(shape, axis) {\n    const newShape = [];\n    const keptDims = [];\n    const isEmptyArray = axis != null && Array.isArray(axis) && axis.length === 0;\n    const axes = (axis == null || isEmptyArray) ?\n        null :\n        parseAxisParam(axis, shape).sort();\n    let j = 0;\n    for (let i = 0; i < shape.length; ++i) {\n        if (axes != null) {\n            if (axes[j] === i && shape[i] !== 1) {\n                throw new Error(`Can't squeeze axis ${i} since its dim '${shape[i]}' is not 1`);\n            }\n            if ((axes[j] == null || axes[j] > i) && shape[i] === 1) {\n                newShape.push(shape[i]);\n                keptDims.push(i);\n            }\n            if (axes[j] <= i) {\n                j++;\n            }\n        }\n        if (shape[i] !== 1) {\n            newShape.push(shape[i]);\n            keptDims.push(i);\n        }\n    }\n    return { newShape, keptDims };\n}\nexport function getTypedArrayFromDType(dtype, size) {\n    let values = null;\n    if (dtype == null || dtype === 'float32') {\n        values = new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        values = new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        values = new Uint8Array(size);\n    }\n    else {\n        throw new Error(`Unknown data type ${dtype}`);\n    }\n    return values;\n}\nexport function getArrayFromDType(dtype, size) {\n    let values = null;\n    if (dtype == null || dtype === 'float32') {\n        values = new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        values = new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        values = new Uint8Array(size);\n    }\n    else if (dtype === 'string') {\n        values = new Array(size);\n    }\n    else {\n        throw new Error(`Unknown data type ${dtype}`);\n    }\n    return values;\n}\nexport function checkConversionForErrors(vals, dtype) {\n    for (let i = 0; i < vals.length; i++) {\n        const num = vals[i];\n        if (isNaN(num) || !isFinite(num)) {\n            throw Error(`A tensor of type ${dtype} being uploaded contains ${num}.`);\n        }\n    }\n}\n/** Returns true if the dtype is valid. */\nexport function isValidDtype(dtype) {\n    return dtype === 'bool' || dtype === 'complex64' || dtype === 'float32' ||\n        dtype === 'int32' || dtype === 'string';\n}\n/**\n * Returns true if the new type can't encode the old type without loss of\n * precision.\n */\nexport function hasEncodingLoss(oldType, newType) {\n    if (newType === 'complex64') {\n        return false;\n    }\n    if (newType === 'float32' && oldType !== 'complex64') {\n        return false;\n    }\n    if (newType === 'int32' && oldType !== 'float32' && oldType !== 'complex64') {\n        return false;\n    }\n    if (newType === 'bool' && oldType === 'bool') {\n        return false;\n    }\n    return true;\n}\nexport function isTypedArray(a) {\n    return a instanceof Float32Array || a instanceof Int32Array ||\n        a instanceof Uint8Array;\n}\nexport function bytesPerElement(dtype) {\n    if (dtype === 'float32' || dtype === 'int32') {\n        return 4;\n    }\n    else if (dtype === 'complex64') {\n        return 8;\n    }\n    else if (dtype === 'bool') {\n        return 1;\n    }\n    else {\n        throw new Error(`Unknown dtype ${dtype}`);\n    }\n}\n/**\n * Returns the approximate number of bytes allocated in the string array - 2\n * bytes per character. Computing the exact bytes for a native string in JS is\n * not possible since it depends on the encoding of the html page that serves\n * the website.\n */\nexport function bytesFromStringArray(arr) {\n    if (arr == null) {\n        return 0;\n    }\n    let bytes = 0;\n    arr.forEach(x => bytes += x.length);\n    return bytes;\n}\n/** Returns true if the value is a string. */\nexport function isString(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexport function isBoolean(value) {\n    return typeof value === 'boolean';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function inferDtype(values) {\n    if (Array.isArray(values)) {\n        return inferDtype(values[0]);\n    }\n    if (values instanceof Float32Array) {\n        return 'float32';\n    }\n    else if (values instanceof Int32Array || values instanceof Uint8Array) {\n        return 'int32';\n    }\n    else if (isNumber(values)) {\n        return 'float32';\n    }\n    else if (isString(values)) {\n        return 'string';\n    }\n    else if (isBoolean(values)) {\n        return 'bool';\n    }\n    return 'float32';\n}\nexport function isFunction(f) {\n    return !!(f && f.constructor && f.call && f.apply);\n}\nexport function nearestDivisor(size, start) {\n    for (let i = start; i < size; ++i) {\n        if (size % i === 0) {\n            return i;\n        }\n    }\n    return size;\n}\nexport function computeStrides(shape) {\n    const rank = shape.length;\n    if (rank < 2) {\n        return [];\n    }\n    // Last dimension has implicit stride of 1, thus having D-1 (instead of D)\n    // strides.\n    const strides = new Array(rank - 1);\n    strides[rank - 2] = shape[rank - 1];\n    for (let i = rank - 3; i >= 0; --i) {\n        strides[i] = strides[i + 1] * shape[i + 1];\n    }\n    return strides;\n}\nexport function toTypedArray(a, dtype) {\n    if (dtype === 'string') {\n        throw new Error('Cannot convert a string[] to a TypedArray');\n    }\n    if (Array.isArray(a)) {\n        a = flatten(a);\n    }\n    if (env().getBool('DEBUG')) {\n        checkConversionForErrors(a, dtype);\n    }\n    if (noConversionNeeded(a, dtype)) {\n        return a;\n    }\n    if (dtype == null || dtype === 'float32' || dtype === 'complex64') {\n        return new Float32Array(a);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(a);\n    }\n    else if (dtype === 'bool') {\n        const bool = new Uint8Array(a.length);\n        for (let i = 0; i < bool.length; ++i) {\n            if (Math.round(a[i]) !== 0) {\n                bool[i] = 1;\n            }\n        }\n        return bool;\n    }\n    else {\n        throw new Error(`Unknown data type ${dtype}`);\n    }\n}\nfunction createNestedArray(offset, shape, a) {\n    const ret = new Array();\n    if (shape.length === 1) {\n        const d = shape[0];\n        for (let i = 0; i < d; i++) {\n            ret[i] = a[offset + i];\n        }\n    }\n    else {\n        const d = shape[0];\n        const rest = shape.slice(1);\n        const len = rest.reduce((acc, c) => acc * c);\n        for (let i = 0; i < d; i++) {\n            ret[i] = createNestedArray(offset + i * len, rest, a);\n        }\n    }\n    return ret;\n}\n// Provide a nested array of TypedArray in given shape.\nexport function toNestedArray(shape, a) {\n    if (shape.length === 0) {\n        // Scalar type should return a single number.\n        return a[0];\n    }\n    const size = shape.reduce((acc, c) => acc * c);\n    if (size === 0) {\n        // A tensor with shape zero should be turned into empty list.\n        return [];\n    }\n    if (size !== a.length) {\n        throw new Error(`[${shape}] does not match the input size ${a.length}.`);\n    }\n    return createNestedArray(0, shape, a);\n}\nfunction noConversionNeeded(a, dtype) {\n    return (a instanceof Float32Array && dtype === 'float32') ||\n        (a instanceof Int32Array && dtype === 'int32') ||\n        (a instanceof Uint8Array && dtype === 'bool');\n}\nexport function makeOnesTypedArray(size, dtype) {\n    const array = makeZerosTypedArray(size, dtype);\n    for (let i = 0; i < array.length; i++) {\n        array[i] = 1;\n    }\n    return array;\n}\nexport function makeZerosTypedArray(size, dtype) {\n    if (dtype == null || dtype === 'float32' || dtype === 'complex64') {\n        return new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        return new Uint8Array(size);\n    }\n    else {\n        throw new Error(`Unknown data type ${dtype}`);\n    }\n}\n/**\n * Make nested `TypedArray` filled with zeros.\n * @param shape The shape information for the nested array.\n * @param dtype dtype of the array element.\n */\nexport function makeZerosNestedTypedArray(shape, dtype) {\n    const size = shape.reduce((prev, curr) => prev * curr, 1);\n    if (dtype == null || dtype === 'float32') {\n        return toNestedArray(shape, new Float32Array(size));\n    }\n    else if (dtype === 'int32') {\n        return toNestedArray(shape, new Int32Array(size));\n    }\n    else if (dtype === 'bool') {\n        return toNestedArray(shape, new Uint8Array(size));\n    }\n    else {\n        throw new Error(`Unknown data type ${dtype}`);\n    }\n}\n/**\n * Returns the current high-resolution time in milliseconds relative to an\n * arbitrary time in the past. It works across different platforms (node.js,\n * browsers).\n *\n * ```js\n * console.log(tf.util.now());\n * ```\n */\n/** @doc {heading: 'Util', namespace: 'util'} */\nexport function now() {\n    return env().platform.now();\n}\nexport function assertNonNegativeIntegerDimensions(shape) {\n    shape.forEach(dimSize => {\n        assert(Number.isInteger(dimSize) && dimSize >= 0, () => `Tensor must have a shape comprised of positive integers but got ` +\n            `shape [${shape}].`);\n    });\n}\n/**\n * Returns a platform-specific implementation of\n * [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API).\n *\n * If `fetch` is defined on the global object (`window`, `process`, etc.),\n * `tf.util.fetch` returns that function.\n *\n * If not, `tf.util.fetch` returns a platform-specific solution.\n *\n * ```js\n * const resource = await tf.util.fetch('https://unpkg.com/@tensorflow/tfjs');\n * // handle response\n * ```\n */\n/** @doc {heading: 'Util'} */\nexport function fetch(path, requestInits) {\n    return env().platform.fetch(path, requestInits);\n}\n/**\n * Encodes the provided string into bytes using the provided encoding scheme.\n *\n * @param s The string to encode.\n * @param encoding The encoding scheme. Defaults to utf-8.\n *\n */\n/** @doc {heading: 'Util'} */\nexport function encodeString(s, encoding = 'utf-8') {\n    encoding = encoding || 'utf-8';\n    return env().platform.encode(s, encoding);\n}\n/**\n * Decodes the provided bytes into a string using the provided encoding scheme.\n * @param bytes The bytes to decode.\n *\n * @param encoding The encoding scheme. Defaults to utf-8.\n */\n/** @doc {heading: 'Util'} */\nexport function decodeString(bytes, encoding = 'utf-8') {\n    encoding = encoding || 'utf-8';\n    return env().platform.decode(bytes, encoding);\n}\n/**\n * Computes flat index for a given location (multidimentionsal index) in a\n * Tensor/multidimensional array.\n *\n * @param locs Location in the tensor.\n * @param rank Rank of the tensor.\n * @param strides Tensor strides.\n */\nexport function locToIndex(locs, rank, strides) {\n    if (rank === 0) {\n        return 0;\n    }\n    else if (rank === 1) {\n        return locs[0];\n    }\n    let index = locs[locs.length - 1];\n    for (let i = 0; i < locs.length - 1; ++i) {\n        index += strides[i] * locs[i];\n    }\n    return index;\n}\n/**\n * Computes the location (multidimensional index) in a tensor/multidimentional\n * array for a given flat index.\n *\n * @param index Index in flat array.\n * @param rank Rank of tensor.\n * @param strides Strides of tensor.\n */\nexport function indexToLoc(index, rank, strides) {\n    if (rank === 0) {\n        return [];\n    }\n    else if (rank === 1) {\n        return [index];\n    }\n    const locs = new Array(rank);\n    for (let i = 0; i < locs.length - 1; ++i) {\n        locs[i] = Math.floor(index / strides[i]);\n        index -= locs[i] * strides[i];\n    }\n    locs[locs.length - 1] = index;\n    return locs;\n}\n//# sourceMappingURL=util.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as util from './util';\nexport class Profiler {\n    constructor(backendTimer, logger) {\n        this.backendTimer = backendTimer;\n        this.logger = logger;\n        if (logger == null) {\n            this.logger = new Logger();\n        }\n    }\n    profileKernel(kernelName, inputs, f) {\n        let outputs;\n        const holdResultWrapperFn = () => {\n            outputs = f();\n        };\n        const timer = this.backendTimer.time(holdResultWrapperFn);\n        outputs.map(r => {\n            // Dangling promise here because we don't want to propagate up\n            // asynchronicity.\n            r.data().then(tensorVals => {\n                checkComputationForErrors(tensorVals, r.dtype, kernelName);\n            });\n        });\n        const kernelProfile = {\n            kernelName,\n            outputs,\n            inputs,\n            timeMs: timer.then(timing => timing.kernelMs),\n            extraInfo: timer.then(timing => timing.getExtraProfileInfo != null ?\n                timing.getExtraProfileInfo() :\n                '')\n        };\n        return kernelProfile;\n    }\n    logKernelProfile(kernelProfile) {\n        const { kernelName, outputs, timeMs, inputs, extraInfo } = kernelProfile;\n        outputs.forEach(result => {\n            Promise.all([result.data(), timeMs, extraInfo]).then(valueContainer => {\n                this.logger.logKernelProfile(kernelName, result, valueContainer[0], valueContainer[1], inputs, valueContainer[2]);\n            });\n        });\n    }\n}\nexport function checkComputationForErrors(vals, dtype, kernelName) {\n    if (dtype !== 'float32') {\n        // Only floating point computations will generate NaN values\n        return false;\n    }\n    for (let i = 0; i < vals.length; i++) {\n        const num = vals[i];\n        if (isNaN(num) || !isFinite(num)) {\n            // Throwing custom exception so behavior is testable.\n            console.warn(`Found ${num} in the result of '${kernelName}'`);\n            return true;\n        }\n    }\n    return false;\n}\nexport class Logger {\n    logKernelProfile(name, result, vals, timeMs, inputs, extraInfo) {\n        const time = typeof timeMs === 'number' ? util.rightPad(`${timeMs}ms`, 9) :\n            timeMs['error'];\n        const paddedName = util.rightPad(name, 25);\n        const rank = result.rank;\n        const size = result.size;\n        const shape = util.rightPad(result.shape.toString(), 14);\n        let inputShapesDescription = '';\n        for (const name in inputs) {\n            const input = inputs[name];\n            // The input might be a non-tensor (e.g HTMLImageElement), in which case\n            // we claim the output shape as input shape.\n            const inputShape = input.shape || result.shape;\n            const inputRank = inputShape.length;\n            inputShapesDescription +=\n                `${name}: ${inputRank}D ${inputRank > 0 ? inputShape : ''} `;\n        }\n        console.log(`%c${paddedName}\\t%c${time}\\t%c${rank}D ${shape}\\t%c${size}\\t%c${inputShapesDescription}\\t%c${extraInfo}`, 'font-weight:bold', 'color:red', 'color:blue', 'color: orange', 'color: green', 'color: steelblue');\n    }\n}\n//# sourceMappingURL=profiler.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { computeStrides, isString, rightPad, sizeFromShape } from './util';\n// Maximum number of values before we decide to show ellipsis.\nconst FORMAT_LIMIT_NUM_VALS = 20;\n// Number of first and last values to show when displaying a, b,...,y, z.\nconst FORMAT_NUM_FIRST_LAST_VALS = 3;\n// Number of significant digits to show.\nconst FORMAT_NUM_SIG_DIGITS = 7;\nexport function tensorToString(vals, shape, dtype, verbose) {\n    const strides = computeStrides(shape);\n    const padPerCol = computeMaxSizePerColumn(vals, shape, dtype, strides);\n    const rank = shape.length;\n    const valsLines = subTensorToString(vals, shape, dtype, strides, padPerCol);\n    const lines = ['Tensor'];\n    if (verbose) {\n        lines.push(`  dtype: ${dtype}`);\n        lines.push(`  rank: ${rank}`);\n        lines.push(`  shape: [${shape}]`);\n        lines.push(`  values:`);\n    }\n    lines.push(valsLines.map(l => '    ' + l).join('\\n'));\n    return lines.join('\\n');\n}\nfunction computeMaxSizePerColumn(vals, shape, dtype, strides) {\n    const n = sizeFromShape(shape);\n    const numCols = strides[strides.length - 1];\n    const padPerCol = new Array(numCols).fill(0);\n    const rank = shape.length;\n    const valuesOrTuples = dtype === 'complex64' ? createComplexTuples(vals) : vals;\n    if (rank > 1) {\n        for (let row = 0; row < n / numCols; row++) {\n            const offset = row * numCols;\n            for (let j = 0; j < numCols; j++) {\n                padPerCol[j] = Math.max(padPerCol[j], valToString(valuesOrTuples[offset + j], 0, dtype).length);\n            }\n        }\n    }\n    return padPerCol;\n}\nfunction valToString(val, pad, dtype) {\n    let valStr;\n    if (Array.isArray(val)) {\n        valStr = `${parseFloat(val[0].toFixed(FORMAT_NUM_SIG_DIGITS))} + ` +\n            `${parseFloat(val[1].toFixed(FORMAT_NUM_SIG_DIGITS))}j`;\n    }\n    else if (isString(val)) {\n        valStr = `'${val}'`;\n    }\n    else if (dtype === 'bool') {\n        valStr = boolNumToString(val);\n    }\n    else {\n        valStr = parseFloat(val.toFixed(FORMAT_NUM_SIG_DIGITS)).toString();\n    }\n    return rightPad(valStr, pad);\n}\nfunction boolNumToString(v) {\n    return v === 0 ? 'false' : 'true';\n}\nfunction subTensorToString(vals, shape, dtype, strides, padPerCol, isLast = true) {\n    const storagePerElement = dtype === 'complex64' ? 2 : 1;\n    const size = shape[0];\n    const rank = shape.length;\n    if (rank === 0) {\n        if (dtype === 'complex64') {\n            const complexTuple = createComplexTuples(vals);\n            return [valToString(complexTuple[0], 0, dtype)];\n        }\n        if (dtype === 'bool') {\n            return [boolNumToString(vals[0])];\n        }\n        return [vals[0].toString()];\n    }\n    if (rank === 1) {\n        if (size > FORMAT_LIMIT_NUM_VALS) {\n            const firstValsSize = FORMAT_NUM_FIRST_LAST_VALS * storagePerElement;\n            let firstVals = Array.from(vals.slice(0, firstValsSize));\n            let lastVals = Array.from(vals.slice((size - FORMAT_NUM_FIRST_LAST_VALS) * storagePerElement, size * storagePerElement));\n            if (dtype === 'complex64') {\n                firstVals = createComplexTuples(firstVals);\n                lastVals = createComplexTuples(lastVals);\n            }\n            return [\n                '[' +\n                    firstVals.map((x, i) => valToString(x, padPerCol[i], dtype))\n                        .join(', ') +\n                    ', ..., ' +\n                    lastVals\n                        .map((x, i) => valToString(x, padPerCol[size - FORMAT_NUM_FIRST_LAST_VALS + i], dtype))\n                        .join(', ') +\n                    ']'\n            ];\n        }\n        const displayVals = dtype === 'complex64' ? createComplexTuples(vals) :\n            Array.from(vals);\n        return [\n            '[' +\n                displayVals.map((x, i) => valToString(x, padPerCol[i], dtype))\n                    .join(', ') +\n                ']'\n        ];\n    }\n    // The array is rank 2 or more.\n    const subshape = shape.slice(1);\n    const substrides = strides.slice(1);\n    const stride = strides[0] * storagePerElement;\n    const lines = [];\n    if (size > FORMAT_LIMIT_NUM_VALS) {\n        for (let i = 0; i < FORMAT_NUM_FIRST_LAST_VALS; i++) {\n            const start = i * stride;\n            const end = start + stride;\n            lines.push(...subTensorToString(vals.slice(start, end), subshape, dtype, substrides, padPerCol, false /* isLast */));\n        }\n        lines.push('...');\n        for (let i = size - FORMAT_NUM_FIRST_LAST_VALS; i < size; i++) {\n            const start = i * stride;\n            const end = start + stride;\n            lines.push(...subTensorToString(vals.slice(start, end), subshape, dtype, substrides, padPerCol, i === size - 1 /* isLast */));\n        }\n    }\n    else {\n        for (let i = 0; i < size; i++) {\n            const start = i * stride;\n            const end = start + stride;\n            lines.push(...subTensorToString(vals.slice(start, end), subshape, dtype, substrides, padPerCol, i === size - 1 /* isLast */));\n        }\n    }\n    const sep = rank === 2 ? ',' : '';\n    lines[0] = '[' + lines[0] + sep;\n    for (let i = 1; i < lines.length - 1; i++) {\n        lines[i] = ' ' + lines[i] + sep;\n    }\n    let newLineSep = ',\\n';\n    for (let i = 2; i < rank; i++) {\n        newLineSep += '\\n';\n    }\n    lines[lines.length - 1] =\n        ' ' + lines[lines.length - 1] + ']' + (isLast ? '' : newLineSep);\n    return lines;\n}\nfunction createComplexTuples(vals) {\n    const complexTuples = [];\n    for (let i = 0; i < vals.length; i += 2) {\n        complexTuples.push([vals[i], vals[i + 1]]);\n    }\n    return complexTuples;\n}\n//# sourceMappingURL=tensor_format.js.map","/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { tensorToString } from './tensor_format';\nimport * as util from './util';\nimport { computeStrides, toNestedArray } from './util';\n/**\n * A mutable object, similar to `tf.Tensor`, that allows users to set values\n * at locations before converting to an immutable `tf.Tensor`.\n *\n * See `tf.buffer` for creating a tensor buffer.\n */\n/** @doc {heading: 'Tensors', subheading: 'Classes'} */\nexport class TensorBuffer {\n    constructor(shape, dtype, values) {\n        this.dtype = dtype;\n        this.shape = shape.slice();\n        this.size = util.sizeFromShape(shape);\n        if (values != null) {\n            const n = values.length;\n            util.assert(n === this.size, () => `Length of values '${n}' does not match the size ` +\n                `inferred by the shape '${this.size}'.`);\n        }\n        if (dtype === 'complex64') {\n            throw new Error(`complex64 dtype TensorBuffers are not supported. Please create ` +\n                `a TensorBuffer for the real and imaginary parts separately and ` +\n                `call tf.complex(real, imag).`);\n        }\n        this.values = values || util.getArrayFromDType(dtype, this.size);\n        this.strides = computeStrides(shape);\n    }\n    /**\n     * Sets a value in the buffer at a given location.\n     *\n     * @param value The value to set.\n     * @param locs  The location indices.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Creation'} */\n    set(value, ...locs) {\n        if (locs.length === 0) {\n            locs = [0];\n        }\n        util.assert(locs.length === this.rank, () => `The number of provided coordinates (${locs.length}) must ` +\n            `match the rank (${this.rank})`);\n        const index = this.locToIndex(locs);\n        this.values[index] = value;\n    }\n    /**\n     * Returns the value in the buffer at the provided location.\n     *\n     * @param locs The location indices.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Creation'} */\n    get(...locs) {\n        if (locs.length === 0) {\n            locs = [0];\n        }\n        let i = 0;\n        for (const loc of locs) {\n            if (loc < 0 || loc >= this.shape[i]) {\n                const msg = `Requested out of range element at ${locs}. ` +\n                    `  Buffer shape=${this.shape}`;\n                throw new Error(msg);\n            }\n            i++;\n        }\n        let index = locs[locs.length - 1];\n        for (let i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return this.values[index];\n    }\n    locToIndex(locs) {\n        if (this.rank === 0) {\n            return 0;\n        }\n        else if (this.rank === 1) {\n            return locs[0];\n        }\n        let index = locs[locs.length - 1];\n        for (let i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return index;\n    }\n    indexToLoc(index) {\n        if (this.rank === 0) {\n            return [];\n        }\n        else if (this.rank === 1) {\n            return [index];\n        }\n        const locs = new Array(this.shape.length);\n        for (let i = 0; i < locs.length - 1; ++i) {\n            locs[i] = Math.floor(index / this.strides[i]);\n            index -= locs[i] * this.strides[i];\n        }\n        locs[locs.length - 1] = index;\n        return locs;\n    }\n    get rank() {\n        return this.shape.length;\n    }\n    /**\n     * Creates an immutable `tf.Tensor` object from the buffer.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Creation'} */\n    toTensor() {\n        return trackerFn().makeTensor(this.values, this.shape, this.dtype);\n    }\n}\n// For tracking tensor creation and disposal.\nlet trackerFn = null;\n// Used by chaining methods to call into ops.\nlet opHandler = null;\n// Used to warn about deprecated methods.\nlet deprecationWarningFn = null;\n// This here so that we can use this method on dev branches and keep the\n// functionality at master.\n// tslint:disable-next-line:no-unused-expression\n[deprecationWarningFn];\n/**\n * An external consumer can register itself as the tensor tracker. This way\n * the Tensor class can notify the tracker for every tensor created and\n * disposed.\n */\nexport function setTensorTracker(fn) {\n    trackerFn = fn;\n}\n/**\n * An external consumer can register itself as the op handler. This way the\n * Tensor class can have chaining methods that call into ops via the op\n * handler.\n */\nexport function setOpHandler(handler) {\n    opHandler = handler;\n}\n/**\n * Sets the deprecation warning function to be used by this file. This way the\n * Tensor class can be a leaf but still use the environment.\n */\nexport function setDeprecationWarningFn(fn) {\n    deprecationWarningFn = fn;\n}\n/**\n * A `tf.Tensor` object represents an immutable, multidimensional array of\n * numbers that has a shape and a data type.\n *\n * See `tf.tensor` for details on how to create a `tf.Tensor`.\n */\n/** @doc {heading: 'Tensors', subheading: 'Classes'} */\nexport class Tensor {\n    constructor(shape, dtype, dataId, id) {\n        /** Whether this tensor has been globally kept. */\n        this.kept = false;\n        this.isDisposedInternal = false;\n        this.shape = shape.slice();\n        this.dtype = dtype || 'float32';\n        this.size = util.sizeFromShape(shape);\n        this.strides = computeStrides(shape);\n        this.dataId = dataId;\n        this.id = id;\n        this.rankType = (this.rank < 5 ? this.rank.toString() : 'higher');\n    }\n    get rank() {\n        return this.shape.length;\n    }\n    /**\n     * Returns a promise of `tf.TensorBuffer` that holds the underlying data.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    async buffer() {\n        const vals = await this.data();\n        return opHandler.buffer(this.shape, this.dtype, vals);\n    }\n    /** Returns a `tf.TensorBuffer` that holds the underlying data. */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    bufferSync() {\n        return opHandler.buffer(this.shape, this.dtype, this.dataSync());\n    }\n    /**\n     * Returns the tensor data as a nested array. The transfer of data is done\n     * asynchronously.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    async array() {\n        const vals = await this.data();\n        return toNestedArray(this.shape, vals);\n    }\n    /**\n     * Returns the tensor data as a nested array. The transfer of data is done\n     * synchronously.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    arraySync() {\n        return toNestedArray(this.shape, this.dataSync());\n    }\n    /**\n     * Asynchronously downloads the values from the `tf.Tensor`. Returns a\n     * promise of `TypedArray` that resolves when the computation has finished.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    async data() {\n        this.throwIfDisposed();\n        const data = trackerFn().read(this.dataId);\n        if (this.dtype === 'string') {\n            const bytes = await data;\n            try {\n                return bytes.map(b => util.decodeString(b));\n            }\n            catch (_a) {\n                throw new Error('Failed to decode the string bytes into utf-8. ' +\n                    'To get the original bytes, call tensor.bytes().');\n            }\n        }\n        return data;\n    }\n    /**\n     * Synchronously downloads the values from the `tf.Tensor`. This blocks the\n     * UI thread until the values are ready, which can cause performance issues.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    dataSync() {\n        this.throwIfDisposed();\n        const data = trackerFn().readSync(this.dataId);\n        if (this.dtype === 'string') {\n            try {\n                return data.map(b => util.decodeString(b));\n            }\n            catch (_a) {\n                throw new Error('Failed to decode the string bytes into utf-8. ' +\n                    'To get the original bytes, call tensor.bytes().');\n            }\n        }\n        return data;\n    }\n    /** Returns the underlying bytes of the tensor's data. */\n    async bytes() {\n        this.throwIfDisposed();\n        const data = await trackerFn().read(this.dataId);\n        if (this.dtype === 'string') {\n            return data;\n        }\n        else {\n            return new Uint8Array(data.buffer);\n        }\n    }\n    /**\n     * Disposes `tf.Tensor` from memory.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        trackerFn().disposeTensor(this);\n        this.isDisposedInternal = true;\n    }\n    get isDisposed() {\n        return this.isDisposedInternal;\n    }\n    throwIfDisposed() {\n        if (this.isDisposed) {\n            throw new Error(`Tensor is disposed.`);\n        }\n    }\n    /**\n     * Prints the `tf.Tensor`. See `tf.print` for details.\n     *\n     * @param verbose Whether to print verbose information about the tensor,\n     *    including dtype and size.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    print(verbose = false) {\n        return opHandler.print(this, verbose);\n    }\n    /** Returns a copy of the tensor. See `tf.clone` for details. */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    clone() {\n        this.throwIfDisposed();\n        return opHandler.clone(this);\n    }\n    /**\n     * Returns a human-readable description of the tensor. Useful for logging.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    toString(verbose = false) {\n        const vals = this.dataSync();\n        return tensorToString(vals, this.shape, this.dtype, verbose);\n    }\n    cast(dtype) {\n        this.throwIfDisposed();\n        return opHandler.cast(this, dtype);\n    }\n    variable(trainable = true, name, dtype) {\n        this.throwIfDisposed();\n        return trackerFn().makeVariable(this, trainable, name, dtype);\n    }\n}\nObject.defineProperty(Tensor, Symbol.hasInstance, {\n    value: (instance) => {\n        return !!instance && instance.dataId != null && instance.shape != null &&\n            instance.dtype != null;\n    }\n});\n/**\n * A mutable `tf.Tensor`, useful for persisting state, e.g. for training.\n */\n/** @doc {heading: 'Tensors', subheading: 'Classes'} */\nexport class Variable extends Tensor {\n    constructor(initialValue, trainable, name, tensorId) {\n        super(initialValue.shape, initialValue.dtype, initialValue.dataId, tensorId);\n        this.trainable = trainable;\n        this.name = name;\n    }\n    /**\n     * Assign a new `tf.Tensor` to this variable. The new `tf.Tensor` must have\n     * the same shape and dtype as the old `tf.Tensor`.\n     *\n     * @param newValue New tensor to be assigned to this variable.\n     */\n    /** @doc {heading: 'Tensors', subheading: 'Classes'} */\n    assign(newValue) {\n        if (newValue.dtype !== this.dtype) {\n            throw new Error(`dtype of the new value (${newValue.dtype}) and ` +\n                `previous value (${this.dtype}) must match`);\n        }\n        if (!util.arraysEqual(newValue.shape, this.shape)) {\n            throw new Error(`shape of the new value (${newValue.shape}) and ` +\n                `previous value (${this.shape}) must match`);\n        }\n        trackerFn().disposeTensor(this);\n        this.dataId = newValue.dataId;\n        trackerFn().incRef(this, null /* backend */);\n    }\n    dispose() {\n        trackerFn().disposeVariable(this);\n        this.isDisposedInternal = true;\n    }\n}\nObject.defineProperty(Variable, Symbol.hasInstance, {\n    value: (instance) => {\n        return instance instanceof Tensor && instance.assign != null &&\n            instance.assign instanceof Function;\n    }\n});\n//# sourceMappingURL=tensor.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { Tensor } from './tensor';\nimport { upcastType } from './types';\nimport { assert } from './util';\nexport function makeTypesMatch(a, b) {\n    if (a.dtype === b.dtype) {\n        return [a, b];\n    }\n    const dtype = upcastType(a.dtype, b.dtype);\n    return [a.cast(dtype), b.cast(dtype)];\n}\nexport function assertTypesMatch(a, b) {\n    assert(a.dtype === b.dtype, () => `The dtypes of the first(${a.dtype}) and` +\n        ` second(${b.dtype}) input must match`);\n}\nexport function isTensorInList(tensor, tensorList) {\n    return tensorList.some(x => x.id === tensor.id);\n}\n/**\n * Extracts any `Tensor`s found within the provided object.\n *\n * @param container an object that may be a `Tensor` or may directly contain\n *   `Tensor`s, such as a `Tensor[]` or `{key: Tensor, ...}`. In general it\n *   is safe to pass any object here, except that `Promise`s are not\n *   supported.\n * @returns An array of `Tensors` found within the passed object. If the\n *   argument is simply a `Tensor', a list containing that `Tensor` is\n *   returned. If the object is not a `Tensor` or does not\n *   contain `Tensors`, an empty list is returned.\n */\nexport function getTensorsInContainer(result) {\n    const list = [];\n    const seen = new Set();\n    walkTensorContainer(result, list, seen);\n    return list;\n}\nfunction walkTensorContainer(container, list, seen) {\n    if (container == null) {\n        return;\n    }\n    if (container instanceof Tensor) {\n        list.push(container);\n        return;\n    }\n    if (!isIterable(container)) {\n        return;\n    }\n    // Iteration over keys works also for arrays.\n    const iterable = container;\n    for (const k in iterable) {\n        const val = iterable[k];\n        if (!seen.has(val)) {\n            seen.add(val);\n            walkTensorContainer(val, list, seen);\n        }\n    }\n}\n// tslint:disable-next-line:no-any\nfunction isIterable(obj) {\n    return Array.isArray(obj) || typeof obj === 'object';\n}\n//# sourceMappingURL=tensor_util.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { Environment, setEnvironmentGlobal } from './environment';\nimport { getGlobalNamespace } from './global_util';\nimport { Add, Cast } from './kernel_names';\nimport { getGradient, getKernel, getKernelsForBackend } from './kernel_registry';\nimport { Profiler } from './profiler';\nimport { backpropagateGradients, getFilteredNodesXToY } from './tape';\nimport { setTensorTracker, Tensor, Variable } from './tensor';\nimport { getTensorsInContainer } from './tensor_util';\nimport * as util from './util';\nimport { bytesFromStringArray, makeOnesTypedArray, now, sizeFromShape } from './util';\nclass EngineState {\n    constructor() {\n        // Public since optimizers will use it.\n        this.registeredVariables = {};\n        this.nextTapeNodeId = 0;\n        this.numBytes = 0;\n        this.numTensors = 0;\n        this.numStringTensors = 0;\n        this.numDataBuffers = 0;\n        // Number of nested tf.grad() statements when computing higher-order\n        // gradients. E.g. `1` for first-order gradients and `2` for second-order\n        // gradients. Used to track if the tape should be removed after a backprop.\n        this.gradientDepth = 0;\n        // Number of nested kernel calls. When kernel depth is greater than 1, we turn\n        // off the tape.\n        this.kernelDepth = 0;\n        this.scopeStack = [];\n        /**\n         * Keeps track of the number of data moves during a kernel execution. We\n         * maintain a stack since kernels can call other kernels, recursively.\n         */\n        this.numDataMovesStack = [];\n        this.nextScopeId = 0;\n        this.tensorInfo = new WeakMap();\n        this.profiling = false;\n        this.activeProfile = { newBytes: 0, newTensors: 0, peakBytes: 0, kernels: [], result: null };\n    }\n    dispose() {\n        for (const variableName in this.registeredVariables) {\n            this.registeredVariables[variableName].dispose();\n        }\n    }\n}\nexport class Engine {\n    constructor(ENV) {\n        this.ENV = ENV;\n        this.registry = {};\n        this.registryFactory = {};\n        this.pendingBackendInitId = 0;\n        this.state = new EngineState();\n    }\n    async ready() {\n        if (this.pendingBackendInit != null) {\n            return this.pendingBackendInit.then(() => { });\n        }\n        if (this.backendInstance != null) {\n            return;\n        }\n        const sortedBackends = this.getSortedBackends();\n        for (let i = 0; i < sortedBackends.length; i++) {\n            const backendName = sortedBackends[i];\n            const success = await this.initializeBackend(backendName).success;\n            if (success) {\n                await this.setBackend(backendName);\n                return;\n            }\n        }\n        throw new Error(`Could not initialize any backends, all backend initializations ` +\n            `failed.`);\n    }\n    get backend() {\n        if (this.pendingBackendInit != null) {\n            throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make ` +\n                `sure to await tf.ready() or await tf.setBackend() before calling ` +\n                `other methods`);\n        }\n        if (this.backendInstance == null) {\n            const { name, asyncInit } = this.initializeBackendsAndReturnBest();\n            if (asyncInit) {\n                throw new Error(`The highest priority backend '${name}' has not yet been ` +\n                    `initialized. Make sure to await tf.ready() or ` +\n                    `await tf.setBackend() before calling other methods`);\n            }\n            this.setBackend(name);\n        }\n        return this.backendInstance;\n    }\n    backendNames() {\n        return Object.keys(this.registryFactory);\n    }\n    findBackend(backendName) {\n        if (!(backendName in this.registry)) {\n            // If the backend hasn't been initialized but we have a registry entry for\n            // it, initialize it and return it.\n            if (backendName in this.registryFactory) {\n                const { asyncInit } = this.initializeBackend(backendName);\n                if (asyncInit) {\n                    // Backend is not ready yet.\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        return this.registry[backendName];\n    }\n    findBackendFactory(backendName) {\n        if (!(backendName in this.registryFactory)) {\n            return null;\n        }\n        return this.registryFactory[backendName].factory;\n    }\n    registerBackend(backendName, factory, priority = 1) {\n        if (backendName in this.registryFactory) {\n            console.warn(`${backendName} backend was already registered. ` +\n                `Reusing existing backend factory.`);\n            return false;\n        }\n        this.registryFactory[backendName] = { factory, priority };\n        return true;\n    }\n    async setBackend(backendName) {\n        if (this.registryFactory[backendName] == null) {\n            throw new Error(`Backend name '${backendName}' not found in registry`);\n        }\n        this.backendName = backendName;\n        if (this.registry[backendName] == null) {\n            this.backendInstance = null;\n            const { success, asyncInit } = this.initializeBackend(backendName);\n            const result = asyncInit ? await success : success;\n            if (!result) {\n                return false;\n            }\n        }\n        this.backendInstance = this.registry[backendName];\n        this.setupRegisteredKernels();\n        // Reset the profiler.\n        this.profiler = new Profiler(this.backendInstance);\n        return true;\n    }\n    setupRegisteredKernels() {\n        const kernels = getKernelsForBackend(this.backendName);\n        kernels.forEach(kernel => {\n            if (kernel.setupFunc != null) {\n                kernel.setupFunc(this.backendInstance);\n            }\n        });\n    }\n    disposeRegisteredKernels(backendName) {\n        const kernels = getKernelsForBackend(backendName);\n        kernels.forEach(kernel => {\n            if (kernel.disposeFunc != null) {\n                kernel.disposeFunc(this.registry[backendName]);\n            }\n        });\n    }\n    /**\n     * Initializes a backend by looking up the backend name in the factory\n     * registry and calling the factory method. Returns a boolean representing\n     * whether the initialization of the backend suceeded. Throws an error if\n     * there is no backend in the factory registry.\n     */\n    initializeBackend(backendName) {\n        const registryFactoryEntry = this.registryFactory[backendName];\n        if (registryFactoryEntry == null) {\n            throw new Error(`Cannot initialize backend ${backendName}, no registration found.`);\n        }\n        try {\n            const backend = registryFactoryEntry.factory();\n            // Test if the factory returns a promise.\n            if (Promise.resolve(backend) === backend) {\n                const promiseId = ++this.pendingBackendInitId;\n                const success = backend\n                    .then(backendInstance => {\n                    // Outdated promise. Another backend was set in the meantime.\n                    if (promiseId < this.pendingBackendInitId) {\n                        return false;\n                    }\n                    this.registry[backendName] = backendInstance;\n                    this.pendingBackendInit = null;\n                    return true;\n                })\n                    .catch(err => {\n                    // Outdated promise. Another backend was set in the meantime.\n                    if (promiseId < this.pendingBackendInitId) {\n                        return false;\n                    }\n                    this.pendingBackendInit = null;\n                    console.warn(`Initialization of backend ${backendName} failed`);\n                    console.warn(err.stack || err.message);\n                    return false;\n                });\n                this.pendingBackendInit = success;\n                return { success, asyncInit: true };\n            }\n            else {\n                this.registry[backendName] = backend;\n                return { success: true, asyncInit: false };\n            }\n        }\n        catch (err) {\n            console.warn(`Initialization of backend ${backendName} failed`);\n            console.warn(err.stack || err.message);\n            return { success: false, asyncInit: false };\n        }\n    }\n    removeBackend(backendName) {\n        if (!(backendName in this.registryFactory)) {\n            throw new Error(`${backendName} backend not found in registry`);\n        }\n        if (this.backendName === backendName && this.pendingBackendInit != null) {\n            // There is a pending promise of the backend we want to remove. Make it\n            // obsolete.\n            this.pendingBackendInitId++;\n        }\n        if (backendName in this.registry) {\n            this.disposeRegisteredKernels(backendName);\n            this.registry[backendName].dispose();\n            delete this.registry[backendName];\n        }\n        delete this.registryFactory[backendName];\n        // Unset the backend if it is active.\n        if (this.backendName === backendName) {\n            this.pendingBackendInit = null;\n            this.backendName = null;\n            this.backendInstance = null;\n        }\n    }\n    getSortedBackends() {\n        if (Object.keys(this.registryFactory).length === 0) {\n            throw new Error('No backend found in registry.');\n        }\n        return Object.keys(this.registryFactory).sort((a, b) => {\n            // Highest priority comes first.\n            return this.registryFactory[b].priority -\n                this.registryFactory[a].priority;\n        });\n    }\n    initializeBackendsAndReturnBest() {\n        const sortedBackends = this.getSortedBackends();\n        for (let i = 0; i < sortedBackends.length; i++) {\n            const backendName = sortedBackends[i];\n            const { success, asyncInit } = this.initializeBackend(backendName);\n            if (asyncInit || success) {\n                return { name: backendName, asyncInit };\n            }\n        }\n        throw new Error(`Could not initialize any backends, all backend initializations ` +\n            `failed.`);\n    }\n    moveData(backend, dataId) {\n        const info = this.state.tensorInfo.get(dataId);\n        const srcBackend = info.backend;\n        const values = this.readSync(dataId);\n        // Delete the tensor from the old backend and move it to the new\n        // backend.\n        srcBackend.disposeData(dataId);\n        info.backend = backend;\n        backend.move(dataId, values, info.shape, info.dtype);\n        if (this.shouldCheckForMemLeaks()) {\n            // Track the number of moves during a kernel execution to correctly\n            // detect memory leaks.\n            this.state.numDataMovesStack[this.state.numDataMovesStack.length - 1]++;\n        }\n    }\n    tidy(nameOrFn, fn) {\n        let name = null;\n        if (fn == null) {\n            // Called with only 1 argument.\n            if (typeof nameOrFn !== 'function') {\n                throw new Error('Please provide a function to tidy()');\n            }\n            fn = nameOrFn;\n        }\n        else {\n            // Called with 2 arguments.\n            if (typeof nameOrFn !== 'string' && !(nameOrFn instanceof String)) {\n                throw new Error('When calling with two arguments, the first argument ' +\n                    'to tidy() must be a string');\n            }\n            if (typeof fn !== 'function') {\n                throw new Error('When calling with two arguments, the 2nd argument ' +\n                    'to tidy() must be a function');\n            }\n            name = nameOrFn;\n            // TODO(nsthorat,smilkov): Do operation logging and performance\n            // profiling.\n        }\n        let result;\n        return this.scopedRun(() => this.startScope(name), () => this.endScope(result), () => {\n            result = fn();\n            if (result instanceof Promise) {\n                console.error('Cannot return a Promise inside of tidy.');\n            }\n            return result;\n        });\n    }\n    scopedRun(start, end, f) {\n        start();\n        try {\n            const res = f();\n            end();\n            return res;\n        }\n        catch (ex) {\n            end();\n            throw ex;\n        }\n    }\n    nextTensorId() {\n        return Engine.nextTensorId++;\n    }\n    nextVariableId() {\n        return Engine.nextVariableId++;\n    }\n    /**\n     * This method is called instead of the public-facing tensor.clone() when\n     * saving a tensor for backwards pass. It makes sure to add the clone\n     * operation to the tape regardless of being called inside a kernel\n     * execution.\n     *\n     * This method will go away once all kernels are modularized since we won't\n     * need to turn off the tape inside runKernel().\n     */\n    clone(x) {\n        const y = this.makeTensorFromDataId(x.dataId, x.shape, x.dtype);\n        const inputs = { x };\n        const grad = (dy) => ({\n            x: () => {\n                const dtype = 'float32';\n                const gradInputs = { x: dy };\n                const attrs = { dtype };\n                return ENGINE.runKernelFunc(backend => backend.cast(dy, dtype), gradInputs, null /* grad */, Cast, attrs);\n            }\n        });\n        const saved = [];\n        this.addTapeNode(this.state.activeScope.name, inputs, [y], grad, saved, {});\n        return y;\n    }\n    /**\n     * Execute a kernel with the given name and return the output tensor.\n     *\n     * @param kernelName The name of the kernel to execute.\n     * @param inputs A map of input names to tensors.\n     * @param attrs A map of attribute names to their values. An attribute is a\n     *     primitive (non-tensor) input to the kernel.\n     * @param inputsToSave A list of tensors, inputs to save for the backprop\n     *     computation.\n     * @param outputsToSave A list of booleans, specifying which output to save\n     *     for the backprop computation. These are booleans since the output\n     * tensors are not visible to the user.\n     */\n    runKernel(kernelName, inputs, attrs, inputsToSave, outputsToSave) {\n        const forwardFunc = null;\n        const backwardsFunc = null;\n        // Call runKernel as a stop-gap until we modularize all kernels.\n        // Once we modularize all kernels, we will remove the existing\n        // `runKernelFunc`.\n        return this.runKernelFunc(forwardFunc, inputs, backwardsFunc, kernelName, attrs, inputsToSave, outputsToSave);\n    }\n    shouldCheckForMemLeaks() {\n        return this.ENV.getBool('IS_TEST');\n    }\n    checkKernelForMemLeak(kernelName, numDataIdsBefore, outInfos) {\n        const numDataIdsAfter = this.backend.numDataIds();\n        // Count the number of data ids associated with the result of the kernel.\n        let numOutputDataIds = 0;\n        outInfos.forEach(info => {\n            // Complex numbers allocate 3 data ids, one for 'real', one for\n            // 'imaginary', and one for the container that holds the former two.\n            numOutputDataIds += (info.dtype === 'complex64' ? 3 : 1);\n        });\n        // Account for the number of moves during kernel execution. A \"data move\"\n        // can happen in the middle of a kernel execution, placing a new (key,value)\n        // pair in the data storage. Since data moves have net zero effect (we\n        // always remove the data from the old backend), we have to cancel them out\n        // when detecting memory leaks.\n        const numMoves = this.state.numDataMovesStack[this.state.numDataMovesStack.length - 1];\n        const dataIdsLeaked = numDataIdsAfter - numDataIdsBefore - numOutputDataIds - numMoves;\n        if (dataIdsLeaked > 0) {\n            throw new Error(`Backend '${this.backendName}' has an internal memory leak ` +\n                `(${dataIdsLeaked} data ids) after running '${kernelName}'`);\n        }\n    }\n    /**\n     * @deprecated Use `runKernel` for newly added kernels. Keep using this method\n     *     only for kernels that are not yet fully modularized.\n     */\n    runKernelFunc(forwardFunc, inputs, backwardsFunc, kernelName, attrs, inputsToSave, outputsToSave) {\n        let outputs;\n        let saved = [];\n        const isTapeOn = this.isTapeOn();\n        if (kernelName == null) {\n            kernelName =\n                this.state.activeScope != null ? this.state.activeScope.name : '';\n        }\n        const startingBytecount = this.state.numBytes;\n        const startingNumTensors = this.state.numTensors;\n        if (this.shouldCheckForMemLeaks()) {\n            this.state.numDataMovesStack.push(0);\n        }\n        let kernelFunc;\n        const kernel = getKernel(kernelName, this.backendName);\n        let out;\n        if (kernel != null) {\n            kernelFunc = () => {\n                const numDataIdsBefore = this.backend.numDataIds();\n                out = kernel.kernelFunc({ inputs, attrs, backend: this.backend });\n                const outInfos = Array.isArray(out) ? out : [out];\n                if (this.shouldCheckForMemLeaks()) {\n                    this.checkKernelForMemLeak(kernelName, numDataIdsBefore, outInfos);\n                }\n                const outTensors = outInfos.map(({ dataId, shape, dtype }) => this.makeTensorFromDataId(dataId, shape, dtype));\n                // Save the inputs and outputs.\n                // Do not save unless we are recording to the tape. Otherwise it would\n                // cause a mem leak since we would never run backprop, which disposes\n                // the kept tensors.\n                if (isTapeOn) {\n                    let tensorsToSave = this.getTensorsForGradient(kernelName, inputs, outTensors);\n                    if (tensorsToSave == null) {\n                        // Fallback for ops that call runKernelFunc and pass in\n                        // inputsToSave and outputsToSave. Currently this is the set of ops\n                        // with kernel support in the WASM backend. Once those ops and\n                        // respective gradients are modularised we can remove this path.\n                        if (outputsToSave == null) {\n                            outputsToSave = [];\n                        }\n                        const outsToSave = outTensors.filter((_, i) => outputsToSave[i]);\n                        tensorsToSave = (inputsToSave || []).slice().concat(outsToSave);\n                    }\n                    saved = this.saveTensorsForBackwardMode(tensorsToSave);\n                }\n                return outTensors;\n            };\n        }\n        else {\n            const saveFunc = (tensors) => {\n                // Do not save unless we are recording to the tape. Otherwise it would\n                // cause a mem leak since we would never run backprop, which disposes\n                // the kept tensors.\n                if (!isTapeOn) {\n                    return;\n                }\n                saved = tensors.map(tensor => this.keep(this.clone(tensor)));\n            };\n            kernelFunc = () => {\n                const numDataIdsBefore = this.backend.numDataIds();\n                out = this.tidy(() => forwardFunc(this.backend, saveFunc));\n                const outs = (Array.isArray(out) ? out : [out]);\n                if (this.shouldCheckForMemLeaks()) {\n                    this.checkKernelForMemLeak(kernelName, numDataIdsBefore, outs);\n                }\n                return outs;\n            };\n        }\n        // Stop recording to a tape when running a kernel.\n        let kernelProfile;\n        this.scopedRun(() => this.state.kernelDepth++, () => this.state.kernelDepth--, () => {\n            if (!this.ENV.getBool('DEBUG') && !this.state.profiling) {\n                outputs = kernelFunc();\n            }\n            else {\n                kernelProfile = this.profiler.profileKernel(kernelName, inputs, () => kernelFunc());\n                if (this.ENV.getBool('DEBUG')) {\n                    this.profiler.logKernelProfile(kernelProfile);\n                }\n                outputs = kernelProfile.outputs;\n            }\n        });\n        if (isTapeOn) {\n            this.addTapeNode(kernelName, inputs, outputs, backwardsFunc, saved, attrs);\n        }\n        if (this.state.profiling) {\n            this.state.activeProfile.kernels.push({\n                name: kernelName,\n                bytesAdded: this.state.numBytes - startingBytecount,\n                totalBytesSnapshot: this.state.numBytes,\n                tensorsAdded: this.state.numTensors - startingNumTensors,\n                totalTensorsSnapshot: this.state.numTensors,\n                inputShapes: Object.keys(inputs).map(key => inputs[key] != null ? inputs[key].shape : null),\n                outputShapes: outputs.map(item => item.shape),\n                kernelTimeMs: kernelProfile.timeMs,\n                extraInfo: kernelProfile.extraInfo\n            });\n        }\n        return (Array.isArray(out) ? outputs : outputs[0]);\n    }\n    /**\n     * Saves tensors used in forward mode for use in backward mode.\n     *\n     * @param tensors the list of tensors to save.\n     */\n    saveTensorsForBackwardMode(tensors) {\n        const saved = tensors.map(tensor => this.keep(this.clone(tensor)));\n        return saved;\n    }\n    /**\n     * Returns a list of tensors to save for a given gradient calculation.\n     *\n     * Returns undefined if their is no registered gradient for this kernel in the\n     * gradient registry.\n     *\n     * @param kernelName name of kernel to look up gradient for.\n     * @param inputs a map of input tensors.\n     * @param outputs an array of output tensors from forward mode of kernel.\n     */\n    getTensorsForGradient(kernelName, inputs, outputs) {\n        const gradConfig = getGradient(kernelName);\n        if (gradConfig != null) {\n            const inputsToSave = gradConfig.inputsToSave || [];\n            const outputsToSave = gradConfig.outputsToSave || [];\n            // If saveAllInputs is true, all inputs will be saved. Otherwise, inputs\n            // specified in inputsToSave will be saved.\n            let inputTensorsToSave;\n            if (gradConfig.saveAllInputs) {\n                util.assert(Array.isArray(inputs), () => 'saveAllInputs is true, expected inputs to be an array.');\n                inputTensorsToSave = Object.keys(inputs).map((key) => inputs[key]);\n            }\n            else {\n                inputTensorsToSave = inputsToSave.map((inputName) => inputs[inputName]);\n            }\n            const outputTensorsToSave = outputs.filter((_, i) => outputsToSave[i]);\n            return inputTensorsToSave.concat(outputTensorsToSave);\n        }\n        // TODO(yassogba) throw exception here once all runkernelFunc calls with\n        // inputsToSave/outputsToSave are removed\n        return null;\n    }\n    /**\n     * Internal method used by public APIs for tensor creation. Makes a new\n     * tensor with the provided shape, dtype and values. It always\n     * creates a new data id and writes the values to the underlying backend.\n     */\n    makeTensor(values, shape, dtype, backend) {\n        if (values == null) {\n            throw new Error('Values passed to engine.makeTensor() are null');\n        }\n        dtype = dtype || 'float32';\n        backend = backend || this.backend;\n        let backendVals = values;\n        if (dtype === 'string' && util.isString(values[0])) {\n            backendVals = values.map(d => util.encodeString(d));\n        }\n        const dataId = backend.write(backendVals, shape, dtype);\n        const t = new Tensor(shape, dtype, dataId, this.nextTensorId());\n        this.incRef(t, backend);\n        // Count bytes for string tensors.\n        if (dtype === 'string') {\n            const info = this.state.tensorInfo.get(dataId);\n            const newBytes = bytesFromStringArray(backendVals);\n            this.state.numBytes += newBytes - info.bytes;\n            info.bytes = newBytes;\n        }\n        return t;\n    }\n    /**\n     * Internal method used by backends. Makes a new tensor\n     * that is a wrapper around an existing data id. It doesn't create\n     * a new data id, only increments the ref count used in memory tracking.\n     */\n    makeTensorFromDataId(dataId, shape, dtype, backend) {\n        dtype = dtype || 'float32';\n        const t = new Tensor(shape, dtype, dataId, this.nextTensorId());\n        this.incRef(t, backend);\n        return t;\n    }\n    makeVariable(initialValue, trainable = true, name, dtype) {\n        name = name || this.nextVariableId().toString();\n        if (dtype != null && dtype !== initialValue.dtype) {\n            initialValue = initialValue.cast(dtype);\n        }\n        const v = new Variable(initialValue, trainable, name, this.nextTensorId());\n        if (this.state.registeredVariables[v.name] != null) {\n            throw new Error(`Variable with name ${v.name} was already registered`);\n        }\n        this.state.registeredVariables[v.name] = v;\n        this.incRef(v, this.backend);\n        return v;\n    }\n    incRef(a, backend) {\n        const refCount = this.state.tensorInfo.has(a.dataId) ?\n            this.state.tensorInfo.get(a.dataId).refCount :\n            0;\n        this.state.numTensors++;\n        if (a.dtype === 'string') {\n            this.state.numStringTensors++;\n        }\n        if (refCount === 0) {\n            this.state.numDataBuffers++;\n            // Bytes for complex numbers are counted by their components. Bytes for\n            // string tensors are counted when writing values.\n            let bytes = 0;\n            if (a.dtype !== 'complex64' && a.dtype !== 'string') {\n                bytes = a.size * util.bytesPerElement(a.dtype);\n            }\n            this.state.tensorInfo.set(a.dataId, {\n                backend: backend || this.backend,\n                dtype: a.dtype,\n                shape: a.shape,\n                bytes,\n                refCount: 0\n            });\n            this.state.numBytes += bytes;\n        }\n        this.state.tensorInfo.get(a.dataId).refCount++;\n        if (!(a instanceof Variable)) {\n            this.track(a);\n        }\n    }\n    disposeTensor(a) {\n        if (!this.state.tensorInfo.has(a.dataId)) {\n            return;\n        }\n        this.state.numTensors--;\n        if (a.dtype === 'string') {\n            this.state.numStringTensors--;\n        }\n        const info = this.state.tensorInfo.get(a.dataId);\n        const refCount = info.refCount;\n        if (refCount <= 1) {\n            // Don't count bytes for complex numbers as they are counted by their\n            // components.\n            if (a.dtype !== 'complex64') {\n                this.state.numBytes -= info.bytes;\n            }\n            this.state.numDataBuffers--;\n            info.backend.disposeData(a.dataId);\n            this.state.tensorInfo.delete(a.dataId);\n        }\n        else {\n            this.state.tensorInfo.get(a.dataId).refCount--;\n        }\n        // TODO(nsthorat): Construct an error and save the stack trace for\n        // debugging when in debug mode. Creating a stack trace is too expensive\n        // to do unconditionally.\n    }\n    disposeVariables() {\n        for (const varName in this.state.registeredVariables) {\n            const v = this.state.registeredVariables[varName];\n            this.disposeVariable(v);\n        }\n    }\n    disposeVariable(v) {\n        this.disposeTensor(v);\n        if (this.state.registeredVariables[v.name] != null) {\n            delete this.state.registeredVariables[v.name];\n        }\n    }\n    memory() {\n        const info = this.backend.memory();\n        info.numTensors = this.state.numTensors;\n        info.numDataBuffers = this.state.numDataBuffers;\n        info.numBytes = this.state.numBytes;\n        if (this.state.numStringTensors > 0) {\n            info.unreliable = true;\n            if (info.reasons == null) {\n                info.reasons = [];\n            }\n            info.reasons.push('Memory usage by string tensors is approximate ' +\n                '(2 bytes per character)');\n        }\n        return info;\n    }\n    async profile(query) {\n        this.state.profiling = true;\n        const startBytes = this.state.numBytes;\n        const startNumTensors = this.state.numTensors;\n        this.state.activeProfile.kernels = [];\n        this.state.activeProfile.result = await query();\n        this.state.profiling = false;\n        this.state.activeProfile.peakBytes = Math.max(...this.state.activeProfile.kernels.map(d => d.totalBytesSnapshot));\n        this.state.activeProfile.newBytes = this.state.numBytes - startBytes;\n        this.state.activeProfile.newTensors =\n            this.state.numTensors - startNumTensors;\n        for (const kernel of this.state.activeProfile.kernels) {\n            kernel.kernelTimeMs = await kernel.kernelTimeMs;\n            kernel.extraInfo = await kernel.extraInfo;\n        }\n        return this.state.activeProfile;\n    }\n    isTapeOn() {\n        return this.state.gradientDepth > 0 && this.state.kernelDepth === 0;\n    }\n    addTapeNode(kernelName, inputs, outputs, gradientsFunc, saved, attrs) {\n        const tapeNode = { id: this.state.nextTapeNodeId++, kernelName, inputs, outputs, saved };\n        const gradConfig = getGradient(kernelName);\n        if (gradConfig != null) {\n            gradientsFunc = gradConfig.gradFunc;\n        }\n        if (gradientsFunc != null) {\n            tapeNode.gradient = (dys) => {\n                // TODO(smilkov): To optimize back-prop, pass dys that are not used in\n                // the backprop graph to the user as null instead of zeros\n                dys = dys.map((dy, i) => {\n                    if (dy == null) {\n                        const output = outputs[i];\n                        const vals = util.makeZerosTypedArray(output.size, output.dtype);\n                        return this.makeTensor(vals, output.shape, output.dtype);\n                    }\n                    return dy;\n                });\n                // Grad functions of ops with single outputs expect a dy, while ops\n                // with multiple outputs expect dys (array of dy).\n                return gradientsFunc(dys.length > 1 ? dys : dys[0], saved, attrs);\n            };\n        }\n        this.state.activeTape.push(tapeNode);\n    }\n    keep(result) {\n        result.kept = true;\n        return result;\n    }\n    startTape() {\n        if (this.state.gradientDepth === 0) {\n            this.state.activeTape = [];\n        }\n        this.state.gradientDepth++;\n    }\n    endTape() {\n        this.state.gradientDepth--;\n    }\n    /**\n     * Start a scope. Use this with endScope() to achieve the same functionality\n     * as scope() without the need for a function closure.\n     */\n    startScope(name) {\n        const scopeInfo = {\n            track: [],\n            name: 'unnamed scope',\n            id: this.state.nextScopeId++\n        };\n        if (name) {\n            scopeInfo.name = name;\n        }\n        this.state.scopeStack.push(scopeInfo);\n        this.state.activeScope = scopeInfo;\n    }\n    /**\n     * End a scope. Use this with startScope() to achieve the same functionality\n     * as scope() without the need for a function closure.\n     */\n    endScope(result) {\n        const tensorsToTrackInParent = getTensorsInContainer(result);\n        const tensorsToTrackInParentSet = new Set(tensorsToTrackInParent.map(t => t.id));\n        // Dispose the arrays tracked in this scope.\n        for (let i = 0; i < this.state.activeScope.track.length; i++) {\n            const tensor = this.state.activeScope.track[i];\n            if (!tensor.kept && !tensorsToTrackInParentSet.has(tensor.id)) {\n                tensor.dispose();\n            }\n        }\n        const oldScope = this.state.scopeStack.pop();\n        this.state.activeScope = this.state.scopeStack.length === 0 ?\n            null :\n            this.state.scopeStack[this.state.scopeStack.length - 1];\n        // Track the current result in the parent scope.\n        tensorsToTrackInParent.forEach(tensor => {\n            // Only track the tensor if was allocated in the inner scope and is not\n            // globally kept.\n            if (!tensor.kept && tensor.scopeId === oldScope.id) {\n                this.track(tensor);\n            }\n        });\n    }\n    /**\n     * Returns gradients of `f` with respect to each of the `xs`. The gradients\n     * returned are of the same length as `xs`, but some might be null if `f`\n     * was not a function of that `x`. It also takes optional dy to multiply the\n     * gradient, which defaults to `1`.\n     */\n    gradients(f, xs, dy, allowNoGradients = false) {\n        util.assert(xs.length > 0, () => 'gradients() received an empty list of xs.');\n        if (dy != null && dy.dtype !== 'float32') {\n            throw new Error(`dy must have 'float32' dtype, but has '${dy.dtype}'`);\n        }\n        const y = this.scopedRun(() => this.startTape(), () => this.endTape(), () => this.tidy('forward', f));\n        util.assert(y instanceof Tensor, () => 'The result y returned by f() must be a tensor.');\n        // Filter out the nodes that don't connect x => y.\n        const filteredTape = getFilteredNodesXToY(this.state.activeTape, xs, y);\n        if (!allowNoGradients && filteredTape.length === 0 && xs.length > 0) {\n            throw new Error('Cannot compute gradient of y=f(x) with respect to x. Make sure ' +\n                'that the f you passed encloses all operations that lead from x ' +\n                'to y.');\n        }\n        return this.tidy('backward', () => {\n            const accumulatedGradientMap = {};\n            accumulatedGradientMap[y.id] = (dy == null) ? ones(y.shape) : dy;\n            // Backprop gradients through the filtered nodes.\n            backpropagateGradients(accumulatedGradientMap, filteredTape, \n            // Pass the tidy function to avoid circular dep with `tape.ts`.\n            f => this.tidy(f), \n            // Pass an add function to avoide a circular dep with `tape.ts`.\n            add);\n            const grads = xs.map(x => accumulatedGradientMap[x.id]);\n            if (this.state.gradientDepth === 0) {\n                // This means that we are not computing higher-order gradients\n                // and can clean up the tape.\n                this.state.activeTape.forEach(node => {\n                    for (const tensor of node.saved) {\n                        tensor.dispose();\n                    }\n                });\n                this.state.activeTape = null;\n            }\n            return { value: y, grads };\n        });\n    }\n    customGrad(f) {\n        util.assert(util.isFunction(f), () => 'The f passed in customGrad(f) must be a function.');\n        return (...inputs) => {\n            util.assert(inputs.every(t => t instanceof Tensor), () => 'The args passed in customGrad(f)(x1, x2,...) must all be ' +\n                'tensors');\n            let res;\n            const inputMap = {};\n            inputs.forEach((input, i) => {\n                inputMap[i] = input;\n            });\n            return this.runKernelFunc((_, save) => {\n                res = f(...[...inputs, save]);\n                util.assert(res.value instanceof Tensor, () => 'The function f passed in customGrad(f) must return an ' +\n                    'object where `obj.value` is a tensor');\n                util.assert(util.isFunction(res.gradFunc), () => 'The function f passed in customGrad(f) must return an ' +\n                    'object where `obj.gradFunc` is a function.');\n                return res.value;\n            }, inputMap, (dy, saved) => {\n                const gradRes = res.gradFunc(dy, saved);\n                const grads = Array.isArray(gradRes) ? gradRes : [gradRes];\n                util.assert(grads.length === inputs.length, () => 'The function f passed in customGrad(f) must return an ' +\n                    'object where `obj.gradFunc` is a function that returns ' +\n                    'the same number of tensors as inputs passed to f(...).');\n                util.assert(grads.every(t => t instanceof Tensor), () => 'The function f passed in customGrad(f) must return an ' +\n                    'object where `obj.gradFunc` is a function that returns ' +\n                    'a list of only tensors.');\n                const gradMap = {};\n                grads.forEach((grad, i) => {\n                    gradMap[i] = () => grad;\n                });\n                return gradMap;\n            });\n        };\n    }\n    readSync(dataId) {\n        // Route the read to the correct backend.\n        const info = this.state.tensorInfo.get(dataId);\n        return info.backend.readSync(dataId);\n    }\n    read(dataId) {\n        // Route the read to the correct backend.\n        const info = this.state.tensorInfo.get(dataId);\n        return info.backend.read(dataId);\n    }\n    async time(query) {\n        const start = now();\n        const timingInfo = await this.backend.time(query);\n        timingInfo.wallMs = now() - start;\n        return timingInfo;\n    }\n    /**\n     * Tracks a Tensor in the current scope to be automatically cleaned up\n     * when the current scope ends, and returns the value.\n     *\n     * @param result The Tensor to track in the current scope.\n     */\n    track(result) {\n        if (this.state.activeScope != null) {\n            result.scopeId = this.state.activeScope.id;\n            this.state.activeScope.track.push(result);\n        }\n        return result;\n    }\n    get registeredVariables() {\n        return this.state.registeredVariables;\n    }\n    /**\n     * Resets the engine state. Removes all backends but does not remove\n     * registered backend factories.\n     */\n    reset() {\n        // Make any pending promise obsolete.\n        this.pendingBackendInitId++;\n        this.state.dispose();\n        this.ENV.reset();\n        this.state = new EngineState();\n        for (const backendName in this.registry) {\n            this.disposeRegisteredKernels(backendName);\n            this.registry[backendName].dispose();\n            delete this.registry[backendName];\n        }\n        this.backendName = null;\n        this.backendInstance = null;\n        this.pendingBackendInit = null;\n    }\n}\nEngine.nextTensorId = 0;\nEngine.nextVariableId = 0;\nfunction ones(shape) {\n    const values = makeOnesTypedArray(sizeFromShape(shape), 'float32');\n    return ENGINE.makeTensor(values, shape, 'float32');\n}\nfunction getOrMakeEngine() {\n    const ns = getGlobalNamespace();\n    if (ns._tfengine == null) {\n        const environment = new Environment(ns);\n        ns._tfengine = new Engine(environment);\n    }\n    setEnvironmentGlobal(ns._tfengine.ENV);\n    // Tell the current tensor interface that the global engine is responsible\n    // for tracking.\n    setTensorTracker(() => ns._tfengine);\n    return ns._tfengine;\n}\nexport const ENGINE = getOrMakeEngine();\n/**\n * A implementation of the add op for use within engine and tape.\n *\n * This allows us to avoid a circular dependency between add.ts and engine.\n * It is exported to be available in tape tests.\n */\nexport function add(a, b) {\n    // We duplicate Add here to avoid a circular dependency with add.ts.\n    const inputs = { a, b };\n    return ENGINE.runKernelFunc((backend, save) => {\n        const res = backend.add(a, b);\n        save([a, b]);\n        return res;\n    }, inputs, null /* gradient */, Add);\n}\n//# sourceMappingURL=engine.js.map","/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as util from './util';\n/**\n * Computes a list of TapeNodes that connect x to y, filtering everything else\n * out and preserving the order of the original tape elements.\n *\n * @param tape The tape elements to filter.\n * @param xs The input Tensors.\n * @param y The output Tensor.\n */\nexport function getFilteredNodesXToY(tape, xs, y) {\n    // Forward pass to compute all the nodes and Tensors that are transitively a\n    // function of x.\n    const tensorsFromX = {};\n    const nodesFromX = {};\n    for (let i = 0; i < xs.length; i++) {\n        tensorsFromX[xs[i].id] = true;\n    }\n    for (let i = 0; i < tape.length; i++) {\n        const node = tape[i];\n        const nodeInputs = node.inputs;\n        for (const inputName in nodeInputs) {\n            const input = nodeInputs[inputName];\n            let anyInputFromX = false;\n            for (let j = 0; j < xs.length; j++) {\n                if (tensorsFromX[input.id]) {\n                    node.outputs.forEach(output => tensorsFromX[output.id] = true);\n                    anyInputFromX = true;\n                    nodesFromX[node.id] = true;\n                    break;\n                }\n            }\n            if (anyInputFromX) {\n                break;\n            }\n        }\n    }\n    // Backward pass to find all of the nodes and Tensors that lead to y.\n    const tensorsLeadToY = {};\n    tensorsLeadToY[y.id] = true;\n    const nodesToY = {};\n    for (let i = tape.length - 1; i >= 0; i--) {\n        const node = tape[i];\n        const nodeInputs = node.inputs;\n        // If any of the outputs lead to y, mark all of the inputs as leading to y.\n        for (let j = 0; j < node.outputs.length; j++) {\n            if (tensorsLeadToY[node.outputs[j].id]) {\n                for (const inputName in nodeInputs) {\n                    tensorsLeadToY[nodeInputs[inputName].id] = true;\n                    nodesToY[node.id] = true;\n                }\n                break;\n            }\n        }\n    }\n    // Return the paths that come from x and lead to y.\n    const filteredTape = [];\n    for (let i = 0; i < tape.length; i++) {\n        const node = tape[i];\n        if (nodesFromX[node.id] && nodesToY[node.id]) {\n            // Prune the inputs from the node that aren't a function of x.\n            const prunedInputs = {};\n            for (const inputName in node.inputs) {\n                const nodeInput = node.inputs[inputName];\n                if (tensorsFromX[nodeInput.id]) {\n                    prunedInputs[inputName] = nodeInput;\n                }\n            }\n            // Copy the node and overwrite inputsAndArgs to the pruned version.\n            const prunedNode = Object.assign({}, node);\n            prunedNode.inputs = prunedInputs;\n            prunedNode.outputs = node.outputs;\n            filteredTape.push(prunedNode);\n        }\n    }\n    return filteredTape;\n}\n/**\n * Backpropagate gradients through the filtered TapeNodes.\n *\n * @param tensorAccumulatedGradientMap A map of Tensor to its gradient. This map\n * is mutated by this method.\n * @param filteredTape The filtered TapeNodes to backprop through.\n */\nexport function backpropagateGradients(tensorAccumulatedGradientMap, filteredTape, tidy, add) {\n    // Walk the tape backward and keep a map of Tensor to its gradient.\n    for (let i = filteredTape.length - 1; i >= 0; i--) {\n        const node = filteredTape[i];\n        const dys = [];\n        node.outputs.forEach(o => {\n            const gradTensor = tensorAccumulatedGradientMap[o.id];\n            if (gradTensor != null) {\n                dys.push(gradTensor);\n            }\n            else {\n                // This particular output is not in the back-propagation subgraph, so it\n                // does not affect the final output, thus we put null for its dy.\n                dys.push(null);\n            }\n        });\n        if (node.gradient == null) {\n            throw new Error(`Cannot compute gradient: gradient function not found ` +\n                `for ${node.kernelName}.`);\n        }\n        // Backprop dy through this node and accumulate gradients over the inputs.\n        const inputGradients = node.gradient(dys);\n        for (const inputName in node.inputs) {\n            if (!(inputName in inputGradients)) {\n                throw new Error(`Cannot backprop through input ${inputName}. ` +\n                    `Available gradients found: ${Object.keys(inputGradients)}.`);\n            }\n            // Call the gradient function.\n            const dx = tidy(() => inputGradients[inputName]());\n            if (dx.dtype !== 'float32') {\n                throw new Error(`Error in gradient for op ${node.kernelName}. The gradient of input ` +\n                    `${inputName} must have 'float32' dtype, but has '${dx.dtype}'`);\n            }\n            const x = node.inputs[inputName];\n            if (!util.arraysEqual(dx.shape, x.shape)) {\n                throw new Error(`Error in gradient for op ${node.kernelName}. The gradient of input ` +\n                    `'${inputName}' has shape '${dx.shape}', which does not match ` +\n                    `the shape of the input '${x.shape}'`);\n            }\n            if (tensorAccumulatedGradientMap[x.id] == null) {\n                tensorAccumulatedGradientMap[x.id] = dx;\n            }\n            else {\n                const curGradient = tensorAccumulatedGradientMap[x.id];\n                tensorAccumulatedGradientMap[x.id] = add(curGradient, dx);\n                curGradient.dispose();\n            }\n        }\n    }\n}\n//# sourceMappingURL=tape.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from './engine';\nimport { env } from './environment';\nimport { Tensor } from './tensor';\nimport { assert, flatten, inferDtype, isTypedArray, toTypedArray } from './util';\nexport function inferShape(val, dtype) {\n    let firstElem = val;\n    if (isTypedArray(val)) {\n        return dtype === 'string' ? [] : [val.length];\n    }\n    if (!Array.isArray(val)) {\n        return []; // Scalar.\n    }\n    const shape = [];\n    while (Array.isArray(firstElem) ||\n        isTypedArray(firstElem) && dtype !== 'string') {\n        shape.push(firstElem.length);\n        firstElem = firstElem[0];\n    }\n    if (Array.isArray(val) &&\n        env().getBool('TENSORLIKE_CHECK_SHAPE_CONSISTENCY')) {\n        deepAssertShapeConsistency(val, shape, []);\n    }\n    return shape;\n}\nfunction deepAssertShapeConsistency(val, shape, indices) {\n    indices = indices || [];\n    if (!(Array.isArray(val)) && !isTypedArray(val)) {\n        assert(shape.length === 0, () => `Element arr[${indices.join('][')}] is a primitive, ` +\n            `but should be an array/TypedArray of ${shape[0]} elements`);\n        return;\n    }\n    assert(shape.length > 0, () => `Element arr[${indices.join('][')}] should be a primitive, ` +\n        `but is an array of ${val.length} elements`);\n    assert(val.length === shape[0], () => `Element arr[${indices.join('][')}] should have ${shape[0]} ` +\n        `elements, but has ${val.length} elements`);\n    const subShape = shape.slice(1);\n    for (let i = 0; i < val.length; ++i) {\n        deepAssertShapeConsistency(val[i], subShape, indices.concat(i));\n    }\n}\nfunction assertDtype(expectedDtype, actualDType, argName, functionName) {\n    if (expectedDtype == null) {\n        return;\n    }\n    if (expectedDtype !== 'numeric' && expectedDtype !== actualDType ||\n        expectedDtype === 'numeric' && actualDType === 'string') {\n        throw new Error(`Argument '${argName}' passed to '${functionName}' must ` +\n            `be ${expectedDtype} tensor, but got ${actualDType} tensor`);\n    }\n}\nexport function convertToTensor(x, argName, functionName, parseAsDtype = 'numeric') {\n    if (x instanceof Tensor) {\n        assertDtype(parseAsDtype, x.dtype, argName, functionName);\n        return x;\n    }\n    let inferredDtype = inferDtype(x);\n    // If the user expects a bool/int/float, use that info to update the\n    // inferredDtype when it is not a string.\n    if (inferredDtype !== 'string' &&\n        ['bool', 'int32', 'float32'].indexOf(parseAsDtype) >= 0) {\n        inferredDtype = parseAsDtype;\n    }\n    assertDtype(parseAsDtype, inferredDtype, argName, functionName);\n    if ((x == null) ||\n        (!isTypedArray(x) && !Array.isArray(x) && typeof x !== 'number' &&\n            typeof x !== 'boolean' && typeof x !== 'string')) {\n        const type = x == null ? 'null' : x.constructor.name;\n        throw new Error(`Argument '${argName}' passed to '${functionName}' must be a ` +\n            `Tensor or TensorLike, but got '${type}'`);\n    }\n    const inferredShape = inferShape(x, inferredDtype);\n    if (!isTypedArray(x) && !Array.isArray(x)) {\n        x = [x];\n    }\n    const skipTypedArray = true;\n    const values = inferredDtype !== 'string' ?\n        toTypedArray(x, inferredDtype) :\n        flatten(x, [], skipTypedArray);\n    return ENGINE.makeTensor(values, inferredShape, inferredDtype);\n}\nexport function convertToTensorArray(arg, argName, functionName, parseAsDtype = 'numeric') {\n    if (!Array.isArray(arg)) {\n        throw new Error(`Argument ${argName} passed to ${functionName} must be a ` +\n            '`Tensor[]` or `TensorLike[]`');\n    }\n    const tensors = arg;\n    return tensors.map((t, i) => convertToTensor(t, `${argName}[${i}]`, functionName), parseAsDtype);\n}\n//# sourceMappingURL=tensor_util_env.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from '../engine';\n/**\n * Used for wrapping functions that perform math operations on\n * Tensors. The function will be wrapped in a named scope that cleans all\n * memory usage after the function is done.\n */\nexport function op(f) {\n    const keys = Object.keys(f);\n    if (keys.length !== 1) {\n        throw new Error(`Please provide an object with a single key ` +\n            `(operation name) mapping to a function. Got an object with ` +\n            `${keys.length} keys.`);\n    }\n    let opName = keys[0];\n    const fn = f[opName];\n    // Strip the underscore from the end of the function name.\n    if (opName.endsWith('_')) {\n        opName = opName.substring(0, opName.length - 1);\n    }\n    // tslint:disable-next-line:no-any\n    const f2 = (...args) => {\n        ENGINE.startScope(opName);\n        try {\n            const result = fn(...args);\n            if (result instanceof Promise) {\n                console.error('Cannot return a Promise inside of tidy.');\n            }\n            ENGINE.endScope(result);\n            return result;\n        }\n        catch (ex) {\n            ENGINE.endScope(null);\n            throw ex;\n        }\n    };\n    Object.defineProperty(f2, 'name', { value: opName, configurable: true });\n    // tslint:disable-next-line:no-any\n    return f2;\n}\n//# sourceMappingURL=operation.js.map","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from '../engine';\nimport { Reshape } from '../kernel_names';\nimport { convertToTensor } from '../tensor_util_env';\nimport * as util from '../util';\nimport { op } from './operation';\n/**\n * Reshapes a `tf.Tensor` to a given shape.\n *\n * Given an input tensor, returns a new tensor with the same values as the\n * input tensor with shape `shape`.\n *\n * If one component of shape is the special value -1, the size of that\n * dimension is computed so that the total size remains constant. In\n * particular, a shape of [-1] flattens into 1-D. At most one component of\n * shape can be -1.\n *\n * If shape is 1-D or higher, then the operation returns a tensor with shape\n * shape filled with the values of tensor. In this case, the number of\n * elements implied by shape must be the same as the number of elements in\n * tensor.\n *\n * ```js\n * const x = tf.tensor1d([1, 2, 3, 4]);\n * x.reshape([2, 2]).print();\n * ```\n *\n * @param x The input tensor to be reshaped.\n * @param shape An array of integers defining the output tensor shape.\n */\n/** @doc {heading: 'Tensors', subheading: 'Transformations'} */\nfunction reshape_(x, shape) {\n    const $x = convertToTensor(x, 'x', 'reshape', null);\n    shape = util.inferFromImplicitShape(shape, $x.size);\n    util.assert($x.size === util.sizeFromShape(shape), () => 'new shape and old shape must have the same number of elements.');\n    const inputs = { x: $x };\n    const attrs = { shape };\n    const forward = (backend, save) => {\n        save([$x]);\n        return backend.reshape($x, shape);\n    };\n    return ENGINE.runKernelFunc(forward, inputs, null /* grad */, Reshape, attrs);\n}\nexport const reshape = op({ reshape_ });\n//# sourceMappingURL=reshape.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from '../engine';\nimport { Transpose } from '../kernel_names';\nimport { convertToTensor } from '../tensor_util_env';\nimport * as util from '../util';\nimport { op } from './operation';\n/**\n * Transposes the `tf.Tensor`. Permutes the dimensions according to `perm`.\n *\n * The returned `tf.Tensor`'s dimension `i` will correspond to the input\n * dimension `perm[i]`. If `perm` is not given, it is set to `[n-1...0]`,\n * where `n` is the rank of the input `tf.Tensor`. Hence by default, this\n * operation performs a regular matrix transpose on 2-D input `tf.Tensor`s.\n *\n * ```js\n * const a = tf.tensor2d([1, 2, 3, 4, 5, 6], [2, 3]);\n *\n * a.transpose().print();  // or tf.transpose(a)\n * ```\n *\n * @param x The tensor to transpose.\n * @param perm The permutation of the dimensions of a.\n */\n/** @doc {heading: 'Operations', subheading: 'Matrices'} */\nfunction transpose_(x, perm) {\n    const $x = convertToTensor(x, 'x', 'transpose');\n    if (perm == null) {\n        perm = $x.shape.map((s, i) => i).reverse();\n    }\n    util.assert($x.rank === perm.length, () => `Error in transpose: rank of input ${$x.rank} ` +\n        `must match length of perm ${perm}.`);\n    perm.forEach(axis => {\n        util.assert(axis >= 0 && axis < $x.rank, () => `All entries in 'perm' must be between 0 and ${$x.rank - 1}` +\n            ` but got ${perm}`);\n    });\n    if ($x.rank <= 1) {\n        return $x.clone();\n    }\n    const inputs = { x: $x };\n    const attrs = { perm };\n    return ENGINE.runKernelFunc(backend => backend.transpose($x, perm), inputs, null /* gradient */, Transpose, attrs);\n}\nexport const transpose = op({ transpose_ });\n//# sourceMappingURL=transpose.js.map","/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as util from '../util';\n/**\n * Returns true if the axis specifies the inner most dimensions of the\n * array.\n */\nexport function axesAreInnerMostDims(axes, rank) {\n    for (let i = 0; i < axes.length; ++i) {\n        if (axes[axes.length - i - 1] !== rank - 1 - i) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function combineLocations(outputLoc, reduceLoc, axes) {\n    const rank = outputLoc.length + reduceLoc.length;\n    const loc = [];\n    let outIdx = 0;\n    let reduceIdx = 0;\n    for (let dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            loc.push(outputLoc[outIdx++]);\n        }\n        else {\n            loc.push(reduceLoc[reduceIdx++]);\n        }\n    }\n    return loc;\n}\nexport function computeOutAndReduceShapes(aShape, axes) {\n    const outShape = [];\n    const rank = aShape.length;\n    for (let dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            outShape.push(aShape[dim]);\n        }\n    }\n    const reduceShape = axes.map(dim => aShape[dim]);\n    return [outShape, reduceShape];\n}\nexport function expandShapeToKeepDim(shape, axes) {\n    const reduceSubShape = axes.map(x => 1);\n    return combineLocations(shape, reduceSubShape, axes);\n}\nexport function assertAxesAreInnerMostDims(msg, axes, rank) {\n    util.assert(axesAreInnerMostDims(axes, rank), () => `${msg} supports only inner-most axes for now. ` +\n        `Got axes ${axes} and rank-${rank} input.`);\n}\n/**\n * Returns the axes permutation to be used with `tf.transpose`, if such\n * permutation is necessary. Otherwise it returns null. This method is used by\n * operations that operate only on inner-most axes.\n */\nexport function getAxesPermutation(axes, rank) {\n    if (axesAreInnerMostDims(axes, rank)) {\n        return null;\n    }\n    const result = [];\n    for (let i = 0; i < rank; ++i) {\n        if (axes.indexOf(i) === -1) {\n            result.push(i);\n        }\n    }\n    axes.forEach(axis => result.push(axis));\n    return result;\n}\n/** Returns the axes permutation that undoes the original permutation. */\nexport function getUndoAxesPermutation(axes) {\n    return axes.map((axis, i) => [i, axis])\n        .sort((a, b) => a[1] - b[1])\n        .map(x => x[0]);\n}\nexport function getInnerMostAxes(numAxes, rank) {\n    const res = [];\n    for (let i = rank - numAxes; i < rank; ++i) {\n        res.push(i);\n    }\n    return res;\n}\n//# sourceMappingURL=axis_util.js.map","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from '../engine';\nimport { Max } from '../kernel_names';\nimport { convertToTensor } from '../tensor_util_env';\nimport * as util from '../util';\nimport * as axis_util from './axis_util';\nimport { op } from './operation';\nimport { reshape } from './reshape';\nimport { transpose } from './transpose';\n/**\n * Computes the maximum of elements across dimensions of a `tf.Tensor`.\n *\n * Reduces the input along the dimensions given in `axes`. Unless `keepDims`\n * is true, the rank of the `tf.Tensor` is reduced by 1 for each entry in\n * `axes`. If `keepDims` is true, the reduced dimensions are retained with\n * length 1. If `axes` has no entries, all dimensions are reduced, and an\n * `tf.Tensor` with a single element is returned.\n *\n * ```js\n * const x = tf.tensor1d([1, 2, 3]);\n *\n * x.max().print();  // or tf.max(x)\n * ```\n *\n * ```js\n * const x = tf.tensor2d([1, 2, 3, 4], [2, 2]);\n *\n * const axis = 1;\n * x.max(axis).print();  // or tf.max(x, axis)\n * ```\n *\n * @param x The input tensor.\n * @param axis The dimension(s) to reduce. By default it reduces\n *     all dimensions.\n * @param keepDims If true, retains reduced dimensions with size 1.\n */\n/** @doc {heading: 'Operations', subheading: 'Reduction'} */\nfunction max_(x, axis = null, keepDims = false) {\n    const $x = convertToTensor(x, 'x', 'max');\n    const forward = (backend, save) => {\n        const origAxes = util.parseAxisParam(axis, $x.shape);\n        let axes = origAxes;\n        const permutedAxes = axis_util.getAxesPermutation(axes, $x.rank);\n        let maxInput = $x;\n        if (permutedAxes != null) {\n            maxInput = transpose($x, permutedAxes);\n            axes = axis_util.getInnerMostAxes(axes.length, maxInput.rank);\n        }\n        const y = backend.max(maxInput, axes);\n        if (permutedAxes != null) {\n            maxInput.dispose();\n        }\n        let res = y;\n        if (keepDims) {\n            const expandedShape = axis_util.expandShapeToKeepDim(res.shape, util.parseAxisParam(axis, $x.shape));\n            res = reshape(res, expandedShape);\n            y.dispose();\n        }\n        save([$x, res]);\n        return res;\n    };\n    const inputs = { x: $x };\n    const attrs = { reductionIndices: axis, keepDims };\n    return ENGINE.runKernelFunc(forward, inputs, null /* gradient */, Max, attrs);\n}\nexport const max = op({ max_ });\n//# sourceMappingURL=max.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nexport const EPSILON_FLOAT32 = 1e-7;\nexport const EPSILON_FLOAT16 = 1e-4;\n/** Convenient class for storing tensor-related data. */\nexport class DataStorage {\n    constructor(backend, dataMover) {\n        this.backend = backend;\n        this.dataMover = dataMover;\n        this.data = new WeakMap();\n        this.dataIdsCount = 0;\n    }\n    get(dataId) {\n        if (!this.data.has(dataId)) {\n            this.dataMover.moveData(this.backend, dataId);\n        }\n        return this.data.get(dataId);\n    }\n    set(dataId, value) {\n        this.dataIdsCount++;\n        this.data.set(dataId, value);\n    }\n    has(dataId) {\n        return this.data.has(dataId);\n    }\n    delete(dataId) {\n        this.dataIdsCount--;\n        return this.data.delete(dataId);\n    }\n    numDataIds() {\n        return this.dataIdsCount;\n    }\n}\n/**\n * The interface that defines the kernels that should be implemented when\n * adding a new backend. New backends don't need to implement every one of the\n * methods, this can be done gradually (throw an error for unimplemented\n * methods).\n */\nexport class KernelBackend {\n    time(f) {\n        return notYetImplemented('time');\n    }\n    read(dataId) {\n        return notYetImplemented('read');\n    }\n    readSync(dataId) {\n        return notYetImplemented('readSync');\n    }\n    numDataIds() {\n        return notYetImplemented('numDataIds');\n    }\n    disposeData(dataId) {\n        return notYetImplemented('disposeData');\n    }\n    write(values, shape, dtype) {\n        return notYetImplemented('write');\n    }\n    move(dataId, values, shape, dtype) {\n        return notYetImplemented('move');\n    }\n    memory() {\n        return notYetImplemented('memory');\n    }\n    /** Returns the highest precision for floats in bits (e.g. 16 or 32) */\n    floatPrecision() {\n        return notYetImplemented('floatPrecision');\n    }\n    /** Returns the smallest representable number.  */\n    epsilon() {\n        return this.floatPrecision() === 32 ? EPSILON_FLOAT32 : EPSILON_FLOAT16;\n    }\n    batchMatMul(a, b, transposeA, transposeB) {\n        return notYetImplemented('batchMatMul');\n    }\n    fusedBatchMatMul({ a, b, transposeA, transposeB, bias, activation, preluActivationWeights }) {\n        return notYetImplemented('fusedBatchMatMul');\n    }\n    slice(x, begin, size) {\n        return notYetImplemented('slice');\n    }\n    stridedSlice(x, begin, end, strides) {\n        return notYetImplemented('stridedSlice');\n    }\n    unstack(x, axis) {\n        return notYetImplemented('unstack');\n    }\n    reverse(a, axis) {\n        return notYetImplemented('reverse');\n    }\n    concat(tensors, axis) {\n        return notYetImplemented('concat');\n    }\n    neg(a) {\n        return notYetImplemented('neg');\n    }\n    add(a, b) {\n        return notYetImplemented('add');\n    }\n    addN(tensors) {\n        return notYetImplemented('addN');\n    }\n    subtract(a, b) {\n        return notYetImplemented('subtract');\n    }\n    multiply(a, b) {\n        return notYetImplemented('multiply');\n    }\n    realDivide(a, b) {\n        return notYetImplemented('realDivide');\n    }\n    floorDiv(a, b) {\n        return notYetImplemented('floorDiv');\n    }\n    sum(x, axes) {\n        return notYetImplemented('sum');\n    }\n    prod(x, axes) {\n        return notYetImplemented('prod');\n    }\n    unsortedSegmentSum(x, segmentIds, numSegments) {\n        return notYetImplemented('unsortedSegmentSum');\n    }\n    argMin(x, axis) {\n        return notYetImplemented('argMin');\n    }\n    argMax(x, axis) {\n        return notYetImplemented('argMax');\n    }\n    equal(a, b) {\n        return notYetImplemented('equal');\n    }\n    notEqual(a, b) {\n        return notYetImplemented('notEqual');\n    }\n    less(a, b) {\n        return notYetImplemented('less');\n    }\n    lessEqual(a, b) {\n        return notYetImplemented('lessEqual');\n    }\n    greater(a, b) {\n        return notYetImplemented('greater');\n    }\n    greaterEqual(a, b) {\n        return notYetImplemented('greaterEqual');\n    }\n    logicalNot(a) {\n        return notYetImplemented('logicalNot');\n    }\n    logicalAnd(a, b) {\n        return notYetImplemented('logicalAnd');\n    }\n    logicalOr(a, b) {\n        return notYetImplemented('logicalOr');\n    }\n    where(condition) {\n        return notYetImplemented('where');\n    }\n    select(condition, a, b) {\n        return notYetImplemented('select');\n    }\n    topk(x, k, sorted) {\n        return notYetImplemented('topk');\n    }\n    min(x, axes) {\n        return notYetImplemented('min');\n    }\n    minimum(a, b) {\n        return notYetImplemented('minimum');\n    }\n    mod(a, b) {\n        return notYetImplemented('mod');\n    }\n    max(x, axes) {\n        return notYetImplemented('max');\n    }\n    maximum(a, b) {\n        return notYetImplemented('maximum');\n    }\n    all(x, axes) {\n        return notYetImplemented('all');\n    }\n    any(x, axes) {\n        return notYetImplemented('any');\n    }\n    squaredDifference(a, b) {\n        return notYetImplemented('squaredDifference');\n    }\n    ceil(x) {\n        return notYetImplemented('ceil');\n    }\n    floor(x) {\n        return notYetImplemented('floor');\n    }\n    round(x) {\n        return notYetImplemented('round');\n    }\n    sign(x) {\n        return notYetImplemented('sign');\n    }\n    isNaN(x) {\n        return notYetImplemented('isNaN');\n    }\n    isInf(x) {\n        return notYetImplemented('isInf');\n    }\n    isFinite(x) {\n        return notYetImplemented('isFinite');\n    }\n    pow(a, b) {\n        return notYetImplemented('pow');\n    }\n    exp(x) {\n        return notYetImplemented('exp');\n    }\n    expm1(x) {\n        return notYetImplemented('expm1');\n    }\n    softmax(x, dim) {\n        return notYetImplemented('softmax');\n    }\n    log(x) {\n        return notYetImplemented('log');\n    }\n    log1p(x) {\n        return notYetImplemented('log1p');\n    }\n    sqrt(x) {\n        return notYetImplemented('sqrt');\n    }\n    rsqrt(x) {\n        return notYetImplemented('rsqrt');\n    }\n    square(x) {\n        return notYetImplemented('square');\n    }\n    reciprocal(x) {\n        return notYetImplemented('reciprocal');\n    }\n    relu(x) {\n        return notYetImplemented('relu');\n    }\n    relu6(x) {\n        return notYetImplemented('relu6');\n    }\n    prelu(x, a) {\n        return notYetImplemented('prelu');\n    }\n    elu(x) {\n        return notYetImplemented('elu');\n    }\n    eluDer(dy, y) {\n        return notYetImplemented('eluDer');\n    }\n    selu(x) {\n        return notYetImplemented('selu');\n    }\n    int(x) {\n        return notYetImplemented('int');\n    }\n    clip(x, min, max) {\n        return notYetImplemented('clip');\n    }\n    abs(x) {\n        return notYetImplemented('abs');\n    }\n    complexAbs(x) {\n        return notYetImplemented('complexAbs');\n    }\n    sigmoid(x) {\n        return notYetImplemented('sigmoid');\n    }\n    softplus(x) {\n        return notYetImplemented('softplus');\n    }\n    sin(x) {\n        return notYetImplemented('sin');\n    }\n    cos(x) {\n        return notYetImplemented('cos');\n    }\n    tan(x) {\n        return notYetImplemented('tan');\n    }\n    asin(x) {\n        return notYetImplemented('asin');\n    }\n    acos(x) {\n        return notYetImplemented('acos');\n    }\n    atan(x) {\n        return notYetImplemented('atan');\n    }\n    atan2(a, b) {\n        return notYetImplemented('atan2');\n    }\n    sinh(x) {\n        return notYetImplemented('sinh');\n    }\n    cosh(x) {\n        return notYetImplemented('cosh');\n    }\n    tanh(x) {\n        return notYetImplemented('tanh');\n    }\n    asinh(x) {\n        return notYetImplemented('asinh');\n    }\n    acosh(x) {\n        return notYetImplemented('acosh');\n    }\n    atanh(x) {\n        return notYetImplemented('atanh');\n    }\n    erf(x) {\n        return notYetImplemented('erf');\n    }\n    step(x, alpha) {\n        return notYetImplemented('step');\n    }\n    fusedConv2d({ input, filter, convInfo, bias, activation, preluActivationWeights }) {\n        return notYetImplemented('fusedConv2d');\n    }\n    conv2d(x, filter, convInfo) {\n        return notYetImplemented('conv2d');\n    }\n    conv2dDerInput(dy, filter, convInfo) {\n        return notYetImplemented('conv2dDerInput');\n    }\n    conv2dDerFilter(x, dY, convInfo) {\n        return notYetImplemented('conv2dDerFilter');\n    }\n    fusedDepthwiseConv2D({ input, filter, convInfo, bias, activation, preluActivationWeights }) {\n        return notYetImplemented('fusedDepthwiseConv2D');\n    }\n    depthwiseConv2D(input, filter, convInfo) {\n        return notYetImplemented('depthwiseConv2D');\n    }\n    depthwiseConv2DDerInput(dy, filter, convInfo) {\n        return notYetImplemented('depthwiseConv2DDerInput');\n    }\n    depthwiseConv2DDerFilter(x, dY, convInfo) {\n        return notYetImplemented('depthwiseConv2DDerFilter');\n    }\n    conv3d(x, filter, convInfo) {\n        return notYetImplemented('conv3d');\n    }\n    conv3dDerInput(dy, filter, convInfo) {\n        return notYetImplemented('conv3dDerInput');\n    }\n    conv3dDerFilter(x, dY, convInfo) {\n        return notYetImplemented('conv3dDerFilter');\n    }\n    maxPool(x, convInfo) {\n        return notYetImplemented('maxPool');\n    }\n    maxPoolBackprop(dy, x, y, convInfo) {\n        return notYetImplemented('maxPoolBackprop');\n    }\n    avgPool(x, convInfo) {\n        return notYetImplemented('avgPool');\n    }\n    avgPoolBackprop(dy, x, convInfo) {\n        return notYetImplemented('avgPoolBackprop');\n    }\n    avgPool3d(x, convInfo) {\n        return notYetImplemented('avgPool3d');\n    }\n    avgPool3dBackprop(dy, x, convInfo) {\n        return notYetImplemented('avgPool3dBackprop');\n    }\n    maxPool3d(x, convInfo) {\n        return notYetImplemented('maxPool3d');\n    }\n    maxPool3dBackprop(dy, x, y, convInfo) {\n        return notYetImplemented('maxPool3dBackprop');\n    }\n    reshape(x, shape) {\n        return notYetImplemented('reshape');\n    }\n    cast(x, dtype) {\n        return notYetImplemented('cast');\n    }\n    tile(x, reps) {\n        return notYetImplemented('tile');\n    }\n    pad(x, paddings, constantValue) {\n        return notYetImplemented('pad');\n    }\n    transpose(x, perm) {\n        return notYetImplemented('transpose');\n    }\n    gather(x, indices, axis) {\n        return notYetImplemented('gather');\n    }\n    gatherND(x, indices) {\n        return notYetImplemented('gatherND');\n    }\n    scatterND(indices, updates, shape) {\n        return notYetImplemented('scatterND');\n    }\n    batchToSpaceND(x, blockShape, crops) {\n        return notYetImplemented('batchToSpaceND');\n    }\n    spaceToBatchND(x, blockShape, paddings) {\n        return notYetImplemented('spaceToBatchND');\n    }\n    resizeBilinear(x, newHeight, newWidth, alignCorners) {\n        return notYetImplemented('resizeBilinear');\n    }\n    resizeBilinearBackprop(dy, x, alignCorners) {\n        return notYetImplemented('resizeBilinearBackprop');\n    }\n    resizeNearestNeighbor(x, newHEight, newWidth, alignCorners) {\n        return notYetImplemented('resizeNearestNeighbor');\n    }\n    resizeNearestNeighborBackprop(dy, x, alignCorners) {\n        return notYetImplemented('resizeNearestNeighborBackprop');\n    }\n    batchNorm(x, mean, variance, offset, scale, varianceEpsilon) {\n        return notYetImplemented('batchNorm');\n    }\n    localResponseNormalization4D(x, radius, bias, alpha, beta) {\n        return notYetImplemented('localResponseNormalization4D');\n    }\n    LRNGrad(dy, inputImage, outputImage, radius, bias, alpha, beta) {\n        return notYetImplemented('LRNGrad');\n    }\n    multinomial(logits, normalized, numSamples, seed) {\n        return notYetImplemented('multinomial');\n    }\n    oneHot(indices, depth, onValue, offValue) {\n        return notYetImplemented('oneHot');\n    }\n    cumsum(x, axis, exclusive, reverse) {\n        return notYetImplemented('cumsum');\n    }\n    nonMaxSuppression(boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\n        return notYetImplemented('nonMaxSuppression');\n    }\n    fft(x) {\n        return notYetImplemented('fft');\n    }\n    ifft(x) {\n        return notYetImplemented('ifft');\n    }\n    complex(real, imag) {\n        return notYetImplemented('complex');\n    }\n    real(input) {\n        return notYetImplemented('real');\n    }\n    imag(input) {\n        return notYetImplemented('imag');\n    }\n    cropAndResize(image, boxes, boxIndex, cropSize, method, extrapolationValue) {\n        return notYetImplemented('cropAndResize');\n    }\n    depthToSpace(x, blockSize, dataFormat) {\n        return notYetImplemented('depthToSpace');\n    }\n    // Aligns with the \"SplitV\" kernel in TensorFlow.\n    split(value, sizeSplits, axis) {\n        return notYetImplemented('split');\n    }\n    sparseToDense(sparseIndices, sparseValues, outputShape, defaultValue) {\n        return notYetImplemented('sparseToDense');\n    }\n    diag(x) {\n        return notYetImplemented('diag');\n    }\n    fill(shape, value, dtype) {\n        return notYetImplemented('fill');\n    }\n    onesLike(x) {\n        return notYetImplemented('onesLike');\n    }\n    zerosLike(x) {\n        return notYetImplemented('zerosLike');\n    }\n    linspace(start, stop, num) {\n        return notYetImplemented('linspace');\n    }\n    dispose() {\n        return notYetImplemented('dispose');\n    }\n}\nfunction notYetImplemented(kernelName) {\n    throw new Error(`'${kernelName}' not yet implemented or not found in the registry. ` +\n        `Did you forget to import the kernel?`);\n}\n//# sourceMappingURL=backend.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as device_util from './device_util';\nimport { env } from './environment';\nconst ENV = env();\n/**\n * This file contains environment-related flag registrations.\n */\n/** Whether to enable debug mode. */\nENV.registerFlag('DEBUG', () => false, debugValue => {\n    if (debugValue) {\n        console.warn('Debugging mode is ON. The output of every math call will ' +\n            'be downloaded to CPU and checked for NaNs. ' +\n            'This significantly impacts performance.');\n    }\n});\n/** Whether we are in a browser (as versus, say, node.js) environment. */\nENV.registerFlag('IS_BROWSER', () => device_util.isBrowser());\n/** Whether we are in a browser (as versus, say, node.js) environment. */\nENV.registerFlag('IS_NODE', () => (typeof process !== 'undefined') &&\n    (typeof process.versions !== 'undefined') &&\n    (typeof process.versions.node !== 'undefined'));\n/** Whether this browser is Chrome. */\nENV.registerFlag('IS_CHROME', () => typeof navigator !== 'undefined' && navigator != null &&\n    navigator.userAgent != null && /Chrome/.test(navigator.userAgent) &&\n    /Google Inc/.test(navigator.vendor));\n/**\n * True when the environment is \"production\" where we disable safety checks\n * to gain performance.\n */\nENV.registerFlag('PROD', () => false);\n/**\n * Whether to do sanity checks when inferring a shape from user-provided\n * values, used when creating a new tensor.\n */\nENV.registerFlag('TENSORLIKE_CHECK_SHAPE_CONSISTENCY', () => ENV.getBool('DEBUG'));\n/** Whether deprecation warnings are enabled. */\nENV.registerFlag('DEPRECATION_WARNINGS_ENABLED', () => true);\n/** True if running unit tests. */\nENV.registerFlag('IS_TEST', () => false);\n//# sourceMappingURL=flags.js.map","/**\n * @license\n * Copyright 2017 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n// tslint:disable-next-line:no-any\nfunction _isNavigatorDefined() {\n    return typeof navigator !== 'undefined' && navigator != null;\n}\nexport function isMobile() {\n    if (_isNavigatorDefined()) {\n        // tslint:disable-next-line:no-any\n        const a = navigator.userAgent || navigator.vendor || window.opera;\n        // tslint:disable-next-line:max-line-length\n        return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\n            .test(a) ||\n            // tslint:disable-next-line:max-line-length\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n                .test(a.substr(0, 4));\n    }\n    return false;\n}\nexport function isBrowser() {\n    return (typeof window !== 'undefined' && window.document != null) ||\n        //@ts-ignore\n        (typeof WorkerGlobalScope !== 'undefined');\n}\n//# sourceMappingURL=device_util.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { env } from '../environment';\nexport class PlatformBrowser {\n    fetch(path, init) {\n        return fetch(path, init);\n    }\n    now() {\n        return performance.now();\n    }\n    encode(text, encoding) {\n        if (encoding !== 'utf-8' && encoding !== 'utf8') {\n            throw new Error(`Browser's encoder only supports utf-8, but got ${encoding}`);\n        }\n        if (this.textEncoder == null) {\n            this.textEncoder = new TextEncoder();\n        }\n        return this.textEncoder.encode(text);\n    }\n    decode(bytes, encoding) {\n        return new TextDecoder(encoding).decode(bytes);\n    }\n}\nif (env().get('IS_BROWSER')) {\n    env().setPlatform('browser', new PlatformBrowser());\n}\n//# sourceMappingURL=platform_browser.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { env } from '../environment';\n// We are wrapping this within an object so it can be stubbed by Jasmine.\nexport const getNodeFetch = {\n    // tslint:disable-next-line:no-require-imports\n    importFetch: () => require('node-fetch')\n};\nlet systemFetch;\n// These getters and setters are for testing so we don't export a mutable\n// variable.\nexport function resetSystemFetch() {\n    systemFetch = null;\n}\nexport function setSystemFetch(fetchFn) {\n    systemFetch = fetchFn;\n}\nexport function getSystemFetch() {\n    return systemFetch;\n}\nexport class PlatformNode {\n    constructor() {\n        // tslint:disable-next-line:no-require-imports\n        this.util = require('util');\n        // According to the spec, the built-in encoder can do only UTF-8 encoding.\n        // https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/TextEncoder\n        this.textEncoder = new this.util.TextEncoder();\n    }\n    fetch(path, requestInits) {\n        if (env().global.fetch != null) {\n            return env().global.fetch(path, requestInits);\n        }\n        if (systemFetch == null) {\n            systemFetch = getNodeFetch.importFetch();\n        }\n        return systemFetch(path, requestInits);\n    }\n    now() {\n        const time = process.hrtime();\n        return time[0] * 1000 + time[1] / 1000000;\n    }\n    encode(text, encoding) {\n        if (encoding !== 'utf-8' && encoding !== 'utf8') {\n            throw new Error(`Node built-in encoder only supports utf-8, but got ${encoding}`);\n        }\n        return this.textEncoder.encode(text);\n    }\n    decode(bytes, encoding) {\n        if (bytes.length === 0) {\n            return '';\n        }\n        return new this.util.TextDecoder(encoding).decode(bytes);\n    }\n}\nif (env().get('IS_NODE')) {\n    env().setPlatform('node', new PlatformNode());\n}\n//# sourceMappingURL=platform_node.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * =============================================================================\n */\n/** DataType enum. */\nexport var DataType;\n(function (DataType) {\n    DataType[DataType[\"DT_INVALID\"] = 0] = \"DT_INVALID\";\n    DataType[DataType[\"DT_FLOAT\"] = 1] = \"DT_FLOAT\";\n    DataType[DataType[\"DT_DOUBLE\"] = 2] = \"DT_DOUBLE\";\n    DataType[DataType[\"DT_INT32\"] = 3] = \"DT_INT32\";\n    DataType[DataType[\"DT_UINT8\"] = 4] = \"DT_UINT8\";\n    DataType[DataType[\"DT_INT16\"] = 5] = \"DT_INT16\";\n    DataType[DataType[\"DT_INT8\"] = 6] = \"DT_INT8\";\n    DataType[DataType[\"DT_STRING\"] = 7] = \"DT_STRING\";\n    DataType[DataType[\"DT_COMPLEX64\"] = 8] = \"DT_COMPLEX64\";\n    DataType[DataType[\"DT_INT64\"] = 9] = \"DT_INT64\";\n    DataType[DataType[\"DT_BOOL\"] = 10] = \"DT_BOOL\";\n    DataType[DataType[\"DT_QINT8\"] = 11] = \"DT_QINT8\";\n    DataType[DataType[\"DT_QUINT8\"] = 12] = \"DT_QUINT8\";\n    DataType[DataType[\"DT_QINT32\"] = 13] = \"DT_QINT32\";\n    DataType[DataType[\"DT_BFLOAT16\"] = 14] = \"DT_BFLOAT16\";\n    DataType[DataType[\"DT_FLOAT_REF\"] = 101] = \"DT_FLOAT_REF\";\n    DataType[DataType[\"DT_DOUBLE_REF\"] = 102] = \"DT_DOUBLE_REF\";\n    DataType[DataType[\"DT_INT32_REF\"] = 103] = \"DT_INT32_REF\";\n    DataType[DataType[\"DT_UINT8_REF\"] = 104] = \"DT_UINT8_REF\";\n    DataType[DataType[\"DT_INT16_REF\"] = 105] = \"DT_INT16_REF\";\n    DataType[DataType[\"DT_INT8_REF\"] = 106] = \"DT_INT8_REF\";\n    DataType[DataType[\"DT_STRING_REF\"] = 107] = \"DT_STRING_REF\";\n    DataType[DataType[\"DT_COMPLEX64_REF\"] = 108] = \"DT_COMPLEX64_REF\";\n    DataType[DataType[\"DT_INT64_REF\"] = 109] = \"DT_INT64_REF\";\n    DataType[DataType[\"DT_BOOL_REF\"] = 110] = \"DT_BOOL_REF\";\n    DataType[DataType[\"DT_QINT8_REF\"] = 111] = \"DT_QINT8_REF\";\n    DataType[DataType[\"DT_QUINT8_REF\"] = 112] = \"DT_QUINT8_REF\";\n    DataType[DataType[\"DT_QINT32_REF\"] = 113] = \"DT_QINT32_REF\";\n    DataType[DataType[\"DT_BFLOAT16_REF\"] = 114] = \"DT_BFLOAT16_REF\";\n})(DataType || (DataType = {}));\nexport var SaverDef;\n(function (SaverDef) {\n    /** CheckpointFormatVersion enum. */\n    let CheckpointFormatVersion;\n    (function (CheckpointFormatVersion) {\n        CheckpointFormatVersion[CheckpointFormatVersion[\"LEGACY\"] = 0] = \"LEGACY\";\n        CheckpointFormatVersion[CheckpointFormatVersion[\"V1\"] = 1] = \"V1\";\n        CheckpointFormatVersion[CheckpointFormatVersion[\"V2\"] = 2] = \"V2\";\n    })(CheckpointFormatVersion = SaverDef.CheckpointFormatVersion || (SaverDef.CheckpointFormatVersion = {}));\n})(SaverDef || (SaverDef = {}));\n//# sourceMappingURL=compiled_api.js.map","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { env } from '@tensorflow/tfjs-core';\nconst ENV = env();\n/**\n * True if SIMD is supported.\n */\n// From: https://github.com/GoogleChromeLabs/wasm-feature-detect\nENV.registerFlag(\n// This typed array passed in to WebAssembly.validate is WebAssembly binary\n// code. In this case it is a small program that contains SIMD\n// instructions.\n'WASM_HAS_SIMD_SUPPORT', async () => WebAssembly.validate(new Uint8Array([\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3,\n    2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11\n])));\n/**\n * True if threads are supported.\n */\n// From: https://github.com/GoogleChromeLabs/wasm-feature-detect\nENV.registerFlag('WASM_HAS_MULTITHREAD_SUPPORT', async () => {\n    try {\n        // Test for transferability of SABs (needed for Firefox)\n        // https://groups.google.com/forum/#!msg/mozilla.dev.platform/IHkBZlHETpA/dwsMNchWEQAJ\n        new MessageChannel().port1.postMessage(new SharedArrayBuffer(1));\n        // This typed array is a WebAssembly program containing threaded\n        // instructions.\n        return WebAssembly.validate(new Uint8Array([\n            0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 5,\n            4, 1, 3, 1, 1, 10, 11, 1, 9, 0, 65, 0, 254, 16, 2, 0, 26, 11\n        ]));\n    }\n    catch (e) {\n        return false;\n    }\n});\n//# sourceMappingURL=flags_wasm.js.map","\nvar WasmBackendModuleThreadedSimd = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(WasmBackendModuleThreadedSimd) {\n  WasmBackendModuleThreadedSimd = WasmBackendModuleThreadedSimd || {};\n\nfunction GROWABLE_HEAP_I8(){if(wasmMemory.buffer!=buffer){updateGlobalBufferAndViews(wasmMemory.buffer)}return HEAP8}function GROWABLE_HEAP_U8(){if(wasmMemory.buffer!=buffer){updateGlobalBufferAndViews(wasmMemory.buffer)}return HEAPU8}function GROWABLE_HEAP_I32(){if(wasmMemory.buffer!=buffer){updateGlobalBufferAndViews(wasmMemory.buffer)}return HEAP32}function GROWABLE_HEAP_U32(){if(wasmMemory.buffer!=buffer){updateGlobalBufferAndViews(wasmMemory.buffer)}return HEAPU32}function GROWABLE_HEAP_F64(){if(wasmMemory.buffer!=buffer){updateGlobalBufferAndViews(wasmMemory.buffer)}return HEAPF64}var Module=typeof WasmBackendModuleThreadedSimd!==\"undefined\"?WasmBackendModuleThreadedSimd:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var ENVIRONMENT_IS_PTHREAD=Module[\"ENVIRONMENT_IS_PTHREAD\"]||false;if(ENVIRONMENT_IS_PTHREAD){buffer=Module[\"buffer\"];DYNAMIC_BASE=Module[\"DYNAMIC_BASE\"];DYNAMICTOP_PTR=Module[\"DYNAMICTOP_PTR\"]}var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"};var nodeWorkerThreads;try{nodeWorkerThreads=require(\"worker_threads\")}catch(e){console.error('The \"worker_threads\" module is not supported in this node.js build - perhaps a newer version is needed?');throw e}Worker=nodeWorkerThreads.Worker}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}if(ENVIRONMENT_IS_NODE){read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret}}else{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}if(ENVIRONMENT_IS_NODE){if(typeof performance===\"undefined\"){performance=require(\"perf_hooks\").performance}}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var Atomics_load=Atomics.load;var Atomics_store=Atomics.store;var Atomics_compareExchange=Atomics.compareExchange;var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime;if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(typeof WebAssembly!==\"object\"){err(\"no native wasm support detected\")}var wasmMemory;var wasmTable=new WebAssembly.Table({\"initial\":165,\"maximum\":165+0,\"element\":\"anyfunc\"});var wasmModule;var threadInfoStruct=0;var selfThreadId=0;var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];assert(func,\"Cannot call unknown function \"+ident+\", make sure it is exported\");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={\"string\":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},\"array\":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType===\"string\")return UTF8ToString(ret);if(returnType===\"boolean\")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function cwrap(ident,returnType,argTypes,opts){argTypes=argTypes||[];var numericArgs=argTypes.every(function(type){return type===\"number\"});var numericRet=returnType!==\"string\";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}}function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var str=\"\";while(!(idx>=endIdx)){var u0=heap[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(GROWABLE_HEAP_U8(),ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,GROWABLE_HEAP_U8(),outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}function writeArrayToMemory(array,buffer){GROWABLE_HEAP_I8().set(array,buffer)}var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var STACK_BASE=5256288,STACKTOP=STACK_BASE,STACK_MAX=13408,DYNAMIC_BASE=5256288,DYNAMICTOP_PTR=12480;if(ENVIRONMENT_IS_PTHREAD){}var INITIAL_INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;if(ENVIRONMENT_IS_PTHREAD){wasmMemory=Module[\"wasmMemory\"];buffer=Module[\"buffer\"]}else{if(Module[\"wasmMemory\"]){wasmMemory=Module[\"wasmMemory\"]}else{wasmMemory=new WebAssembly.Memory({\"initial\":INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,\"maximum\":2147483648/WASM_PAGE_SIZE,\"shared\":true});if(!(wasmMemory.buffer instanceof SharedArrayBuffer)){err(\"requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag\");if(ENVIRONMENT_IS_NODE){console.log(\"(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)\")}throw Error(\"bad memory\")}}}if(wasmMemory){buffer=wasmMemory.buffer}INITIAL_INITIAL_MEMORY=buffer.byteLength;updateGlobalBufferAndViews(buffer);if(!ENVIRONMENT_IS_PTHREAD){GROWABLE_HEAP_I32()[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE}function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;if(ENVIRONMENT_IS_PTHREAD)runtimeInitialized=true;function preRun(){if(ENVIRONMENT_IS_PTHREAD)return;if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){if(ENVIRONMENT_IS_PTHREAD)return;callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(ENVIRONMENT_IS_PTHREAD)return;if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_ceil=Math.ceil;var Math_floor=Math.floor;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){assert(!ENVIRONMENT_IS_PTHREAD,\"addRunDependency cannot be used in a pthread worker\");runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}if(ENVIRONMENT_IS_PTHREAD)console.error(\"Pthread aborting at \"+(new Error).stack);what+=\"\";out(what);err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";throw new WebAssembly.RuntimeError(what)}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix=\"file://\";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile=\"tfjs-backend-wasm-threaded-simd.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary()})}return new Promise(function(resolve,reject){resolve(getBinary())})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;wasmModule=module;if(!ENVIRONMENT_IS_PTHREAD){var numWorkersToLoad=PThread.unusedWorkers.length;PThread.unusedWorkers.forEach(function(w){PThread.loadWasmModuleToWorker(w,function(){if(!--numWorkersToLoad)removeRunDependency(\"wasm-instantiate\")})})}}if(!ENVIRONMENT_IS_PTHREAD){addRunDependency(\"wasm-instantiate\")}function receiveInstantiatedSource(output){receiveInstance(output[\"instance\"],output[\"module\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}var ASM_CONSTS={};function initPthreadsJS(){PThread.initRuntime()}if(!ENVIRONMENT_IS_PTHREAD)__ATINIT__.push({func:function(){___wasm_call_ctors()}});var __pthread_ptr=0;var __pthread_is_main_runtime_thread=0;var __pthread_is_main_browser_thread=0;function __register_pthread_ptr(pthreadPtr,isMainBrowserThread,isMainRuntimeThread){pthreadPtr=pthreadPtr|0;isMainBrowserThread=isMainBrowserThread|0;isMainRuntimeThread=isMainRuntimeThread|0;__pthread_ptr=pthreadPtr;__pthread_is_main_browser_thread=isMainBrowserThread;__pthread_is_main_runtime_thread=isMainRuntimeThread}Module[\"__register_pthread_ptr\"]=__register_pthread_ptr;var ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};var __main_thread_futex_wait_address=13392;function _emscripten_futex_wake(addr,count){if(addr<=0||addr>GROWABLE_HEAP_I8().length||addr&3!=0||count<0)return-28;if(count==0)return 0;if(count>=2147483647)count=Infinity;var mainThreadWaitAddress=Atomics.load(GROWABLE_HEAP_I32(),__main_thread_futex_wait_address>>2);var mainThreadWoken=0;if(mainThreadWaitAddress==addr){var loadedAddr=Atomics.compareExchange(GROWABLE_HEAP_I32(),__main_thread_futex_wait_address>>2,mainThreadWaitAddress,0);if(loadedAddr==mainThreadWaitAddress){--count;mainThreadWoken=1;if(count<=0)return 1}}var ret=Atomics.notify(GROWABLE_HEAP_I32(),addr>>2,count);if(ret>=0)return ret+mainThreadWoken;throw\"Atomics.notify returned an unexpected value \"+ret}Module[\"_emscripten_futex_wake\"]=_emscripten_futex_wake;function __kill_thread(pthread_ptr){if(ENVIRONMENT_IS_PTHREAD)throw\"Internal Error! _kill_thread() can only ever be called from main application thread!\";if(!pthread_ptr)throw\"Internal Error! Null pthread_ptr in _kill_thread!\";GROWABLE_HEAP_I32()[pthread_ptr+12>>2]=0;var pthread=PThread.pthreads[pthread_ptr];pthread.worker.terminate();PThread.freeThreadData(pthread);PThread.runningWorkers.splice(PThread.runningWorkers.indexOf(pthread.worker),1);pthread.worker.pthread=undefined}function __cancel_thread(pthread_ptr){if(ENVIRONMENT_IS_PTHREAD)throw\"Internal Error! _cancel_thread() can only ever be called from main application thread!\";if(!pthread_ptr)throw\"Internal Error! Null pthread_ptr in _cancel_thread!\";var pthread=PThread.pthreads[pthread_ptr];pthread.worker.postMessage({\"cmd\":\"cancel\"})}function __cleanup_thread(pthread_ptr){if(ENVIRONMENT_IS_PTHREAD)throw\"Internal Error! _cleanup_thread() can only ever be called from main application thread!\";if(!pthread_ptr)throw\"Internal Error! Null pthread_ptr in _cleanup_thread!\";GROWABLE_HEAP_I32()[pthread_ptr+12>>2]=0;var pthread=PThread.pthreads[pthread_ptr];if(pthread){var worker=pthread.worker;PThread.returnWorkerToPool(worker)}}var PThread={MAIN_THREAD_ID:1,mainThreadInfo:{schedPolicy:0,schedPrio:0},unusedWorkers:[],runningWorkers:[],initRuntime:function(){__register_pthread_ptr(PThread.mainThreadBlock,!ENVIRONMENT_IS_WORKER,1);_emscripten_register_main_browser_thread_id(PThread.mainThreadBlock)},initMainThreadBlock:function(){var pthreadPoolSize=8;for(var i=0;i<pthreadPoolSize;++i){PThread.allocateUnusedWorker()}PThread.mainThreadBlock=12640;for(var i=0;i<232/4;++i)GROWABLE_HEAP_U32()[PThread.mainThreadBlock/4+i]=0;GROWABLE_HEAP_I32()[PThread.mainThreadBlock+12>>2]=PThread.mainThreadBlock;var headPtr=PThread.mainThreadBlock+156;GROWABLE_HEAP_I32()[headPtr>>2]=headPtr;var tlsMemory=12880;for(var i=0;i<128;++i)GROWABLE_HEAP_U32()[tlsMemory/4+i]=0;Atomics.store(GROWABLE_HEAP_U32(),PThread.mainThreadBlock+104>>2,tlsMemory);Atomics.store(GROWABLE_HEAP_U32(),PThread.mainThreadBlock+40>>2,PThread.mainThreadBlock);Atomics.store(GROWABLE_HEAP_U32(),PThread.mainThreadBlock+44>>2,42)},initWorker:function(){},pthreads:{},exitHandlers:null,setThreadStatus:function(){},runExitHandlers:function(){if(PThread.exitHandlers!==null){while(PThread.exitHandlers.length>0){PThread.exitHandlers.pop()()}PThread.exitHandlers=null}if(ENVIRONMENT_IS_PTHREAD&&threadInfoStruct)___pthread_tsd_run_dtors()},threadExit:function(exitCode){var tb=_pthread_self();if(tb){Atomics.store(GROWABLE_HEAP_U32(),tb+4>>2,exitCode);Atomics.store(GROWABLE_HEAP_U32(),tb+0>>2,1);Atomics.store(GROWABLE_HEAP_U32(),tb+60>>2,1);Atomics.store(GROWABLE_HEAP_U32(),tb+64>>2,0);PThread.runExitHandlers();_emscripten_futex_wake(tb+0,2147483647);__register_pthread_ptr(0,0,0);threadInfoStruct=0;if(ENVIRONMENT_IS_PTHREAD){postMessage({\"cmd\":\"exit\"})}}},threadCancel:function(){PThread.runExitHandlers();Atomics.store(GROWABLE_HEAP_U32(),threadInfoStruct+4>>2,-1);Atomics.store(GROWABLE_HEAP_U32(),threadInfoStruct+0>>2,1);_emscripten_futex_wake(threadInfoStruct+0,2147483647);threadInfoStruct=selfThreadId=0;__register_pthread_ptr(0,0,0);postMessage({\"cmd\":\"cancelDone\"})},terminateAllThreads:function(){for(var t in PThread.pthreads){var pthread=PThread.pthreads[t];if(pthread&&pthread.worker){PThread.returnWorkerToPool(pthread.worker)}}PThread.pthreads={};for(var i=0;i<PThread.unusedWorkers.length;++i){var worker=PThread.unusedWorkers[i];worker.terminate()}PThread.unusedWorkers=[];for(var i=0;i<PThread.runningWorkers.length;++i){var worker=PThread.runningWorkers[i];var pthread=worker.pthread;PThread.freeThreadData(pthread);worker.terminate()}PThread.runningWorkers=[]},freeThreadData:function(pthread){if(!pthread)return;if(pthread.threadInfoStruct){var tlsMemory=GROWABLE_HEAP_I32()[pthread.threadInfoStruct+104>>2];GROWABLE_HEAP_I32()[pthread.threadInfoStruct+104>>2]=0;_free(tlsMemory);_free(pthread.threadInfoStruct)}pthread.threadInfoStruct=0;if(pthread.allocatedOwnStack&&pthread.stackBase)_free(pthread.stackBase);pthread.stackBase=0;if(pthread.worker)pthread.worker.pthread=null},returnWorkerToPool:function(worker){delete PThread.pthreads[worker.pthread.thread];PThread.unusedWorkers.push(worker);PThread.runningWorkers.splice(PThread.runningWorkers.indexOf(worker),1);PThread.freeThreadData(worker.pthread);worker.pthread=undefined},receiveObjectTransfer:function(data){},loadWasmModuleToWorker:function(worker,onFinishedLoading){worker.onmessage=function(e){var d=e[\"data\"];var cmd=d[\"cmd\"];if(worker.pthread)PThread.currentProxiedOperationCallerThread=worker.pthread.threadInfoStruct;if(d[\"targetThread\"]&&d[\"targetThread\"]!=_pthread_self()){var thread=PThread.pthreads[d.targetThread];if(thread){thread.worker.postMessage(e.data,d[\"transferList\"])}else{console.error('Internal error! Worker sent a message \"'+cmd+'\" to target pthread '+d[\"targetThread\"]+\", but that thread no longer exists!\")}PThread.currentProxiedOperationCallerThread=undefined;return}if(cmd===\"processQueuedMainThreadWork\"){_emscripten_main_thread_process_queued_calls()}else if(cmd===\"spawnThread\"){__spawn_thread(e.data)}else if(cmd===\"cleanupThread\"){__cleanup_thread(d[\"thread\"])}else if(cmd===\"killThread\"){__kill_thread(d[\"thread\"])}else if(cmd===\"cancelThread\"){__cancel_thread(d[\"thread\"])}else if(cmd===\"loaded\"){worker.loaded=true;if(onFinishedLoading)onFinishedLoading(worker);if(worker.runPthread){worker.runPthread();delete worker.runPthread}}else if(cmd===\"print\"){out(\"Thread \"+d[\"threadId\"]+\": \"+d[\"text\"])}else if(cmd===\"printErr\"){err(\"Thread \"+d[\"threadId\"]+\": \"+d[\"text\"])}else if(cmd===\"alert\"){alert(\"Thread \"+d[\"threadId\"]+\": \"+d[\"text\"])}else if(cmd===\"exit\"){var detached=worker.pthread&&Atomics.load(GROWABLE_HEAP_U32(),worker.pthread.thread+68>>2);if(detached){PThread.returnWorkerToPool(worker)}}else if(cmd===\"cancelDone\"){PThread.returnWorkerToPool(worker)}else if(cmd===\"objectTransfer\"){PThread.receiveObjectTransfer(e.data)}else if(e.data.target===\"setimmediate\"){worker.postMessage(e.data)}else{err(\"worker sent an unknown command \"+cmd)}PThread.currentProxiedOperationCallerThread=undefined};worker.onerror=function(e){err(\"pthread sent an error! \"+e.filename+\":\"+e.lineno+\": \"+e.message)};if(ENVIRONMENT_IS_NODE){worker.on(\"message\",function(data){worker.onmessage({data:data})});worker.on(\"error\",function(data){worker.onerror(data)});worker.on(\"exit\",function(data){console.log(\"worker exited - TODO: update the worker queue?\")})}worker.postMessage({\"cmd\":\"load\",\"urlOrBlob\":Module[\"mainScriptUrlOrBlob\"]||_scriptDir,\"wasmMemory\":wasmMemory,\"wasmModule\":wasmModule,\"DYNAMIC_BASE\":DYNAMIC_BASE,\"DYNAMICTOP_PTR\":DYNAMICTOP_PTR})},allocateUnusedWorker:function(){var pthreadMainJs=locateFile(\"tfjs-backend-wasm-threaded-simd.worker.js\");PThread.unusedWorkers.push(new Worker(pthreadMainJs))},getNewWorker:function(){if(PThread.unusedWorkers.length==0){PThread.allocateUnusedWorker();PThread.loadWasmModuleToWorker(PThread.unusedWorkers[0])}if(PThread.unusedWorkers.length>0)return PThread.unusedWorkers.pop();else return null},busySpinWait:function(msecs){var t=performance.now()+msecs;while(performance.now()<t){}}};function establishStackSpace(stackTop,stackMax){STACK_BASE=STACKTOP=stackTop;STACK_MAX=stackMax;stackRestore(stackTop)}Module[\"establishStackSpace\"]=establishStackSpace;function getNoExitRuntime(){return noExitRuntime}Module[\"getNoExitRuntime\"]=getNoExitRuntime;function ___assert_fail(condition,filename,line,func){abort(\"Assertion failed: \"+UTF8ToString(condition)+\", at: \"+[filename?UTF8ToString(filename):\"unknown filename\",line,func?UTF8ToString(func):\"unknown function\"])}function ___call_main(argc,argv){var returnCode=_main(argc,argv)}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process[\"hrtime\"]();return t[0]*1e3+t[1]/1e6}}else if(ENVIRONMENT_IS_PTHREAD){_emscripten_get_now=function(){return performance.now()-Module[\"__performance_now_clock_drift\"]}}else if(typeof dateNow!==\"undefined\"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};function setErrNo(value){GROWABLE_HEAP_I32()[___errno_location()>>2]=value;return value}function _atexit(func,arg){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(1,1,func,arg);__ATEXIT__.unshift({func:func,arg:arg})}function __emscripten_notify_thread_queue(targetThreadId,mainThreadId){if(targetThreadId==mainThreadId){postMessage({\"cmd\":\"processQueuedMainThreadWork\"})}else if(ENVIRONMENT_IS_PTHREAD){postMessage({\"targetThread\":targetThreadId,\"cmd\":\"processThreadQueue\"})}else{var pthread=PThread.pthreads[targetThreadId];var worker=pthread&&pthread.worker;if(!worker){return}worker.postMessage({\"cmd\":\"processThreadQueue\"})}return 1}function _abort(){abort()}function _emscripten_conditional_set_current_thread_status(expectedStatus,newStatus){expectedStatus=expectedStatus|0;newStatus=newStatus|0}function _emscripten_futex_wait(addr,val,timeout){if(addr<=0||addr>GROWABLE_HEAP_I8().length||addr&3!=0)return-28;if(ENVIRONMENT_IS_WORKER){var ret=Atomics.wait(GROWABLE_HEAP_I32(),addr>>2,val,timeout);if(ret===\"timed-out\")return-73;if(ret===\"not-equal\")return-6;if(ret===\"ok\")return 0;throw\"Atomics.wait returned an unexpected value \"+ret}else{var loadedVal=Atomics.load(GROWABLE_HEAP_I32(),addr>>2);if(val!=loadedVal)return-6;var tNow=performance.now();var tEnd=tNow+timeout;Atomics.store(GROWABLE_HEAP_I32(),__main_thread_futex_wait_address>>2,addr);var ourWaitAddress=addr;while(addr==ourWaitAddress){tNow=performance.now();if(tNow>tEnd){return-73}_emscripten_main_thread_process_queued_calls();addr=Atomics.load(GROWABLE_HEAP_I32(),__main_thread_futex_wait_address>>2)}return 0}}function _emscripten_is_main_browser_thread(){return __pthread_is_main_browser_thread|0}function _emscripten_is_main_runtime_thread(){return __pthread_is_main_runtime_thread|0}function _emscripten_memcpy_big(dest,src,num){GROWABLE_HEAP_U8().copyWithin(dest,src,src+num)}function _emscripten_num_logical_cores(){return navigator[\"hardwareConcurrency\"]}function _emscripten_proxy_to_main_thread_js(index,sync){var numCallArgs=arguments.length-2;var stack=stackSave();var args=stackAlloc(numCallArgs*8);var b=args>>3;for(var i=0;i<numCallArgs;i++){GROWABLE_HEAP_F64()[b+i]=arguments[2+i]}var ret=_emscripten_run_in_main_runtime_thread_js(index,numCallArgs,args,sync);stackRestore(stack);return ret}var _emscripten_receive_on_main_thread_js_callArgs=[];function readAsmConstArgs(sigPtr,buf){if(!readAsmConstArgs.array){readAsmConstArgs.array=[]}var args=readAsmConstArgs.array;args.length=0;var ch;while(ch=GROWABLE_HEAP_U8()[sigPtr++]){if(ch===100||ch===102){buf=buf+7&~7;args.push(GROWABLE_HEAP_F64()[buf>>3]);buf+=8}else{buf=buf+3&~3;args.push(GROWABLE_HEAP_I32()[buf>>2]);buf+=4}}return args}function _emscripten_receive_on_main_thread_js(index,numCallArgs,args){_emscripten_receive_on_main_thread_js_callArgs.length=numCallArgs;var b=args>>3;for(var i=0;i<numCallArgs;i++){_emscripten_receive_on_main_thread_js_callArgs[i]=GROWABLE_HEAP_F64()[b+i]}var isEmAsmConst=index<0;var func=!isEmAsmConst?proxiedFunctionTable[index]:ASM_CONSTS[-index-1];if(isEmAsmConst){var sigPtr=_emscripten_receive_on_main_thread_js_callArgs[1];var varargPtr=_emscripten_receive_on_main_thread_js_callArgs[2];var constArgs=readAsmConstArgs(sigPtr,varargPtr);return func.apply(null,constArgs)}return func.apply(null,_emscripten_receive_on_main_thread_js_callArgs)}function _emscripten_get_heap_size(){return GROWABLE_HEAP_U8().length}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){requestedSize=requestedSize>>>0;var oldSize=_emscripten_get_heap_size();if(requestedSize<=oldSize){return false}var PAGE_MULTIPLE=65536;var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){return false}var minHeapSize=16777216;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(minHeapSize,requestedSize,overGrownHeapSize),PAGE_MULTIPLE));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}var JSEvents={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:false,removeAllEventListeners:function(){for(var i=JSEvents.eventHandlers.length-1;i>=0;--i){JSEvents._removeHandler(i)}JSEvents.eventHandlers=[];JSEvents.deferredCalls=[]},registerRemoveEventListeners:function(){if(!JSEvents.removeEventListenersRegistered){__ATEXIT__.push(JSEvents.removeAllEventListeners);JSEvents.removeEventListenersRegistered=true}},deferredCalls:[],deferCall:function(targetFunction,precedence,argsList){function arraysHaveEqualContent(arrA,arrB){if(arrA.length!=arrB.length)return false;for(var i in arrA){if(arrA[i]!=arrB[i])return false}return true}for(var i in JSEvents.deferredCalls){var call=JSEvents.deferredCalls[i];if(call.targetFunction==targetFunction&&arraysHaveEqualContent(call.argsList,argsList)){return}}JSEvents.deferredCalls.push({targetFunction:targetFunction,precedence:precedence,argsList:argsList});JSEvents.deferredCalls.sort(function(x,y){return x.precedence<y.precedence})},removeDeferredCalls:function(targetFunction){for(var i=0;i<JSEvents.deferredCalls.length;++i){if(JSEvents.deferredCalls[i].targetFunction==targetFunction){JSEvents.deferredCalls.splice(i,1);--i}}},canPerformEventHandlerRequests:function(){return JSEvents.inEventHandler&&JSEvents.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!JSEvents.canPerformEventHandlerRequests()){return}for(var i=0;i<JSEvents.deferredCalls.length;++i){var call=JSEvents.deferredCalls[i];JSEvents.deferredCalls.splice(i,1);--i;call.targetFunction.apply(null,call.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],removeAllHandlersOnTarget:function(target,eventTypeString){for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==target&&(!eventTypeString||eventTypeString==JSEvents.eventHandlers[i].eventTypeString)){JSEvents._removeHandler(i--)}}},_removeHandler:function(i){var h=JSEvents.eventHandlers[i];h.target.removeEventListener(h.eventTypeString,h.eventListenerFunc,h.useCapture);JSEvents.eventHandlers.splice(i,1)},registerOrRemoveHandler:function(eventHandler){var jsEventHandler=function jsEventHandler(event){++JSEvents.inEventHandler;JSEvents.currentEventHandler=eventHandler;JSEvents.runDeferredCalls();eventHandler.handlerFunc(event);JSEvents.runDeferredCalls();--JSEvents.inEventHandler};if(eventHandler.callbackfunc){eventHandler.eventListenerFunc=jsEventHandler;eventHandler.target.addEventListener(eventHandler.eventTypeString,jsEventHandler,eventHandler.useCapture);JSEvents.eventHandlers.push(eventHandler);JSEvents.registerRemoveEventListeners()}else{for(var i=0;i<JSEvents.eventHandlers.length;++i){if(JSEvents.eventHandlers[i].target==eventHandler.target&&JSEvents.eventHandlers[i].eventTypeString==eventHandler.eventTypeString){JSEvents._removeHandler(i--)}}}},queueEventHandlerOnThread_iiii:function(targetThread,eventHandlerFunc,eventTypeId,eventData,userData){var stackTop=stackSave();var varargs=stackAlloc(12);GROWABLE_HEAP_I32()[varargs>>2]=eventTypeId;GROWABLE_HEAP_I32()[varargs+4>>2]=eventData;GROWABLE_HEAP_I32()[varargs+8>>2]=userData;_emscripten_async_queue_on_thread_(targetThread,637534208,eventHandlerFunc,eventData,varargs);stackRestore(stackTop)},getTargetThreadForEventCallback:function(targetThread){switch(targetThread){case 1:return 0;case 2:return PThread.currentProxiedOperationCallerThread;default:return targetThread}},getNodeNameForTarget:function(target){if(!target)return\"\";if(target==window)return\"#window\";if(target==screen)return\"#screen\";return target&&target.nodeName?target.nodeName:\"\"},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function stringToNewUTF8(jsString){var length=lengthBytesUTF8(jsString)+1;var cString=_malloc(length);stringToUTF8(jsString,cString,length);return cString}function _emscripten_set_offscreencanvas_size_on_target_thread_js(targetThread,targetCanvas,width,height){var stackTop=stackSave();var varargs=stackAlloc(12);var targetCanvasPtr=0;if(targetCanvas){targetCanvasPtr=stringToNewUTF8(targetCanvas)}GROWABLE_HEAP_I32()[varargs>>2]=targetCanvasPtr;GROWABLE_HEAP_I32()[varargs+4>>2]=width;GROWABLE_HEAP_I32()[varargs+8>>2]=height;_emscripten_async_queue_on_thread_(targetThread,657457152,0,targetCanvasPtr,varargs);stackRestore(stackTop)}function _emscripten_set_offscreencanvas_size_on_target_thread(targetThread,targetCanvas,width,height){targetCanvas=targetCanvas?UTF8ToString(targetCanvas):\"\";_emscripten_set_offscreencanvas_size_on_target_thread_js(targetThread,targetCanvas,width,height)}function __maybeCStringToJsString(cString){return cString>2?UTF8ToString(cString):cString}var specialHTMLTargets=[0,typeof document!==\"undefined\"?document:0,typeof window!==\"undefined\"?window:0];function __findEventTarget(target){target=__maybeCStringToJsString(target);var domElement=specialHTMLTargets[target]||(typeof document!==\"undefined\"?document.querySelector(target):undefined);return domElement}function __findCanvasEventTarget(target){return __findEventTarget(target)}function _emscripten_set_canvas_element_size_calling_thread(target,width,height){var canvas=__findCanvasEventTarget(target);if(!canvas)return-4;if(canvas.canvasSharedPtr){GROWABLE_HEAP_I32()[canvas.canvasSharedPtr>>2]=width;GROWABLE_HEAP_I32()[canvas.canvasSharedPtr+4>>2]=height}if(canvas.offscreenCanvas||!canvas.controlTransferredOffscreen){if(canvas.offscreenCanvas)canvas=canvas.offscreenCanvas;var autoResizeViewport=false;if(canvas.GLctxObject&&canvas.GLctxObject.GLctx){var prevViewport=canvas.GLctxObject.GLctx.getParameter(2978);autoResizeViewport=prevViewport[0]===0&&prevViewport[1]===0&&prevViewport[2]===canvas.width&&prevViewport[3]===canvas.height}canvas.width=width;canvas.height=height;if(autoResizeViewport){canvas.GLctxObject.GLctx.viewport(0,0,width,height)}}else if(canvas.canvasSharedPtr){var targetThread=GROWABLE_HEAP_I32()[canvas.canvasSharedPtr+8>>2];_emscripten_set_offscreencanvas_size_on_target_thread(targetThread,target,width,height);return 1}else{return-4}return 0}function _emscripten_set_canvas_element_size_main_thread(target,width,height){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(2,1,target,width,height);return _emscripten_set_canvas_element_size_calling_thread(target,width,height)}function _emscripten_set_canvas_element_size(target,width,height){var canvas=__findCanvasEventTarget(target);if(canvas){return _emscripten_set_canvas_element_size_calling_thread(target,width,height)}else{return _emscripten_set_canvas_element_size_main_thread(target,width,height)}}function _emscripten_set_current_thread_status(newStatus){newStatus=newStatus|0}function _emscripten_set_thread_name(threadId,name){threadId=threadId|0;name=name|0}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension(\"ANGLE_instanced_arrays\");if(ext){ctx[\"vertexAttribDivisor\"]=function(index,divisor){ext[\"vertexAttribDivisorANGLE\"](index,divisor)};ctx[\"drawArraysInstanced\"]=function(mode,first,count,primcount){ext[\"drawArraysInstancedANGLE\"](mode,first,count,primcount)};ctx[\"drawElementsInstanced\"]=function(mode,count,type,indices,primcount){ext[\"drawElementsInstancedANGLE\"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension(\"OES_vertex_array_object\");if(ext){ctx[\"createVertexArray\"]=function(){return ext[\"createVertexArrayOES\"]()};ctx[\"deleteVertexArray\"]=function(vao){ext[\"deleteVertexArrayOES\"](vao)};ctx[\"bindVertexArray\"]=function(vao){ext[\"bindVertexArrayOES\"](vao)};ctx[\"isVertexArray\"]=function(vao){return ext[\"isVertexArrayOES\"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension(\"WEBGL_draw_buffers\");if(ext){ctx[\"drawBuffers\"]=function(n,bufs){ext[\"drawBuffersWEBGL\"](n,bufs)};return 1}}var GL={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,init:function(){var miniTempFloatBuffer=new Float32Array(GL.MINI_TEMP_BUFFER_SIZE);for(var i=0;i<GL.MINI_TEMP_BUFFER_SIZE;i++){GL.miniTempBufferFloatViews[i]=miniTempFloatBuffer.subarray(0,i+1)}var miniTempIntBuffer=new Int32Array(GL.MINI_TEMP_BUFFER_SIZE);for(var i=0;i<GL.MINI_TEMP_BUFFER_SIZE;i++){GL.miniTempBufferIntViews[i]=miniTempIntBuffer.subarray(0,i+1)}},recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},MINI_TEMP_BUFFER_SIZE:256,miniTempBufferFloatViews:[0],miniTempBufferIntViews:[0],getSource:function(shader,count,string,length){var source=\"\";for(var i=0;i<count;++i){var len=length?GROWABLE_HEAP_I32()[length+i*4>>2]:-1;source+=UTF8ToString(GROWABLE_HEAP_I32()[string+i*4>>2],len<0?undefined:len)}return source},createContext:function(canvas,webGLContextAttributes){var ctx=canvas.getContext(\"webgl\",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=_malloc(8);GROWABLE_HEAP_I32()[handle+4>>2]=_pthread_self();var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault===\"undefined\"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents===\"object\")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;_free(GL.contexts[contextHandle].handle);GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension(\"EXT_disjoint_timer_query\");var automaticallyEnabledExtensions=[\"OES_texture_float\",\"OES_texture_half_float\",\"OES_standard_derivatives\",\"OES_vertex_array_object\",\"WEBGL_compressed_texture_s3tc\",\"WEBGL_depth_texture\",\"OES_element_index_uint\",\"EXT_texture_filter_anisotropic\",\"EXT_frag_depth\",\"WEBGL_draw_buffers\",\"ANGLE_instanced_arrays\",\"OES_texture_float_linear\",\"OES_texture_half_float_linear\",\"EXT_blend_minmax\",\"EXT_shader_texture_lod\",\"EXT_texture_norm16\",\"WEBGL_compressed_texture_pvrtc\",\"EXT_color_buffer_half_float\",\"WEBGL_color_buffer_float\",\"EXT_sRGB\",\"WEBGL_compressed_texture_etc1\",\"EXT_disjoint_timer_query\",\"WEBGL_compressed_texture_etc\",\"WEBGL_compressed_texture_astc\",\"EXT_color_buffer_float\",\"WEBGL_compressed_texture_s3tc_srgb\",\"EXT_disjoint_timer_query_webgl2\",\"WEBKIT_WEBGL_compressed_texture_pvrtc\"];var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(automaticallyEnabledExtensions.indexOf(ext)!=-1){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)==\"]\"){name=name.slice(0,name.lastIndexOf(\"[\"))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+\"[\"+j+\"]\";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};var __emscripten_webgl_power_preferences=[\"default\",\"low-power\",\"high-performance\"];function _emscripten_webgl_do_create_context(target,attributes){var contextAttributes={};var a=attributes>>2;contextAttributes[\"alpha\"]=!!GROWABLE_HEAP_I32()[a+(0>>2)];contextAttributes[\"depth\"]=!!GROWABLE_HEAP_I32()[a+(4>>2)];contextAttributes[\"stencil\"]=!!GROWABLE_HEAP_I32()[a+(8>>2)];contextAttributes[\"antialias\"]=!!GROWABLE_HEAP_I32()[a+(12>>2)];contextAttributes[\"premultipliedAlpha\"]=!!GROWABLE_HEAP_I32()[a+(16>>2)];contextAttributes[\"preserveDrawingBuffer\"]=!!GROWABLE_HEAP_I32()[a+(20>>2)];var powerPreference=GROWABLE_HEAP_I32()[a+(24>>2)];contextAttributes[\"powerPreference\"]=__emscripten_webgl_power_preferences[powerPreference];contextAttributes[\"failIfMajorPerformanceCaveat\"]=!!GROWABLE_HEAP_I32()[a+(28>>2)];contextAttributes.majorVersion=GROWABLE_HEAP_I32()[a+(32>>2)];contextAttributes.minorVersion=GROWABLE_HEAP_I32()[a+(36>>2)];contextAttributes.enableExtensionsByDefault=GROWABLE_HEAP_I32()[a+(40>>2)];contextAttributes.explicitSwapControl=GROWABLE_HEAP_I32()[a+(44>>2)];contextAttributes.proxyContextToMainThread=GROWABLE_HEAP_I32()[a+(48>>2)];contextAttributes.renderViaOffscreenBackBuffer=GROWABLE_HEAP_I32()[a+(52>>2)];var canvas=__findCanvasEventTarget(target);if(!canvas){return-4}if(contextAttributes.explicitSwapControl){return-1}var contextHandle=GL.createContext(canvas,contextAttributes);return contextHandle}function _emscripten_webgl_create_context(a0,a1){return _emscripten_webgl_do_create_context(a0,a1)}var PATH={splitPath:function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift(\"..\")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)===\"/\",trailingSlash=path.substr(-1)===\"/\";path=PATH.normalizeArray(path.split(\"/\").filter(function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return\".\"}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path===\"/\")return\"/\";var lastSlash=path.lastIndexOf(\"/\");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join(\"/\"))},join2:function(l,r){return PATH.normalize(l+\"/\"+r)}};var SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(stream,curr){var buffer=SYSCALLS.buffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}},varargs:undefined,get:function(){SYSCALLS.varargs+=4;var ret=GROWABLE_HEAP_I32()[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},get64:function(low,high){return low}};function _fd_close(fd){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(3,1,fd);return 0}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(4,1,fd,offset_low,offset_high,whence,newOffset)}function _fd_write(fd,iov,iovcnt,pnum){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(5,1,fd,iov,iovcnt,pnum);var num=0;for(var i=0;i<iovcnt;i++){var ptr=GROWABLE_HEAP_I32()[iov+i*8>>2];var len=GROWABLE_HEAP_I32()[iov+(i*8+4)>>2];for(var j=0;j<len;j++){SYSCALLS.printChar(fd,GROWABLE_HEAP_U8()[ptr+j])}num+=len}GROWABLE_HEAP_I32()[pnum>>2]=num;return 0}function _pthread_cleanup_pop(execute){var routine=PThread.exitHandlers.pop();if(execute)routine()}function _pthread_cleanup_push(routine,arg){if(PThread.exitHandlers===null){PThread.exitHandlers=[]}PThread.exitHandlers.push(function(){dynCall_vi(routine,arg)})}function __spawn_thread(threadParams){if(ENVIRONMENT_IS_PTHREAD)throw\"Internal Error! _spawn_thread() can only ever be called from main application thread!\";var worker=PThread.getNewWorker();if(worker.pthread!==undefined)throw\"Internal error!\";if(!threadParams.pthread_ptr)throw\"Internal error, no pthread ptr!\";PThread.runningWorkers.push(worker);var tlsMemory=_malloc(128*4);for(var i=0;i<128;++i){GROWABLE_HEAP_I32()[tlsMemory+i*4>>2]=0}var stackHigh=threadParams.stackBase+threadParams.stackSize;var pthread=PThread.pthreads[threadParams.pthread_ptr]={worker:worker,stackBase:threadParams.stackBase,stackSize:threadParams.stackSize,allocatedOwnStack:threadParams.allocatedOwnStack,thread:threadParams.pthread_ptr,threadInfoStruct:threadParams.pthread_ptr};var tis=pthread.threadInfoStruct>>2;Atomics.store(GROWABLE_HEAP_U32(),tis+(0>>2),0);Atomics.store(GROWABLE_HEAP_U32(),tis+(4>>2),0);Atomics.store(GROWABLE_HEAP_U32(),tis+(8>>2),0);Atomics.store(GROWABLE_HEAP_U32(),tis+(68>>2),threadParams.detached);Atomics.store(GROWABLE_HEAP_U32(),tis+(104>>2),tlsMemory);Atomics.store(GROWABLE_HEAP_U32(),tis+(48>>2),0);Atomics.store(GROWABLE_HEAP_U32(),tis+(40>>2),pthread.threadInfoStruct);Atomics.store(GROWABLE_HEAP_U32(),tis+(44>>2),42);Atomics.store(GROWABLE_HEAP_U32(),tis+(108>>2),threadParams.stackSize);Atomics.store(GROWABLE_HEAP_U32(),tis+(84>>2),threadParams.stackSize);Atomics.store(GROWABLE_HEAP_U32(),tis+(80>>2),stackHigh);Atomics.store(GROWABLE_HEAP_U32(),tis+(108+8>>2),stackHigh);Atomics.store(GROWABLE_HEAP_U32(),tis+(108+12>>2),threadParams.detached);Atomics.store(GROWABLE_HEAP_U32(),tis+(108+20>>2),threadParams.schedPolicy);Atomics.store(GROWABLE_HEAP_U32(),tis+(108+24>>2),threadParams.schedPrio);var global_libc=_emscripten_get_global_libc();var global_locale=global_libc+40;Atomics.store(GROWABLE_HEAP_U32(),tis+(176>>2),global_locale);worker.pthread=pthread;var msg={\"cmd\":\"run\",\"start_routine\":threadParams.startRoutine,\"arg\":threadParams.arg,\"threadInfoStruct\":threadParams.pthread_ptr,\"selfThreadId\":threadParams.pthread_ptr,\"parentThreadId\":threadParams.parent_pthread_ptr,\"stackBase\":threadParams.stackBase,\"stackSize\":threadParams.stackSize};worker.runPthread=function(){msg.time=performance.now();worker.postMessage(msg,threadParams.transferList)};if(worker.loaded){worker.runPthread();delete worker.runPthread}}function _pthread_getschedparam(thread,policy,schedparam){if(!policy&&!schedparam)return ERRNO_CODES.EINVAL;if(!thread){err(\"pthread_getschedparam called with a null thread pointer!\");return ERRNO_CODES.ESRCH}var self=GROWABLE_HEAP_I32()[thread+12>>2];if(self!==thread){err(\"pthread_getschedparam attempted on thread \"+thread+\", which does not point to a valid thread, or does not exist anymore!\");return ERRNO_CODES.ESRCH}var schedPolicy=Atomics.load(GROWABLE_HEAP_U32(),thread+108+20>>2);var schedPrio=Atomics.load(GROWABLE_HEAP_U32(),thread+108+24>>2);if(policy)GROWABLE_HEAP_I32()[policy>>2]=schedPolicy;if(schedparam)GROWABLE_HEAP_I32()[schedparam>>2]=schedPrio;return 0}function _pthread_self(){return __pthread_ptr|0}Module[\"_pthread_self\"]=_pthread_self;function _pthread_create(pthread_ptr,attr,start_routine,arg){if(typeof SharedArrayBuffer===\"undefined\"){err(\"Current environment does not support SharedArrayBuffer, pthreads are not available!\");return 6}if(!pthread_ptr){err(\"pthread_create called with a null thread pointer!\");return 28}var transferList=[];var error=0;if(ENVIRONMENT_IS_PTHREAD&&(transferList.length===0||error)){return _emscripten_sync_run_in_main_thread_4(687865856,pthread_ptr,attr,start_routine,arg)}if(error)return error;var stackSize=0;var stackBase=0;var detached=0;var schedPolicy=0;var schedPrio=0;if(attr){stackSize=GROWABLE_HEAP_I32()[attr>>2];stackSize+=81920;stackBase=GROWABLE_HEAP_I32()[attr+8>>2];detached=GROWABLE_HEAP_I32()[attr+12>>2]!==0;var inheritSched=GROWABLE_HEAP_I32()[attr+16>>2]===0;if(inheritSched){var prevSchedPolicy=GROWABLE_HEAP_I32()[attr+20>>2];var prevSchedPrio=GROWABLE_HEAP_I32()[attr+24>>2];var parentThreadPtr=PThread.currentProxiedOperationCallerThread?PThread.currentProxiedOperationCallerThread:_pthread_self();_pthread_getschedparam(parentThreadPtr,attr+20,attr+24);schedPolicy=GROWABLE_HEAP_I32()[attr+20>>2];schedPrio=GROWABLE_HEAP_I32()[attr+24>>2];GROWABLE_HEAP_I32()[attr+20>>2]=prevSchedPolicy;GROWABLE_HEAP_I32()[attr+24>>2]=prevSchedPrio}else{schedPolicy=GROWABLE_HEAP_I32()[attr+20>>2];schedPrio=GROWABLE_HEAP_I32()[attr+24>>2]}}else{stackSize=2097152}var allocatedOwnStack=stackBase==0;if(allocatedOwnStack){stackBase=_memalign(16,stackSize)}else{stackBase-=stackSize;assert(stackBase>0)}var threadInfoStruct=_malloc(232);for(var i=0;i<232>>2;++i)GROWABLE_HEAP_U32()[(threadInfoStruct>>2)+i]=0;GROWABLE_HEAP_I32()[pthread_ptr>>2]=threadInfoStruct;GROWABLE_HEAP_I32()[threadInfoStruct+12>>2]=threadInfoStruct;var headPtr=threadInfoStruct+156;GROWABLE_HEAP_I32()[headPtr>>2]=headPtr;var threadParams={stackBase:stackBase,stackSize:stackSize,allocatedOwnStack:allocatedOwnStack,schedPolicy:schedPolicy,schedPrio:schedPrio,detached:detached,startRoutine:start_routine,pthread_ptr:threadInfoStruct,parent_pthread_ptr:_pthread_self(),arg:arg,transferList:transferList};if(ENVIRONMENT_IS_PTHREAD){threadParams.cmd=\"spawnThread\";postMessage(threadParams,transferList)}else{__spawn_thread(threadParams)}return 0}function _roundf(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}function _sysconf(name){if(ENVIRONMENT_IS_PTHREAD)return _emscripten_proxy_to_main_thread_js(6,1,name);switch(name){case 30:return 16384;case 85:var maxHeapSize=2147483648;return maxHeapSize/16384;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:case 79:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator===\"object\")return navigator[\"hardwareConcurrency\"]||1;return 1}}setErrNo(28);return-1}if(!ENVIRONMENT_IS_PTHREAD)PThread.initMainThreadBlock();else PThread.initWorker();var GLctx;GL.init();var proxiedFunctionTable=[null,_atexit,_emscripten_set_canvas_element_size_main_thread,_fd_close,_fd_seek,_fd_write,_sysconf];var asmLibraryArg={\"e\":___assert_fail,\"r\":___call_main,\"w\":__emscripten_notify_thread_queue,\"a\":_abort,\"l\":_emscripten_conditional_set_current_thread_status,\"d\":_emscripten_futex_wait,\"c\":_emscripten_futex_wake,\"h\":_emscripten_get_now,\"g\":_emscripten_is_main_browser_thread,\"x\":_emscripten_is_main_runtime_thread,\"q\":_emscripten_memcpy_big,\"B\":_emscripten_num_logical_cores,\"t\":_emscripten_receive_on_main_thread_js,\"A\":_emscripten_resize_heap,\"u\":_emscripten_set_canvas_element_size,\"k\":_emscripten_set_current_thread_status,\"s\":_emscripten_set_thread_name,\"v\":_emscripten_webgl_create_context,\"m\":_fd_close,\"o\":_fd_seek,\"i\":_fd_write,\"p\":initPthreadsJS,\"memory\":wasmMemory||Module[\"wasmMemory\"],\"y\":_pthread_cleanup_pop,\"z\":_pthread_cleanup_push,\"j\":_pthread_create,\"b\":_pthread_self,\"f\":_roundf,\"n\":_sysconf,\"table\":wasmTable};var asm=createWasm();Module[\"asm\"]=asm;var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"C\"]).apply(null,arguments)};var _init=Module[\"_init\"]=function(){return(_init=Module[\"_init\"]=Module[\"asm\"][\"D\"]).apply(null,arguments)};var _register_tensor=Module[\"_register_tensor\"]=function(){return(_register_tensor=Module[\"_register_tensor\"]=Module[\"asm\"][\"E\"]).apply(null,arguments)};var _dispose_data=Module[\"_dispose_data\"]=function(){return(_dispose_data=Module[\"_dispose_data\"]=Module[\"asm\"][\"F\"]).apply(null,arguments)};var _dispose=Module[\"_dispose\"]=function(){return(_dispose=Module[\"_dispose\"]=Module[\"asm\"][\"G\"]).apply(null,arguments)};var _Abs=Module[\"_Abs\"]=function(){return(_Abs=Module[\"_Abs\"]=Module[\"asm\"][\"H\"]).apply(null,arguments)};var _Add=Module[\"_Add\"]=function(){return(_Add=Module[\"_Add\"]=Module[\"asm\"][\"I\"]).apply(null,arguments)};var _AddN=Module[\"_AddN\"]=function(){return(_AddN=Module[\"_AddN\"]=Module[\"asm\"][\"J\"]).apply(null,arguments)};var _ArgMax=Module[\"_ArgMax\"]=function(){return(_ArgMax=Module[\"_ArgMax\"]=Module[\"asm\"][\"K\"]).apply(null,arguments)};var _AvgPool=Module[\"_AvgPool\"]=function(){return(_AvgPool=Module[\"_AvgPool\"]=Module[\"asm\"][\"L\"]).apply(null,arguments)};var _BatchMatMul=Module[\"_BatchMatMul\"]=function(){return(_BatchMatMul=Module[\"_BatchMatMul\"]=Module[\"asm\"][\"M\"]).apply(null,arguments)};var _ClipByValue=Module[\"_ClipByValue\"]=function(){return(_ClipByValue=Module[\"_ClipByValue\"]=Module[\"asm\"][\"N\"]).apply(null,arguments)};var _Conv2D=Module[\"_Conv2D\"]=function(){return(_Conv2D=Module[\"_Conv2D\"]=Module[\"asm\"][\"O\"]).apply(null,arguments)};var _Conv2DBackpropInput=Module[\"_Conv2DBackpropInput\"]=function(){return(_Conv2DBackpropInput=Module[\"_Conv2DBackpropInput\"]=Module[\"asm\"][\"P\"]).apply(null,arguments)};var _Cos=Module[\"_Cos\"]=function(){return(_Cos=Module[\"_Cos\"]=Module[\"asm\"][\"Q\"]).apply(null,arguments)};var _CropAndResize=Module[\"_CropAndResize\"]=function(){return(_CropAndResize=Module[\"_CropAndResize\"]=Module[\"asm\"][\"R\"]).apply(null,arguments)};var _DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=function(){return(_DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=Module[\"asm\"][\"S\"]).apply(null,arguments)};var _Div=Module[\"_Div\"]=function(){return(_Div=Module[\"_Div\"]=Module[\"asm\"][\"T\"]).apply(null,arguments)};var _Equal=Module[\"_Equal\"]=function(){return(_Equal=Module[\"_Equal\"]=Module[\"asm\"][\"U\"]).apply(null,arguments)};var _Exp=Module[\"_Exp\"]=function(){return(_Exp=Module[\"_Exp\"]=Module[\"asm\"][\"V\"]).apply(null,arguments)};var _FloorDiv=Module[\"_FloorDiv\"]=function(){return(_FloorDiv=Module[\"_FloorDiv\"]=Module[\"asm\"][\"W\"]).apply(null,arguments)};var _FusedBatchNorm=Module[\"_FusedBatchNorm\"]=function(){return(_FusedBatchNorm=Module[\"_FusedBatchNorm\"]=Module[\"asm\"][\"X\"]).apply(null,arguments)};var _FusedConv2D=Module[\"_FusedConv2D\"]=function(){return(_FusedConv2D=Module[\"_FusedConv2D\"]=Module[\"asm\"][\"Y\"]).apply(null,arguments)};var _FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=function(){return(_FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=Module[\"asm\"][\"Z\"]).apply(null,arguments)};var _Gather=Module[\"_Gather\"]=function(){return(_Gather=Module[\"_Gather\"]=Module[\"asm\"][\"_\"]).apply(null,arguments)};var _GatherNd=Module[\"_GatherNd\"]=function(){return(_GatherNd=Module[\"_GatherNd\"]=Module[\"asm\"][\"$\"]).apply(null,arguments)};var _Greater=Module[\"_Greater\"]=function(){return(_Greater=Module[\"_Greater\"]=Module[\"asm\"][\"aa\"]).apply(null,arguments)};var _GreaterEqual=Module[\"_GreaterEqual\"]=function(){return(_GreaterEqual=Module[\"_GreaterEqual\"]=Module[\"asm\"][\"ba\"]).apply(null,arguments)};var _Less=Module[\"_Less\"]=function(){return(_Less=Module[\"_Less\"]=Module[\"asm\"][\"ca\"]).apply(null,arguments)};var _LessEqual=Module[\"_LessEqual\"]=function(){return(_LessEqual=Module[\"_LessEqual\"]=Module[\"asm\"][\"da\"]).apply(null,arguments)};var _Log=Module[\"_Log\"]=function(){return(_Log=Module[\"_Log\"]=Module[\"asm\"][\"ea\"]).apply(null,arguments)};var _LogicalAnd=Module[\"_LogicalAnd\"]=function(){return(_LogicalAnd=Module[\"_LogicalAnd\"]=Module[\"asm\"][\"fa\"]).apply(null,arguments)};var _Max=Module[\"_Max\"]=function(){return(_Max=Module[\"_Max\"]=Module[\"asm\"][\"ga\"]).apply(null,arguments)};var _MaxPool=Module[\"_MaxPool\"]=function(){return(_MaxPool=Module[\"_MaxPool\"]=Module[\"asm\"][\"ha\"]).apply(null,arguments)};var _Maximum=Module[\"_Maximum\"]=function(){return(_Maximum=Module[\"_Maximum\"]=Module[\"asm\"][\"ia\"]).apply(null,arguments)};var _Min=Module[\"_Min\"]=function(){return(_Min=Module[\"_Min\"]=Module[\"asm\"][\"ja\"]).apply(null,arguments)};var _Minimum=Module[\"_Minimum\"]=function(){return(_Minimum=Module[\"_Minimum\"]=Module[\"asm\"][\"ka\"]).apply(null,arguments)};var _Multiply=Module[\"_Multiply\"]=function(){return(_Multiply=Module[\"_Multiply\"]=Module[\"asm\"][\"la\"]).apply(null,arguments)};var _Negate=Module[\"_Negate\"]=function(){return(_Negate=Module[\"_Negate\"]=Module[\"asm\"][\"ma\"]).apply(null,arguments)};var _NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=function(){return(_NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=Module[\"asm\"][\"na\"]).apply(null,arguments)};var _NonMaxSuppressionV4=Module[\"_NonMaxSuppressionV4\"]=function(){return(_NonMaxSuppressionV4=Module[\"_NonMaxSuppressionV4\"]=Module[\"asm\"][\"oa\"]).apply(null,arguments)};var _NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=function(){return(_NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=Module[\"asm\"][\"pa\"]).apply(null,arguments)};var _NotEqual=Module[\"_NotEqual\"]=function(){return(_NotEqual=Module[\"_NotEqual\"]=Module[\"asm\"][\"qa\"]).apply(null,arguments)};var _OneHot=Module[\"_OneHot\"]=function(){return(_OneHot=Module[\"_OneHot\"]=Module[\"asm\"][\"ra\"]).apply(null,arguments)};var _PadV2=Module[\"_PadV2\"]=function(){return(_PadV2=Module[\"_PadV2\"]=Module[\"asm\"][\"sa\"]).apply(null,arguments)};var _Pow=Module[\"_Pow\"]=function(){return(_Pow=Module[\"_Pow\"]=Module[\"asm\"][\"ta\"]).apply(null,arguments)};var _Prelu=Module[\"_Prelu\"]=function(){return(_Prelu=Module[\"_Prelu\"]=Module[\"asm\"][\"ua\"]).apply(null,arguments)};var _Relu=Module[\"_Relu\"]=function(){return(_Relu=Module[\"_Relu\"]=Module[\"asm\"][\"va\"]).apply(null,arguments)};var _Relu6=Module[\"_Relu6\"]=function(){return(_Relu6=Module[\"_Relu6\"]=Module[\"asm\"][\"wa\"]).apply(null,arguments)};var _ResizeBilinear=Module[\"_ResizeBilinear\"]=function(){return(_ResizeBilinear=Module[\"_ResizeBilinear\"]=Module[\"asm\"][\"xa\"]).apply(null,arguments)};var _Reverse=Module[\"_Reverse\"]=function(){return(_Reverse=Module[\"_Reverse\"]=Module[\"asm\"][\"ya\"]).apply(null,arguments)};var _RotateWithOffset=Module[\"_RotateWithOffset\"]=function(){return(_RotateWithOffset=Module[\"_RotateWithOffset\"]=Module[\"asm\"][\"za\"]).apply(null,arguments)};var _Rsqrt=Module[\"_Rsqrt\"]=function(){return(_Rsqrt=Module[\"_Rsqrt\"]=Module[\"asm\"][\"Aa\"]).apply(null,arguments)};var _ScatterNd=Module[\"_ScatterNd\"]=function(){return(_ScatterNd=Module[\"_ScatterNd\"]=Module[\"asm\"][\"Ba\"]).apply(null,arguments)};var _SelectV2=Module[\"_SelectV2\"]=function(){return(_SelectV2=Module[\"_SelectV2\"]=Module[\"asm\"][\"Ca\"]).apply(null,arguments)};var _Sigmoid=Module[\"_Sigmoid\"]=function(){return(_Sigmoid=Module[\"_Sigmoid\"]=Module[\"asm\"][\"Da\"]).apply(null,arguments)};var _Sin=Module[\"_Sin\"]=function(){return(_Sin=Module[\"_Sin\"]=Module[\"asm\"][\"Ea\"]).apply(null,arguments)};var _Softmax=Module[\"_Softmax\"]=function(){return(_Softmax=Module[\"_Softmax\"]=Module[\"asm\"][\"Fa\"]).apply(null,arguments)};var _Sqrt=Module[\"_Sqrt\"]=function(){return(_Sqrt=Module[\"_Sqrt\"]=Module[\"asm\"][\"Ga\"]).apply(null,arguments)};var _Square=Module[\"_Square\"]=function(){return(_Square=Module[\"_Square\"]=Module[\"asm\"][\"Ha\"]).apply(null,arguments)};var _Sub=Module[\"_Sub\"]=function(){return(_Sub=Module[\"_Sub\"]=Module[\"asm\"][\"Ia\"]).apply(null,arguments)};var _Sum=Module[\"_Sum\"]=function(){return(_Sum=Module[\"_Sum\"]=Module[\"asm\"][\"Ja\"]).apply(null,arguments)};var _Tanh=Module[\"_Tanh\"]=function(){return(_Tanh=Module[\"_Tanh\"]=Module[\"asm\"][\"Ka\"]).apply(null,arguments)};var _Tile=Module[\"_Tile\"]=function(){return(_Tile=Module[\"_Tile\"]=Module[\"asm\"][\"La\"]).apply(null,arguments)};var _Transpose=Module[\"_Transpose\"]=function(){return(_Transpose=Module[\"_Transpose\"]=Module[\"asm\"][\"Ma\"]).apply(null,arguments)};var __FusedMatMul=Module[\"__FusedMatMul\"]=function(){return(__FusedMatMul=Module[\"__FusedMatMul\"]=Module[\"asm\"][\"Na\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"Oa\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"Pa\"]).apply(null,arguments)};var ___em_js__initPthreadsJS=Module[\"___em_js__initPthreadsJS\"]=function(){return(___em_js__initPthreadsJS=Module[\"___em_js__initPthreadsJS\"]=Module[\"asm\"][\"Qa\"]).apply(null,arguments)};var ___errno_location=Module[\"___errno_location\"]=function(){return(___errno_location=Module[\"___errno_location\"]=Module[\"asm\"][\"Ra\"]).apply(null,arguments)};var _emscripten_get_global_libc=Module[\"_emscripten_get_global_libc\"]=function(){return(_emscripten_get_global_libc=Module[\"_emscripten_get_global_libc\"]=Module[\"asm\"][\"Sa\"]).apply(null,arguments)};var _memalign=Module[\"_memalign\"]=function(){return(_memalign=Module[\"_memalign\"]=Module[\"asm\"][\"Ta\"]).apply(null,arguments)};var ___pthread_tsd_run_dtors=Module[\"___pthread_tsd_run_dtors\"]=function(){return(___pthread_tsd_run_dtors=Module[\"___pthread_tsd_run_dtors\"]=Module[\"asm\"][\"Ua\"]).apply(null,arguments)};var _emscripten_main_thread_process_queued_calls=Module[\"_emscripten_main_thread_process_queued_calls\"]=function(){return(_emscripten_main_thread_process_queued_calls=Module[\"_emscripten_main_thread_process_queued_calls\"]=Module[\"asm\"][\"Va\"]).apply(null,arguments)};var _emscripten_current_thread_process_queued_calls=Module[\"_emscripten_current_thread_process_queued_calls\"]=function(){return(_emscripten_current_thread_process_queued_calls=Module[\"_emscripten_current_thread_process_queued_calls\"]=Module[\"asm\"][\"Wa\"]).apply(null,arguments)};var _emscripten_register_main_browser_thread_id=Module[\"_emscripten_register_main_browser_thread_id\"]=function(){return(_emscripten_register_main_browser_thread_id=Module[\"_emscripten_register_main_browser_thread_id\"]=Module[\"asm\"][\"Xa\"]).apply(null,arguments)};var _emscripten_main_browser_thread_id=Module[\"_emscripten_main_browser_thread_id\"]=function(){return(_emscripten_main_browser_thread_id=Module[\"_emscripten_main_browser_thread_id\"]=Module[\"asm\"][\"Ya\"]).apply(null,arguments)};var _emscripten_async_run_in_main_thread=Module[\"_emscripten_async_run_in_main_thread\"]=function(){return(_emscripten_async_run_in_main_thread=Module[\"_emscripten_async_run_in_main_thread\"]=Module[\"asm\"][\"Za\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread=Module[\"_emscripten_sync_run_in_main_thread\"]=function(){return(_emscripten_sync_run_in_main_thread=Module[\"_emscripten_sync_run_in_main_thread\"]=Module[\"asm\"][\"_a\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_0=Module[\"_emscripten_sync_run_in_main_thread_0\"]=function(){return(_emscripten_sync_run_in_main_thread_0=Module[\"_emscripten_sync_run_in_main_thread_0\"]=Module[\"asm\"][\"$a\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_1=Module[\"_emscripten_sync_run_in_main_thread_1\"]=function(){return(_emscripten_sync_run_in_main_thread_1=Module[\"_emscripten_sync_run_in_main_thread_1\"]=Module[\"asm\"][\"ab\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_2=Module[\"_emscripten_sync_run_in_main_thread_2\"]=function(){return(_emscripten_sync_run_in_main_thread_2=Module[\"_emscripten_sync_run_in_main_thread_2\"]=Module[\"asm\"][\"bb\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_xprintf_varargs=Module[\"_emscripten_sync_run_in_main_thread_xprintf_varargs\"]=function(){return(_emscripten_sync_run_in_main_thread_xprintf_varargs=Module[\"_emscripten_sync_run_in_main_thread_xprintf_varargs\"]=Module[\"asm\"][\"cb\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_3=Module[\"_emscripten_sync_run_in_main_thread_3\"]=function(){return(_emscripten_sync_run_in_main_thread_3=Module[\"_emscripten_sync_run_in_main_thread_3\"]=Module[\"asm\"][\"db\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_4=Module[\"_emscripten_sync_run_in_main_thread_4\"]=function(){return(_emscripten_sync_run_in_main_thread_4=Module[\"_emscripten_sync_run_in_main_thread_4\"]=Module[\"asm\"][\"eb\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_5=Module[\"_emscripten_sync_run_in_main_thread_5\"]=function(){return(_emscripten_sync_run_in_main_thread_5=Module[\"_emscripten_sync_run_in_main_thread_5\"]=Module[\"asm\"][\"fb\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_6=Module[\"_emscripten_sync_run_in_main_thread_6\"]=function(){return(_emscripten_sync_run_in_main_thread_6=Module[\"_emscripten_sync_run_in_main_thread_6\"]=Module[\"asm\"][\"gb\"]).apply(null,arguments)};var _emscripten_sync_run_in_main_thread_7=Module[\"_emscripten_sync_run_in_main_thread_7\"]=function(){return(_emscripten_sync_run_in_main_thread_7=Module[\"_emscripten_sync_run_in_main_thread_7\"]=Module[\"asm\"][\"hb\"]).apply(null,arguments)};var _emscripten_run_in_main_runtime_thread_js=Module[\"_emscripten_run_in_main_runtime_thread_js\"]=function(){return(_emscripten_run_in_main_runtime_thread_js=Module[\"_emscripten_run_in_main_runtime_thread_js\"]=Module[\"asm\"][\"ib\"]).apply(null,arguments)};var _emscripten_async_queue_on_thread_=Module[\"_emscripten_async_queue_on_thread_\"]=function(){return(_emscripten_async_queue_on_thread_=Module[\"_emscripten_async_queue_on_thread_\"]=Module[\"asm\"][\"jb\"]).apply(null,arguments)};var _emscripten_tls_init=Module[\"_emscripten_tls_init\"]=function(){return(_emscripten_tls_init=Module[\"_emscripten_tls_init\"]=Module[\"asm\"][\"kb\"]).apply(null,arguments)};var stackSave=Module[\"stackSave\"]=function(){return(stackSave=Module[\"stackSave\"]=Module[\"asm\"][\"lb\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"mb\"]).apply(null,arguments)};var stackRestore=Module[\"stackRestore\"]=function(){return(stackRestore=Module[\"stackRestore\"]=Module[\"asm\"][\"nb\"]).apply(null,arguments)};var dynCall_vi=Module[\"dynCall_vi\"]=function(){return(dynCall_vi=Module[\"dynCall_vi\"]=Module[\"asm\"][\"ob\"]).apply(null,arguments)};var dynCall_v=Module[\"dynCall_v\"]=function(){return(dynCall_v=Module[\"dynCall_v\"]=Module[\"asm\"][\"pb\"]).apply(null,arguments)};var dynCall_ii=Module[\"dynCall_ii\"]=function(){return(dynCall_ii=Module[\"dynCall_ii\"]=Module[\"asm\"][\"qb\"]).apply(null,arguments)};Module[\"asm\"]=asm;Module[\"cwrap\"]=cwrap;Module[\"PThread\"]=PThread;Module[\"PThread\"]=PThread;Module[\"_pthread_self\"]=_pthread_self;Module[\"wasmMemory\"]=wasmMemory;Module[\"ExitStatus\"]=ExitStatus;var calledRun;Module[\"then\"]=function(func){if(calledRun){func(Module)}else{var old=Module[\"onRuntimeInitialized\"];Module[\"onRuntimeInitialized\"]=function(){if(old)old();func(Module)}}return Module};function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}if(!ENVIRONMENT_IS_PTHREAD)noExitRuntime=true;if(!ENVIRONMENT_IS_PTHREAD)run();\n\n\n  return WasmBackendModuleThreadedSimd\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n      module.exports = WasmBackendModuleThreadedSimd;\n    else if (typeof define === 'function' && define['amd'])\n      define([], function() { return WasmBackendModuleThreadedSimd; });\n    else if (typeof exports === 'object')\n      exports[\"WasmBackendModuleThreadedSimd\"] = WasmBackendModuleThreadedSimd;\n    ","\nvar WasmBackendModule = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(WasmBackendModule) {\n  WasmBackendModule = WasmBackendModule || {};\n\nvar Module=typeof WasmBackendModule!==\"undefined\"?WasmBackendModule:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime;if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(typeof WebAssembly!==\"object\"){err(\"no native wasm support detected\")}var wasmMemory;var wasmTable=new WebAssembly.Table({\"initial\":147,\"maximum\":147+0,\"element\":\"anyfunc\"});var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];assert(func,\"Cannot call unknown function \"+ident+\", make sure it is exported\");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={\"string\":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},\"array\":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType===\"string\")return UTF8ToString(ret);if(returnType===\"boolean\")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function cwrap(ident,returnType,argTypes,opts){argTypes=argTypes||[];var numericArgs=argTypes.every(function(type){return type===\"number\"});var numericRet=returnType!==\"string\";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}}var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var INITIAL_INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_ceil=Math.ceil;var Math_floor=Math.floor;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}what+=\"\";out(what);err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";throw new WebAssembly.RuntimeError(what)}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix=\"file://\";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile=\"tfjs-backend-wasm.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary()})}return new Promise(function(resolve,reject){resolve(getBinary())})}function createWasm(){var info={\"env\":asmLibraryArg,\"wasi_snapshot_preview1\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;wasmMemory=exports[\"memory\"];updateGlobalBufferAndViews(wasmMemory.buffer);removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiatedSource(output){receiveInstance(output[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}__ATINIT__.push();function _emscripten_notify_memory_growth(memoryIndex){updateGlobalBufferAndViews(wasmMemory.buffer)}var PATH={splitPath:function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift(\"..\")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)===\"/\",trailingSlash=path.substr(-1)===\"/\";path=PATH.normalizeArray(path.split(\"/\").filter(function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return\".\"}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path===\"/\")return\"/\";var lastSlash=path.lastIndexOf(\"/\");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join(\"/\"))},join2:function(l,r){return PATH.normalize(l+\"/\"+r)}};var SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(stream,curr){var buffer=SYSCALLS.buffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}},varargs:undefined,get:function(){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},get64:function(low,high){return low}};function _fd_close(fd){return 0}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){}function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){SYSCALLS.printChar(fd,HEAPU8[ptr+j])}num+=len}HEAP32[pnum>>2]=num;return 0}function _exit(status){exit(status)}function _proc_exit(code){_exit(code)}function _roundf(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}var asmLibraryArg={\"emscripten_notify_memory_growth\":_emscripten_notify_memory_growth,\"fd_close\":_fd_close,\"fd_seek\":_fd_seek,\"fd_write\":_fd_write,\"proc_exit\":_proc_exit,\"roundf\":_roundf};var asm=createWasm();Module[\"asm\"]=asm;var _init=Module[\"_init\"]=function(){return(_init=Module[\"_init\"]=Module[\"asm\"][\"init\"]).apply(null,arguments)};var _register_tensor=Module[\"_register_tensor\"]=function(){return(_register_tensor=Module[\"_register_tensor\"]=Module[\"asm\"][\"register_tensor\"]).apply(null,arguments)};var _dispose_data=Module[\"_dispose_data\"]=function(){return(_dispose_data=Module[\"_dispose_data\"]=Module[\"asm\"][\"dispose_data\"]).apply(null,arguments)};var _dispose=Module[\"_dispose\"]=function(){return(_dispose=Module[\"_dispose\"]=Module[\"asm\"][\"dispose\"]).apply(null,arguments)};var _Abs=Module[\"_Abs\"]=function(){return(_Abs=Module[\"_Abs\"]=Module[\"asm\"][\"Abs\"]).apply(null,arguments)};var _Add=Module[\"_Add\"]=function(){return(_Add=Module[\"_Add\"]=Module[\"asm\"][\"Add\"]).apply(null,arguments)};var _AddN=Module[\"_AddN\"]=function(){return(_AddN=Module[\"_AddN\"]=Module[\"asm\"][\"AddN\"]).apply(null,arguments)};var _ArgMax=Module[\"_ArgMax\"]=function(){return(_ArgMax=Module[\"_ArgMax\"]=Module[\"asm\"][\"ArgMax\"]).apply(null,arguments)};var _AvgPool=Module[\"_AvgPool\"]=function(){return(_AvgPool=Module[\"_AvgPool\"]=Module[\"asm\"][\"AvgPool\"]).apply(null,arguments)};var _BatchMatMul=Module[\"_BatchMatMul\"]=function(){return(_BatchMatMul=Module[\"_BatchMatMul\"]=Module[\"asm\"][\"BatchMatMul\"]).apply(null,arguments)};var _ClipByValue=Module[\"_ClipByValue\"]=function(){return(_ClipByValue=Module[\"_ClipByValue\"]=Module[\"asm\"][\"ClipByValue\"]).apply(null,arguments)};var _Conv2D=Module[\"_Conv2D\"]=function(){return(_Conv2D=Module[\"_Conv2D\"]=Module[\"asm\"][\"Conv2D\"]).apply(null,arguments)};var _Conv2DBackpropInput=Module[\"_Conv2DBackpropInput\"]=function(){return(_Conv2DBackpropInput=Module[\"_Conv2DBackpropInput\"]=Module[\"asm\"][\"Conv2DBackpropInput\"]).apply(null,arguments)};var _Cos=Module[\"_Cos\"]=function(){return(_Cos=Module[\"_Cos\"]=Module[\"asm\"][\"Cos\"]).apply(null,arguments)};var _CropAndResize=Module[\"_CropAndResize\"]=function(){return(_CropAndResize=Module[\"_CropAndResize\"]=Module[\"asm\"][\"CropAndResize\"]).apply(null,arguments)};var _DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=function(){return(_DepthwiseConv2dNative=Module[\"_DepthwiseConv2dNative\"]=Module[\"asm\"][\"DepthwiseConv2dNative\"]).apply(null,arguments)};var _Div=Module[\"_Div\"]=function(){return(_Div=Module[\"_Div\"]=Module[\"asm\"][\"Div\"]).apply(null,arguments)};var _Equal=Module[\"_Equal\"]=function(){return(_Equal=Module[\"_Equal\"]=Module[\"asm\"][\"Equal\"]).apply(null,arguments)};var _Exp=Module[\"_Exp\"]=function(){return(_Exp=Module[\"_Exp\"]=Module[\"asm\"][\"Exp\"]).apply(null,arguments)};var _FloorDiv=Module[\"_FloorDiv\"]=function(){return(_FloorDiv=Module[\"_FloorDiv\"]=Module[\"asm\"][\"FloorDiv\"]).apply(null,arguments)};var _FusedBatchNorm=Module[\"_FusedBatchNorm\"]=function(){return(_FusedBatchNorm=Module[\"_FusedBatchNorm\"]=Module[\"asm\"][\"FusedBatchNorm\"]).apply(null,arguments)};var _FusedConv2D=Module[\"_FusedConv2D\"]=function(){return(_FusedConv2D=Module[\"_FusedConv2D\"]=Module[\"asm\"][\"FusedConv2D\"]).apply(null,arguments)};var _FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=function(){return(_FusedDepthwiseConv2D=Module[\"_FusedDepthwiseConv2D\"]=Module[\"asm\"][\"FusedDepthwiseConv2D\"]).apply(null,arguments)};var _Gather=Module[\"_Gather\"]=function(){return(_Gather=Module[\"_Gather\"]=Module[\"asm\"][\"Gather\"]).apply(null,arguments)};var _GatherNd=Module[\"_GatherNd\"]=function(){return(_GatherNd=Module[\"_GatherNd\"]=Module[\"asm\"][\"GatherNd\"]).apply(null,arguments)};var _Greater=Module[\"_Greater\"]=function(){return(_Greater=Module[\"_Greater\"]=Module[\"asm\"][\"Greater\"]).apply(null,arguments)};var _GreaterEqual=Module[\"_GreaterEqual\"]=function(){return(_GreaterEqual=Module[\"_GreaterEqual\"]=Module[\"asm\"][\"GreaterEqual\"]).apply(null,arguments)};var _Less=Module[\"_Less\"]=function(){return(_Less=Module[\"_Less\"]=Module[\"asm\"][\"Less\"]).apply(null,arguments)};var _LessEqual=Module[\"_LessEqual\"]=function(){return(_LessEqual=Module[\"_LessEqual\"]=Module[\"asm\"][\"LessEqual\"]).apply(null,arguments)};var _Log=Module[\"_Log\"]=function(){return(_Log=Module[\"_Log\"]=Module[\"asm\"][\"Log\"]).apply(null,arguments)};var _LogicalAnd=Module[\"_LogicalAnd\"]=function(){return(_LogicalAnd=Module[\"_LogicalAnd\"]=Module[\"asm\"][\"LogicalAnd\"]).apply(null,arguments)};var _Max=Module[\"_Max\"]=function(){return(_Max=Module[\"_Max\"]=Module[\"asm\"][\"Max\"]).apply(null,arguments)};var _MaxPool=Module[\"_MaxPool\"]=function(){return(_MaxPool=Module[\"_MaxPool\"]=Module[\"asm\"][\"MaxPool\"]).apply(null,arguments)};var _Maximum=Module[\"_Maximum\"]=function(){return(_Maximum=Module[\"_Maximum\"]=Module[\"asm\"][\"Maximum\"]).apply(null,arguments)};var _Min=Module[\"_Min\"]=function(){return(_Min=Module[\"_Min\"]=Module[\"asm\"][\"Min\"]).apply(null,arguments)};var _Minimum=Module[\"_Minimum\"]=function(){return(_Minimum=Module[\"_Minimum\"]=Module[\"asm\"][\"Minimum\"]).apply(null,arguments)};var _Multiply=Module[\"_Multiply\"]=function(){return(_Multiply=Module[\"_Multiply\"]=Module[\"asm\"][\"Multiply\"]).apply(null,arguments)};var _Negate=Module[\"_Negate\"]=function(){return(_Negate=Module[\"_Negate\"]=Module[\"asm\"][\"Negate\"]).apply(null,arguments)};var _NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=function(){return(_NonMaxSuppressionV3=Module[\"_NonMaxSuppressionV3\"]=Module[\"asm\"][\"NonMaxSuppressionV3\"]).apply(null,arguments)};var _NonMaxSuppressionV4=Module[\"_NonMaxSuppressionV4\"]=function(){return(_NonMaxSuppressionV4=Module[\"_NonMaxSuppressionV4\"]=Module[\"asm\"][\"NonMaxSuppressionV4\"]).apply(null,arguments)};var _NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=function(){return(_NonMaxSuppressionV5=Module[\"_NonMaxSuppressionV5\"]=Module[\"asm\"][\"NonMaxSuppressionV5\"]).apply(null,arguments)};var _NotEqual=Module[\"_NotEqual\"]=function(){return(_NotEqual=Module[\"_NotEqual\"]=Module[\"asm\"][\"NotEqual\"]).apply(null,arguments)};var _OneHot=Module[\"_OneHot\"]=function(){return(_OneHot=Module[\"_OneHot\"]=Module[\"asm\"][\"OneHot\"]).apply(null,arguments)};var _PadV2=Module[\"_PadV2\"]=function(){return(_PadV2=Module[\"_PadV2\"]=Module[\"asm\"][\"PadV2\"]).apply(null,arguments)};var _Pow=Module[\"_Pow\"]=function(){return(_Pow=Module[\"_Pow\"]=Module[\"asm\"][\"Pow\"]).apply(null,arguments)};var _Prelu=Module[\"_Prelu\"]=function(){return(_Prelu=Module[\"_Prelu\"]=Module[\"asm\"][\"Prelu\"]).apply(null,arguments)};var _Relu=Module[\"_Relu\"]=function(){return(_Relu=Module[\"_Relu\"]=Module[\"asm\"][\"Relu\"]).apply(null,arguments)};var _Relu6=Module[\"_Relu6\"]=function(){return(_Relu6=Module[\"_Relu6\"]=Module[\"asm\"][\"Relu6\"]).apply(null,arguments)};var _ResizeBilinear=Module[\"_ResizeBilinear\"]=function(){return(_ResizeBilinear=Module[\"_ResizeBilinear\"]=Module[\"asm\"][\"ResizeBilinear\"]).apply(null,arguments)};var _Reverse=Module[\"_Reverse\"]=function(){return(_Reverse=Module[\"_Reverse\"]=Module[\"asm\"][\"Reverse\"]).apply(null,arguments)};var _RotateWithOffset=Module[\"_RotateWithOffset\"]=function(){return(_RotateWithOffset=Module[\"_RotateWithOffset\"]=Module[\"asm\"][\"RotateWithOffset\"]).apply(null,arguments)};var _Rsqrt=Module[\"_Rsqrt\"]=function(){return(_Rsqrt=Module[\"_Rsqrt\"]=Module[\"asm\"][\"Rsqrt\"]).apply(null,arguments)};var _ScatterNd=Module[\"_ScatterNd\"]=function(){return(_ScatterNd=Module[\"_ScatterNd\"]=Module[\"asm\"][\"ScatterNd\"]).apply(null,arguments)};var _SelectV2=Module[\"_SelectV2\"]=function(){return(_SelectV2=Module[\"_SelectV2\"]=Module[\"asm\"][\"SelectV2\"]).apply(null,arguments)};var _Sigmoid=Module[\"_Sigmoid\"]=function(){return(_Sigmoid=Module[\"_Sigmoid\"]=Module[\"asm\"][\"Sigmoid\"]).apply(null,arguments)};var _Sin=Module[\"_Sin\"]=function(){return(_Sin=Module[\"_Sin\"]=Module[\"asm\"][\"Sin\"]).apply(null,arguments)};var _Softmax=Module[\"_Softmax\"]=function(){return(_Softmax=Module[\"_Softmax\"]=Module[\"asm\"][\"Softmax\"]).apply(null,arguments)};var _Sqrt=Module[\"_Sqrt\"]=function(){return(_Sqrt=Module[\"_Sqrt\"]=Module[\"asm\"][\"Sqrt\"]).apply(null,arguments)};var _Square=Module[\"_Square\"]=function(){return(_Square=Module[\"_Square\"]=Module[\"asm\"][\"Square\"]).apply(null,arguments)};var _Sub=Module[\"_Sub\"]=function(){return(_Sub=Module[\"_Sub\"]=Module[\"asm\"][\"Sub\"]).apply(null,arguments)};var _Sum=Module[\"_Sum\"]=function(){return(_Sum=Module[\"_Sum\"]=Module[\"asm\"][\"Sum\"]).apply(null,arguments)};var _Tanh=Module[\"_Tanh\"]=function(){return(_Tanh=Module[\"_Tanh\"]=Module[\"asm\"][\"Tanh\"]).apply(null,arguments)};var _Tile=Module[\"_Tile\"]=function(){return(_Tile=Module[\"_Tile\"]=Module[\"asm\"][\"Tile\"]).apply(null,arguments)};var _Transpose=Module[\"_Transpose\"]=function(){return(_Transpose=Module[\"_Transpose\"]=Module[\"asm\"][\"Transpose\"]).apply(null,arguments)};var __FusedMatMul=Module[\"__FusedMatMul\"]=function(){return(__FusedMatMul=Module[\"__FusedMatMul\"]=Module[\"asm\"][\"_FusedMatMul\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"malloc\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"free\"]).apply(null,arguments)};var __start=Module[\"__start\"]=function(){return(__start=Module[\"__start\"]=Module[\"asm\"][\"_start\"]).apply(null,arguments)};var stackSave=Module[\"stackSave\"]=function(){return(stackSave=Module[\"stackSave\"]=Module[\"asm\"][\"stackSave\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"stackAlloc\"]).apply(null,arguments)};var stackRestore=Module[\"stackRestore\"]=function(){return(stackRestore=Module[\"stackRestore\"]=Module[\"asm\"][\"stackRestore\"]).apply(null,arguments)};Module[\"asm\"]=asm;Module[\"cwrap\"]=cwrap;var calledRun;Module[\"then\"]=function(func){if(calledRun){func(Module)}else{var old=Module[\"onRuntimeInitialized\"];Module[\"onRuntimeInitialized\"]=function(){if(old)old();func(Module)}}return Module};function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}var calledMain=false;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function callMain(args){var entryFunction=Module[\"__start\"];try{entryFunction();var ret=0;exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e==\"unwind\"){noExitRuntime=true;return}else{var toLog=e;if(e&&typeof e===\"object\"&&e.stack){toLog=[e,e.stack]}err(\"exception thrown: \"+toLog);quit_(1,e)}}finally{calledMain=true}}function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();if(shouldRunNow)callMain(args);postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;function exit(status,implicit){if(implicit&&noExitRuntime&&status===0){return}if(noExitRuntime){}else{ABORT=true;EXITSTATUS=status;exitRuntime();if(Module[\"onExit\"])Module[\"onExit\"](status)}quit_(status,new ExitStatus(status))}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}var shouldRunNow=true;if(Module[\"noInitialRun\"])shouldRunNow=false;noExitRuntime=true;run();\n\n\n  return WasmBackendModule\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n      module.exports = WasmBackendModule;\n    else if (typeof define === 'function' && define['amd'])\n      define([], function() { return WasmBackendModule; });\n    else if (typeof exports === 'object')\n      exports[\"WasmBackendModule\"] = WasmBackendModule;\n    ","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport './flags_wasm';\nimport { DataStorage, deprecationWarn, engine, env, KernelBackend, registerBackend, util } from '@tensorflow/tfjs-core';\nimport wasmFactoryThreadedSimd from '../wasm-out/tfjs-backend-wasm-threaded-simd.js';\n// @ts-ignore\nimport { wasmWorkerContents } from '../wasm-out/tfjs-backend-wasm-threaded-simd.worker.js';\nimport wasmFactory from '../wasm-out/tfjs-backend-wasm.js';\nconst WASM_PRIORITY = 2;\nexport class BackendWasm extends KernelBackend {\n    constructor(wasm) {\n        super();\n        this.wasm = wasm;\n        // 0 is reserved for null data ids.\n        this.dataIdNextNumber = 1;\n        this.wasm.tfjs.init();\n        this.dataIdMap = new DataStorage(this, engine());\n    }\n    write(values, shape, dtype) {\n        const dataId = {};\n        this.move(dataId, values, shape, dtype);\n        return dataId;\n    }\n    numDataIds() {\n        return this.dataIdMap.numDataIds();\n    }\n    async time(f) {\n        const start = util.now();\n        f();\n        const kernelMs = util.now() - start;\n        return { kernelMs };\n    }\n    move(dataId, values, shape, dtype) {\n        const id = this.dataIdNextNumber++;\n        if (dtype === 'string') {\n            const stringBytes = values;\n            this.dataIdMap.set(dataId, { id, stringBytes, shape, dtype, memoryOffset: null });\n            return;\n        }\n        const size = util.sizeFromShape(shape);\n        const numBytes = size * util.bytesPerElement(dtype);\n        const memoryOffset = this.wasm._malloc(numBytes);\n        this.dataIdMap.set(dataId, { id, memoryOffset, shape, dtype });\n        this.wasm.tfjs.registerTensor(id, size, memoryOffset);\n        if (values != null) {\n            this.wasm.HEAPU8.set(new Uint8Array(values.buffer, values.byteOffset, numBytes), memoryOffset);\n        }\n    }\n    async read(dataId) {\n        return this.readSync(dataId);\n    }\n    readSync(dataId) {\n        const { memoryOffset, dtype, shape, stringBytes } = this.dataIdMap.get(dataId);\n        if (dtype === 'string') {\n            return stringBytes;\n        }\n        const bytes = this.wasm.HEAPU8.slice(memoryOffset, memoryOffset + util.sizeFromShape(shape) * util.bytesPerElement(dtype));\n        return typedArrayFromBuffer(bytes.buffer, dtype);\n    }\n    disposeData(dataId) {\n        const data = this.dataIdMap.get(dataId);\n        this.wasm._free(data.memoryOffset);\n        this.wasm.tfjs.disposeData(data.id);\n        this.dataIdMap.delete(dataId);\n    }\n    floatPrecision() {\n        return 32;\n    }\n    // Returns the memory offset of a tensor. Useful for debugging and unit\n    // testing.\n    getMemoryOffset(dataId) {\n        return this.dataIdMap.get(dataId).memoryOffset;\n    }\n    dispose() {\n        this.wasm.tfjs.dispose();\n        this.wasm = null;\n    }\n    memory() {\n        return { unreliable: false };\n    }\n    /**\n     * Make a tensor info for the output of an op. If `memoryOffset` is not\n     * present, this method allocates memory on the WASM heap. If `memoryOffset`\n     * is present, the memory was allocated elsewhere (in c++) and we just record\n     * the pointer where that memory lives.\n     */\n    makeOutput(shape, dtype, memoryOffset) {\n        let dataId;\n        if (memoryOffset == null) {\n            dataId = this.write(null /* values */, shape, dtype);\n        }\n        else {\n            dataId = {};\n            const id = this.dataIdNextNumber++;\n            this.dataIdMap.set(dataId, { id, memoryOffset, shape, dtype });\n            const size = util.sizeFromShape(shape);\n            this.wasm.tfjs.registerTensor(id, size, memoryOffset);\n        }\n        return { dataId, shape, dtype };\n    }\n    typedArrayFromHeap({ shape, dtype, dataId }) {\n        const buffer = this.wasm.HEAPU8.buffer;\n        const { memoryOffset } = this.dataIdMap.get(dataId);\n        const size = util.sizeFromShape(shape);\n        switch (dtype) {\n            case 'float32':\n                return new Float32Array(buffer, memoryOffset, size);\n            case 'int32':\n                return new Int32Array(buffer, memoryOffset, size);\n            case 'bool':\n                return new Uint8Array(buffer, memoryOffset, size);\n            default:\n                throw new Error(`Uknown dtype ${dtype}`);\n        }\n    }\n}\nregisterBackend('wasm', async () => {\n    const { wasm } = await init();\n    return new BackendWasm(wasm);\n}, WASM_PRIORITY);\nfunction createInstantiateWasmFunc(path) {\n    // tslint:disable-next-line:no-any\n    return (imports, callback) => {\n        util.fetch(path, { credentials: 'same-origin' }).then((response) => {\n            if (!response['ok']) {\n                imports.env.a(`failed to load wasm binary file at '${path}'`);\n            }\n            response.arrayBuffer().then(binary => {\n                WebAssembly.instantiate(binary, imports).then(output => {\n                    callback(output.instance);\n                });\n            });\n        });\n        return {};\n    };\n}\n/**\n * Returns the path of the WASM binary.\n * @param simdSupported whether SIMD is supported\n * @param threadsSupported whether multithreading is supported\n * @param wasmModuleFolder the directory containing the WASM binaries.\n */\nfunction getPathToWasmBinary(simdSupported, threadsSupported, wasmModuleFolder) {\n    if (wasmPath != null) {\n        // If wasmPath is defined, the user has supplied a full path to\n        // the vanilla .wasm binary.\n        return wasmPath;\n    }\n    let path = 'tfjs-backend-wasm.wasm';\n    if (simdSupported && threadsSupported) {\n        path = 'tfjs-backend-wasm-threaded-simd.wasm';\n    }\n    if (simdSupported) {\n        path = 'tfjs-backend-wasm-simd.wasm';\n    }\n    if (wasmFileMap != null) {\n        if (wasmFileMap[path] != null) {\n            return wasmFileMap[path];\n        }\n    }\n    return wasmModuleFolder + path;\n}\n/**\n * Initializes the wasm module and creates the js <--> wasm bridge.\n *\n * NOTE: We wrap the wasm module in a object with property 'wasm' instead of\n * returning Promise<BackendWasmModule> to avoid freezing Chrome (last tested\n * in Chrome 76).\n */\nexport async function init() {\n    const [simdSupported, threadsSupported] = await Promise.all([\n        env().getAsync('WASM_HAS_SIMD_SUPPORT'),\n        env().getAsync('WASM_HAS_MULTITHREAD_SUPPORT')\n    ]);\n    return new Promise((resolve, reject) => {\n        const factoryConfig = {};\n        /**\n         * This function overrides the Emscripten module locateFile utility.\n         * @param path The relative path to the file that needs to be loaded.\n         * @param prefix The path to the main JavaScript file's directory.\n         */\n        factoryConfig.locateFile = (path, prefix) => {\n            if (path.endsWith('.worker.js')) {\n                const response = wasmWorkerContents;\n                const blob = new Blob([response], { type: 'application/javascript' });\n                return URL.createObjectURL(blob);\n            }\n            if (path.endsWith('.wasm')) {\n                return getPathToWasmBinary(simdSupported, threadsSupported, wasmPathPrefix != null ? wasmPathPrefix : prefix);\n            }\n            return prefix + path;\n        };\n        // Use the instantiateWasm override when system fetch is not available.\n        // Reference:\n        // https://github.com/emscripten-core/emscripten/blob/2bca083cbbd5a4133db61fbd74d04f7feecfa907/tests/manual_wasm_instantiate.html#L170\n        if (customFetch) {\n            factoryConfig.instantiateWasm =\n                createInstantiateWasmFunc(getPathToWasmBinary(simdSupported, threadsSupported, wasmPathPrefix != null ? wasmPathPrefix : ''));\n        }\n        let wasm;\n        // If `wasmPath` has been defined we must initialize the vanilla module.\n        if (threadsSupported && simdSupported && wasmPath == null) {\n            wasm = wasmFactoryThreadedSimd(factoryConfig);\n            wasm.mainScriptUrlOrBlob = new Blob([`var _scriptDir = undefined; var WasmBackendModuleThreadedSimd = ` +\n                    wasmFactoryThreadedSimd.toString()], { type: 'text/javascript' });\n        }\n        else {\n            // The wasmFactory works for both vanilla and SIMD binaries.\n            wasm = wasmFactory(factoryConfig);\n        }\n        const voidReturnType = null;\n        // Using the tfjs namespace to avoid conflict with emscripten's API.\n        wasm.tfjs = {\n            init: wasm.cwrap('init', null, []),\n            registerTensor: wasm.cwrap('register_tensor', null, [\n                'number',\n                'number',\n                'number',\n            ]),\n            disposeData: wasm.cwrap('dispose_data', voidReturnType, ['number']),\n            dispose: wasm.cwrap('dispose', voidReturnType, []),\n        };\n        let initialized = false;\n        wasm.onRuntimeInitialized = () => {\n            initialized = true;\n            initAborted = false;\n            resolve({ wasm });\n        };\n        wasm.onAbort = () => {\n            if (initialized) {\n                // Emscripten already called console.warn so no need to double log.\n                return;\n            }\n            if (initAborted) {\n                // Emscripten calls `onAbort` twice, resulting in double error\n                // messages.\n                return;\n            }\n            initAborted = true;\n            const rejectMsg = 'Make sure the server can serve the `.wasm` file relative to the ' +\n                'bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers';\n            reject({ message: rejectMsg });\n        };\n    });\n}\nfunction typedArrayFromBuffer(buffer, dtype) {\n    switch (dtype) {\n        case 'float32':\n            return new Float32Array(buffer);\n        case 'int32':\n            return new Int32Array(buffer);\n        case 'bool':\n            return new Uint8Array(buffer);\n        default:\n            throw new Error(`Unknown dtype ${dtype}`);\n    }\n}\nconst wasmBinaryNames = [\n    'tfjs-backend-wasm.wasm', 'tfjs-backend-wasm-simd.wasm',\n    'tfjs-backend-wasm-threaded-simd.wasm'\n];\nlet wasmPath = null;\nlet wasmPathPrefix = null;\nlet wasmFileMap = {};\nlet initAborted = false;\nlet customFetch = false;\n/**\n * @deprecated Use `setWasmPaths` instead.\n * Sets the path to the `.wasm` file which will be fetched when the wasm\n * backend is initialized. See\n * https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers\n * for more details.\n * @param path wasm file path or url\n * @param usePlatformFetch optional boolean to use platform fetch to download\n *     the wasm file, default to false.\n */\n/** @doc {heading: 'Environment', namespace: 'wasm'} */\nexport function setWasmPath(path, usePlatformFetch = false) {\n    deprecationWarn('setWasmPath has been deprecated in favor of setWasmPaths and' +\n        ' will be removed in a future release.');\n    if (initAborted) {\n        throw new Error('The WASM backend was already initialized. Make sure you call ' +\n            '`setWasmPath()` before you call `tf.setBackend()` or `tf.ready()`');\n    }\n    wasmPath = path;\n    customFetch = usePlatformFetch;\n}\n/**\n * Configures the locations of the WASM binaries.\n *\n * ```js\n * const customPrefix = null;\n * setWasmPaths(customPrefix, {\n *  'tfjs-backend-wasm.wasm': 'renamed.wasm',\n *  'tfjs-backend-wasm-simd.wasm': 'renamed-simd.wasm',\n *  'tfjs-backend-wasm-threaded-simd.wasm': 'renamed-threaded-simd.wasm'\n * });\n * tf.setBackend('wasm');\n * ```\n *\n * @param prefixOrFileMap This can be either a string or object:\n *  - (string) The path to the directory where the WASM binaries are located.\n *     Note that this prefix will be used to load each binary (vanilla,\n *     SIMD-enabled, threading-enabled, etc.).\n *  - (object) Mapping from names of WASM binaries to custom\n *     full paths specifying the locations of those binaries. This is useful if\n *     your WASM binaries are not all located in the same directory, or if your\n *     WASM binaries have been renamed.\n * @param usePlatformFetch optional boolean to use platform fetch to download\n *     the wasm file, default to false.\n */\n/** @doc {heading: 'Environment', namespace: 'wasm'} */\nexport function setWasmPaths(prefixOrFileMap, usePlatformFetch = false) {\n    if (initAborted) {\n        throw new Error('The WASM backend was already initialized. Make sure you call ' +\n            '`setWasmPaths()` before you call `tf.setBackend()` or ' +\n            '`tf.ready()`');\n    }\n    if (typeof prefixOrFileMap === 'string') {\n        wasmPathPrefix = prefixOrFileMap;\n    }\n    else {\n        wasmFileMap = prefixOrFileMap;\n        const missingPaths = wasmBinaryNames.filter(name => wasmFileMap[name] == null);\n        if (missingPaths.length) {\n            console.warn(`You provided a map of overrides for WASM binaries, but there ` +\n                `were no entries found for the following binaries: ` +\n                `${missingPaths.join(',')}. We will fall back to their ` +\n                `default locations.`);\n        }\n    }\n    customFetch = usePlatformFetch;\n}\n/** Used in unit tests. */\nexport function resetWasmPath() {\n    wasmPath = null;\n    wasmPathPrefix = null;\n    wasmFileMap = {};\n    customFetch = false;\n    initAborted = false;\n}\n//# sourceMappingURL=backend_wasm.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { ENGINE } from './engine';\nimport { env } from './environment';\nimport { setDeprecationWarningFn } from './tensor';\nimport { getTensorsInContainer } from './tensor_util';\n/**\n * Enables production mode which disables correctness checks in favor of\n * performance.\n */\n/** @doc {heading: 'Environment'} */\nexport function enableProdMode() {\n    env().set('PROD', true);\n}\n/**\n * Enables debug mode which will log information about all executed kernels:\n * the elapsed time of the kernel execution, as well as the rank, shape, and\n * size of the output tensor.\n *\n * Debug mode will significantly slow down your application as it will\n * download the result of every operation to the CPU. This should not be used in\n * production. Debug mode does not affect the timing information of the kernel\n * execution as we do not measure download time in the kernel execution time.\n *\n * See also: `tf.profile`, `tf.memory`.\n */\n/** @doc {heading: 'Environment'} */\nexport function enableDebugMode() {\n    env().set('DEBUG', true);\n}\n/** Globally disables deprecation warnings */\nexport function disableDeprecationWarnings() {\n    env().set('DEPRECATION_WARNINGS_ENABLED', false);\n    console.warn(`TensorFlow.js deprecation warnings have been disabled.`);\n}\n/** Warn users about deprecated functionality. */\nexport function deprecationWarn(msg) {\n    if (env().getBool('DEPRECATION_WARNINGS_ENABLED')) {\n        console.warn(msg + ' You can disable deprecation warnings with ' +\n            'tf.disableDeprecationWarnings().');\n    }\n}\nsetDeprecationWarningFn(deprecationWarn);\n/**\n * Dispose all variables kept in backend engine.\n */\n/** @doc {heading: 'Environment'} */\nexport function disposeVariables() {\n    ENGINE.disposeVariables();\n}\n/**\n * It returns the global engine that keeps track of all tensors and backends.\n */\n/** @doc {heading: 'Environment'} */\nexport function engine() {\n    return ENGINE;\n}\n/**\n * Returns memory info at the current time in the program. The result is an\n * object with the following properties:\n *\n * - `numBytes`: Number of bytes allocated (undisposed) at this time.\n * - `numTensors`: Number of unique tensors allocated.\n * - `numDataBuffers`: Number of unique data buffers allocated\n *   (undisposed) at this time, which is  the number of tensors\n *   (e.g. `a.reshape(newShape)` makes a new Tensor that shares the same\n *   data buffer with `a`).\n * - `unreliable`: True if the memory usage is unreliable. See `reasons` when\n *    `unreliable` is true.\n * - `reasons`: `string[]`, reasons why the memory is unreliable, present if\n *    `unreliable` is true.\n *\n * WebGL Properties:\n * - `numBytesInGPU`: Number of bytes allocated (undisposed) in the GPU only at\n *     this time.\n */\n/** @doc {heading: 'Performance', subheading: 'Memory'} */\nexport function memory() {\n    return ENGINE.memory();\n}\n/**\n * Executes the provided function `f()` and returns a promise that resolves\n * with information about the function's memory use:\n * - `newBytes`: the number of new bytes allocated\n * - `newTensors`: the number of new tensors created\n * - `peakBytes`: the peak number of bytes allocated\n * - `kernels`: an array of objects for each kernel involved that reports\n * their input and output shapes, number of bytes used, and number of new\n * tensors created.\n *\n * ```js\n * const profile = await tf.profile(() => {\n *   const x = tf.tensor1d([1, 2, 3]);\n *   let x2 = x.square();\n *   x2.dispose();\n *   x2 = x.square();\n *   x2.dispose();\n *   return x;\n * });\n *\n * console.log(`newBytes: ${profile.newBytes}`);\n * console.log(`newTensors: ${profile.newTensors}`);\n * console.log(`byte usage over all kernels: ${profile.kernels.map(k =>\n * k.totalBytesSnapshot)}`);\n * ```\n *\n */\n/** @doc {heading: 'Performance', subheading: 'Profile'} */\nexport function profile(f) {\n    return ENGINE.profile(f);\n}\n/**\n * Executes the provided function `fn` and after it is executed, cleans up all\n * intermediate tensors allocated by `fn` except those returned by `fn`.\n * `fn` must not return a Promise (async functions not allowed). The returned\n * result can be a complex object.\n *\n * Using this method helps avoid memory leaks. In general, wrap calls to\n * operations in `tf.tidy` for automatic memory cleanup.\n *\n * NOTE: Variables do *not* get cleaned up when inside a tidy(). If you want to\n * dispose variables, please use `tf.disposeVariables` or call dispose()\n * directly on variables.\n *\n * ```js\n * // y = 2 ^ 2 + 1\n * const y = tf.tidy(() => {\n *   // a, b, and one will be cleaned up when the tidy ends.\n *   const one = tf.scalar(1);\n *   const a = tf.scalar(2);\n *   const b = a.square();\n *\n *   console.log('numTensors (in tidy): ' + tf.memory().numTensors);\n *\n *   // The value returned inside the tidy function will return\n *   // through the tidy, in this case to the variable y.\n *   return b.add(one);\n * });\n *\n * console.log('numTensors (outside tidy): ' + tf.memory().numTensors);\n * y.print();\n * ```\n *\n * @param nameOrFn The name of the closure, or the function to execute.\n *     If a name is provided, the 2nd argument should be the function.\n *     If debug mode is on, the timing and the memory usage of the function\n *     will be tracked and displayed on the console using the provided name.\n * @param fn The function to execute.\n */\n/** @doc {heading: 'Performance', subheading: 'Memory'} */\nexport function tidy(nameOrFn, fn) {\n    return ENGINE.tidy(nameOrFn, fn);\n}\n/**\n * Disposes any `tf.Tensor`s found within the provided object.\n *\n * @param container an object that may be a `tf.Tensor` or may directly\n *     contain `tf.Tensor`s, such as a `Tensor[]` or `{key: Tensor, ...}`. If\n *     the object is not a `tf.Tensor` or does not contain `Tensors`, nothing\n *     happens. In general it is safe to pass any object here, except that\n *     `Promise`s are not supported.\n */\n/** @doc {heading: 'Performance', subheading: 'Memory'} */\nexport function dispose(container) {\n    const tensors = getTensorsInContainer(container);\n    tensors.forEach(tensor => tensor.dispose());\n}\n/**\n * Keeps a `tf.Tensor` generated inside a `tf.tidy` from being disposed\n * automatically.\n *\n * ```js\n * let b;\n * const y = tf.tidy(() => {\n *   const one = tf.scalar(1);\n *   const a = tf.scalar(2);\n *\n *   // b will not be cleaned up by the tidy. a and one will be cleaned up\n *   // when the tidy ends.\n *   b = tf.keep(a.square());\n *\n *   console.log('numTensors (in tidy): ' + tf.memory().numTensors);\n *\n *   // The value returned inside the tidy function will return\n *   // through the tidy, in this case to the variable y.\n *   return b.add(one);\n * });\n *\n * console.log('numTensors (outside tidy): ' + tf.memory().numTensors);\n * console.log('y:');\n * y.print();\n * console.log('b:');\n * b.print();\n * ```\n *\n * @param result The tensor to keep from being disposed.\n */\n/** @doc {heading: 'Performance', subheading: 'Memory'} */\nexport function keep(result) {\n    return ENGINE.keep(result);\n}\n/**\n * Executes `f()` and returns a promise that resolves with timing\n * information.\n *\n * The result is an object with the following properties:\n *\n * - `wallMs`: Wall execution time.\n * - `kernelMs`: Kernel execution time, ignoring data transfer. If using the\n * WebGL backend and the query timer extension is not available, this will\n * return an error object.\n * - On `WebGL` The following additional properties exist:\n *   - `uploadWaitMs`: CPU blocking time on texture uploads.\n *   - `downloadWaitMs`: CPU blocking time on texture downloads (readPixels).\n *\n * ```js\n * const x = tf.randomNormal([20, 20]);\n * const time = await tf.time(() => x.matMul(x));\n *\n * console.log(`kernelMs: ${time.kernelMs}, wallTimeMs: ${time.wallMs}`);\n * ```\n *\n * @param f The function to execute and time.\n */\n/** @doc {heading: 'Performance', subheading: 'Timing'} */\nexport function time(f) {\n    return ENGINE.time(f);\n}\n/**\n * Sets the backend (cpu, webgl, wasm, etc) responsible for creating tensors and\n * executing operations on those tensors. Returns a promise that resolves\n * to a boolean if the backend initialization was successful.\n *\n * Note this disposes the current backend, if any, as well as any tensors\n * associated with it. A new backend is initialized, even if it is of the\n * same type as the previous one.\n *\n * @param backendName The name of the backend. Currently supports\n *     `'webgl'|'cpu'` in the browser, `'tensorflow'` under node.js\n *     (requires tfjs-node), and `'wasm'` (requires tfjs-backend-wasm).\n */\n/** @doc {heading: 'Backends'} */\nexport function setBackend(backendName) {\n    return ENGINE.setBackend(backendName);\n}\n/**\n * Returns a promise that resolves when the currently selected backend (or the\n * highest priority one) has initialized. Await this promise when you are using\n * a backend that has async initialization.\n */\n/** @doc {heading: 'Backends'} */\nexport function ready() {\n    return ENGINE.ready();\n}\n/**\n * Returns the current backend name (cpu, webgl, etc). The backend is\n * responsible for creating tensors and executing operations on those tensors.\n */\n/** @doc {heading: 'Backends'} */\nexport function getBackend() {\n    return ENGINE.backendName;\n}\n/**\n * Removes a backend and the registered factory.\n */\n/** @doc {heading: 'Backends'} */\nexport function removeBackend(name) {\n    ENGINE.removeBackend(name);\n}\n/**\n * Finds the backend registered under the provided name. Returns null if the\n * name is not in the registry, or the registration hasn't finished yet.\n */\nexport function findBackend(name) {\n    return ENGINE.findBackend(name);\n}\n/**\n * Finds the backend factory registered under the provided name. Returns a\n * function that produces a new backend when called. Returns null if the name\n * is not in the registry.\n */\nexport function findBackendFactory(name) {\n    return ENGINE.findBackendFactory(name);\n}\n/**\n * Registers a global backend. The registration should happen when importing\n * a module file (e.g. when importing `backend_webgl.ts`), and is used for\n * modular builds (e.g. custom tfjs bundle with only webgl support).\n *\n * @param factory The backend factory function. When called, it should\n * return a backend instance, or a promise of an instance.\n * @param priority The priority of the backend (higher = more important).\n *     In case multiple backends are registered, the priority is used to find\n *     the best backend. Defaults to 1.\n * @return False if there is already a registered backend under this name, true\n *     if not.\n */\n/** @doc {heading: 'Backends'} */\nexport function registerBackend(name, factory, priority = 1) {\n    return ENGINE.registerBackend(name, factory, priority);\n}\n/**\n * Gets the current backend. If no backends have been initialized, this will\n * attempt to initialize the best backend. Will throw an error if the highest\n * priority backend has async initialization, in which case, you should call\n * 'await tf.ready()' before running other code.\n */\n/** @doc {heading: 'Backends'} */\nexport function backend() {\n    return ENGINE.backend;\n}\n/**\n * Sets the global platform.\n *\n * @param platformName The name of this platform.\n * @param platform A platform implementation.\n */\nexport function setPlatform(platformName, platform) {\n    env().setPlatform(platformName, platform);\n}\n//# sourceMappingURL=globals.js.map","export const wasmWorkerContents = 'var threadInfoStruct=0;var selfThreadId=0;var parentThreadId=0;var Module={};function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(\" \");console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(\" \");postMessage({cmd:\"alert\",text:text,threadId:selfThreadId})}var err=threadPrintErr;this.alert=threadAlert;Module[\"instantiateWasm\"]=function(info,receiveInstance){var instance=new WebAssembly.Instance(Module[\"wasmModule\"],info);Module[\"wasmModule\"]=null;receiveInstance(instance);return instance.exports};this.onmessage=function(e){try{if(e.data.cmd===\"load\"){Module[\"DYNAMIC_BASE\"]=e.data.DYNAMIC_BASE;Module[\"DYNAMICTOP_PTR\"]=e.data.DYNAMICTOP_PTR;Module[\"wasmModule\"]=e.data.wasmModule;Module[\"wasmMemory\"]=e.data.wasmMemory;Module[\"buffer\"]=Module[\"wasmMemory\"].buffer;Module[\"ENVIRONMENT_IS_PTHREAD\"]=true;if(typeof e.data.urlOrBlob===\"string\"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}Module=WasmBackendModuleThreadedSimd(Module);postMessage({\"cmd\":\"loaded\"})}else if(e.data.cmd===\"objectTransfer\"){Module[\"PThread\"].receiveObjectTransfer(e.data)}else if(e.data.cmd===\"run\"){Module[\"__performance_now_clock_drift\"]=performance.now()-e.data.time;threadInfoStruct=e.data.threadInfoStruct;Module[\"__register_pthread_ptr\"](threadInfoStruct,0,0);selfThreadId=e.data.selfThreadId;parentThreadId=e.data.parentThreadId;var max=e.data.stackBase;var top=e.data.stackBase+e.data.stackSize;Module[\"establishStackSpace\"](top,max);Module[\"_emscripten_tls_init\"]();Module[\"PThread\"].receiveObjectTransfer(e.data);Module[\"PThread\"].setThreadStatus(Module[\"_pthread_self\"](),1);try{var result=Module[\"dynCall_ii\"](e.data.start_routine,e.data.arg);if(!Module[\"getNoExitRuntime\"]())Module[\"PThread\"].threadExit(result)}catch(ex){if(ex===\"Canceled!\"){Module[\"PThread\"].threadCancel()}else if(ex!=\"unwind\"){Atomics.store(Module[\"HEAPU32\"],threadInfoStruct+4>>2,ex instanceof Module[\"ExitStatus\"]?ex.status:-2);Atomics.store(Module[\"HEAPU32\"],threadInfoStruct+0>>2,1);Module[\"_emscripten_futex_wake\"](threadInfoStruct+0,2147483647);if(!(ex instanceof Module[\"ExitStatus\"]))throw ex}}}else if(e.data.cmd===\"cancel\"){if(threadInfoStruct){Module[\"PThread\"].threadCancel()}}else if(e.data.target===\"setimmediate\"){}else if(e.data.cmd===\"processThreadQueue\"){if(threadInfoStruct){Module[\"_emscripten_current_thread_process_queued_calls\"]()}}else{err(\"worker.js received unknown command \"+e.data.cmd);err(e.data)}}catch(ex){err(\"worker.js onmessage() captured an uncaught exception: \"+ex);if(ex.stack)err(ex.stack);throw ex}};if(typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\"){self={location:{href:__filename}};var onmessage=this.onmessage;var nodeWorkerThreads=require(\"worker_threads\");Worker=nodeWorkerThreads.Worker;var parentPort=nodeWorkerThreads.parentPort;parentPort.on(\"message\",function(data){onmessage({data:data})});var nodeFS=require(\"fs\");var nodeRead=function(filename){return nodeFS.readFileSync(filename,\"utf8\")};function globalEval(x){global.require=require;global.Module=Module;eval.call(null,x)}importScripts=function(f){globalEval(nodeRead(f))};postMessage=function(msg){parentPort.postMessage(msg)};if(typeof performance===\"undefined\"){performance={now:function(){return Date.now()}}}}';","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n// This enum must align with the enum defined in cc/backend.h.\nexport var CppDType;\n(function (CppDType) {\n    CppDType[CppDType[\"float32\"] = 0] = \"float32\";\n    CppDType[CppDType[\"int32\"] = 1] = \"int32\";\n    CppDType[CppDType[\"bool\"] = 2] = \"bool\";\n    CppDType[CppDType[\"string\"] = 3] = \"string\";\n    CppDType[CppDType[\"complex64\"] = 4] = \"complex64\";\n})(CppDType || (CppDType = {}));\n// Must match enum in cc/fusable_activations.h.\nexport var FusableActivation;\n(function (FusableActivation) {\n    FusableActivation[FusableActivation[\"linear\"] = 0] = \"linear\";\n    FusableActivation[FusableActivation[\"relu\"] = 1] = \"relu\";\n    FusableActivation[FusableActivation[\"relu6\"] = 2] = \"relu6\";\n    FusableActivation[FusableActivation[\"prelu\"] = 3] = \"prelu\";\n})(FusableActivation || (FusableActivation = {}));\n//# sourceMappingURL=types.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { Transpose } from '@tensorflow/tfjs-core';\nimport { identity } from './Identity';\nimport { CppDType } from './types';\nlet wasmTranspose;\nfunction setup(backend) {\n    wasmTranspose = backend.wasm.cwrap(Transpose, null /* void */, [\n        'number',\n        'array',\n        'number',\n        'number',\n        'number',\n        'array',\n        'number',\n    ]);\n}\nexport function transpose(args) {\n    const { inputs, backend, attrs } = args;\n    // Reduce any dimensions with size one. Lower-rank transpose kernel performs\n    // better due to simpler memory access pattern.\n    const [reducedShape, perm] = removeOneSizeDims(inputs.x.shape, attrs.perm);\n    let permIsNoOp = true;\n    for (let i = 0; i < perm.length; i++) {\n        if (perm[i] !== i) {\n            permIsNoOp = false;\n        }\n    }\n    const outShape = computeOutShape(inputs.x.shape, attrs.perm);\n    const x = {\n        dataId: inputs.x.dataId,\n        shape: reducedShape,\n        dtype: inputs.x.dtype\n    };\n    if (permIsNoOp) {\n        const cloned = identity({ inputs, backend });\n        cloned.shape = outShape;\n        return cloned;\n    }\n    const out = backend.makeOutput(outShape, x.dtype);\n    const xId = backend.dataIdMap.get(x.dataId).id;\n    const outId = backend.dataIdMap.get(out.dataId).id;\n    const permBytes = new Uint8Array(new Int32Array(perm).buffer);\n    const xShapeBytes = new Uint8Array(new Int32Array(x.shape).buffer);\n    wasmTranspose(xId, xShapeBytes, x.shape.length, CppDType[x.dtype], outId, permBytes, perm.length);\n    return out;\n}\nfunction computeOutShape(inShape, perm) {\n    const outShape = new Array(inShape.length);\n    for (let i = 0; i < outShape.length; i++) {\n        outShape[i] = inShape[perm[i]];\n    }\n    return outShape;\n}\nfunction removeOneSizeDims(shape, perm) {\n    const newShape = [];\n    const newPerm = [];\n    for (let i = 0; i < shape.length; ++i) {\n        if (shape[i] !== 1) {\n            newShape.push(shape[i]);\n        }\n        if (shape[perm[i]] !== 1) {\n            newPerm.push(perm[i]);\n        }\n    }\n    for (let i = 0; i < newPerm.length; ++i) {\n        let minValIdx = -1;\n        for (let j = 0; j < newPerm.length; ++j) {\n            if (newPerm[j] >= i &&\n                (minValIdx === -1 || newPerm[minValIdx] > newPerm[j])) {\n                minValIdx = j;\n            }\n        }\n        newPerm[minValIdx] = i;\n    }\n    return [newShape, newPerm];\n}\nexport const transposeConfig = {\n    kernelName: Transpose,\n    backendName: 'wasm',\n    kernelFunc: transpose,\n    setupFunc: setup,\n};\n//# sourceMappingURL=Transpose.js.map","/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { backend_util, util } from '@tensorflow/tfjs-core';\nimport { Max } from '@tensorflow/tfjs-core';\nimport { permuteAxesAndTranspose } from './kernel_utils';\nlet wasmMax;\nfunction setup(backend) {\n    wasmMax = backend.wasm.cwrap(Max, null /*void*/, ['number, number, number']);\n}\nfunction max(args) {\n    const { backend, inputs, attrs } = args;\n    const { reductionIndices: axis, keepDims } = attrs;\n    const { x } = inputs;\n    const xId = backend.dataIdMap.get(x.dataId).id;\n    let inputId = xId;\n    let input = x;\n    const { transposed, axes, originalAxes, inputWasTransposed } = permuteAxesAndTranspose(x, axis, backend);\n    if (inputWasTransposed) {\n        const transposedId = backend.dataIdMap.get(transposed.dataId).id;\n        input = transposed;\n        inputId = transposedId;\n    }\n    const inputRank = input.shape.length;\n    backend_util.assertAxesAreInnerMostDims('max', axes, inputRank);\n    const [outShape, reduceShape] = backend_util.computeOutAndReduceShapes(input.shape, axes);\n    const reduceSize = util.sizeFromShape(reduceShape);\n    const out = backend.makeOutput(outShape, x.dtype);\n    if (util.sizeFromShape(input.shape) !== 0) {\n        const outId = backend.dataIdMap.get(out.dataId).id;\n        wasmMax(inputId, reduceSize, outId);\n    }\n    if (inputWasTransposed) {\n        // dispose of the transposed tensor.\n        backend.disposeData(transposed.dataId);\n    }\n    if (keepDims) {\n        // reshape\n        const newShape = backend_util.expandShapeToKeepDim(out.shape, originalAxes);\n        out.shape = newShape;\n    }\n    return out;\n}\nexport const maxConfig = {\n    kernelName: Max,\n    backendName: 'wasm',\n    setupFunc: setup,\n    kernelFunc: max\n};\n//# sourceMappingURL=Max.js.map","/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { Identity } from '@tensorflow/tfjs-core';\nexport function identity(args) {\n    const { inputs: { x }, backend } = args;\n    const out = backend.makeOutput(x.shape, x.dtype);\n    const inVals = backend.typedArrayFromHeap(x);\n    const outVals = backend.typedArrayFromHeap(out);\n    outVals.set(inVals);\n    return out;\n}\nexport const identityConfig = {\n    kernelName: Identity,\n    backendName: 'wasm',\n    kernelFunc: identity,\n};\n//# sourceMappingURL=Identity.js.map","\nimport {registerKernel, registerGradient} from '@tensorflow/tfjs-core/dist/base';\nimport '@tensorflow/tfjs-core/dist/base_side_effects';\nexport * from '@tensorflow/tfjs-core/dist/base';\n  \nexport * from '@tensorflow/tfjs-converter';\n\n//backend = wasm\nexport * from '@tensorflow/tfjs-backend-wasm/dist/base';\nimport {maxConfig as Max_wasm} from '@tensorflow/tfjs-backend-wasm/dist/kernels/Max';\nregisterKernel(Max_wasm);","/**\n * @license\n * Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { backend_util, util } from '@tensorflow/tfjs-core';\nimport { transpose } from './Transpose';\n/**\n * Compute permutation axes and do a transpose if necessary.\n *\n * Used by reduction ops.\n * @param x input TensorInfo\n * @param axis reduction axes\n * @param backend wasm backend instance\n */\nexport function permuteAxesAndTranspose(x, axis, backend) {\n    const xShape = x.shape;\n    const xRank = x.shape.length;\n    const originalAxes = util.parseAxisParam(axis, xShape);\n    let axes = originalAxes;\n    const permutedAxes = backend_util.getAxesPermutation(axes, xRank);\n    let xTransposed = null;\n    let inputWasTransposed = false;\n    if (permutedAxes != null) {\n        const newShape = new Array(xRank);\n        for (let i = 0; i < newShape.length; i++) {\n            newShape[i] = xShape[permutedAxes[i]];\n        }\n        axes = backend_util.getInnerMostAxes(axes.length, xRank);\n        xTransposed =\n            transpose({ inputs: { x }, attrs: { perm: permutedAxes }, backend });\n        const xId = backend.dataIdMap.get(x.dataId).id;\n        const transposedId = backend.dataIdMap.get(xTransposed.dataId).id;\n        if (transposedId !== xId) {\n            inputWasTransposed = true;\n        }\n    }\n    return { transposed: xTransposed, originalAxes, axes, inputWasTransposed };\n}\n//# sourceMappingURL=kernel_utils.js.map","import * as tf from './custom_tfjs_wasm.js';\n\nconst res = tf.max([1, 2, 3, 4]);\nconsole.log('Max result', res.dataSync());"],"names":["Environment","[object Object]","global","this","flags","flagRegistry","urlFlags","populateURLFlags","platformName","platform","console","warn","flagName","evaluationFn","setHook","flagValue","set","evaluateFlag","Promise","Error","get","features","value","Object","assign","location","search","urlParams","queryString","params","replace","s","t","name","decodeURIComponent","decodeParam","join","getQueryParams","split","forEach","keyValue","key","toLowerCase","parseValue","env","ENV","globalNameSpace","getGlobalNamespace","ns","window","process","self","getGlobal","init","globalMap","_tfGlobals","Map","getGlobalMap","has","singleton","kernelRegistry","gradRegistry","getGradient","kernelName","getKernelsForBackend","backendName","it","entries","result","done","next","config","backend","push","makeKey","assert","expr","msg","flatten","arr","skipTypedArray","Array","isArray","isTypedArray","i","length","sizeFromShape","shape","size","arraysEqual","n1","n2","rightPad","a","repeat","parseAxisParam","axis","rank","map","concat","every","ax","Float32Array","Int32Array","Uint8Array","bytesPerElement","dtype","isString","String","isFunction","f","constructor","call","apply","computeStrides","strides","toTypedArray","getBool","vals","num","isNaN","isFinite","checkConversionForErrors","noConversionNeeded","bool","Math","round","toNestedArray","reduce","acc","c","createNestedArray","offset","ret","d","rest","slice","len","makeZerosTypedArray","now","decodeString","bytes","encoding","decode","Profiler","backendTimer","logger","Logger","inputs","outputs","timer","time","r","data","then","tensorVals","checkComputationForErrors","timeMs","timing","kernelMs","extraInfo","getExtraProfileInfo","kernelProfile","all","valueContainer","logKernelProfile","util.rightPad","paddedName","toString","inputShapesDescription","inputShape","inputRank","log","tensorToString","verbose","padPerCol","n","numCols","fill","valuesOrTuples","createComplexTuples","row","j","max","valToString","computeMaxSizePerColumn","valsLines","subTensorToString","isLast","storagePerElement","boolNumToString","firstValsSize","firstVals","from","lastVals","x","subshape","substrides","stride","lines","start","end","sep","newLineSep","l","val","pad","valStr","parseFloat","toFixed","v","complexTuples","trackerFn","Tensor","dataId","id","kept","isDisposedInternal","util.sizeFromShape","rankType","buffer","dataSync","throwIfDisposed","read","b","util.decodeString","_a","readSync","isDisposed","disposeTensor","print","clone","cast","trainable","makeVariable","defineProperty","Symbol","hasInstance","instance","Variable","initialValue","tensorId","super","newValue","util.arraysEqual","incRef","disposeVariable","getTensorsInContainer","list","walkTensorContainer","container","seen","obj","iterable","k","add","Set","Function","EngineState","registeredVariables","nextTapeNodeId","numBytes","numTensors","numStringTensors","numDataBuffers","gradientDepth","kernelDepth","scopeStack","numDataMovesStack","nextScopeId","tensorInfo","WeakMap","profiling","activeProfile","newBytes","newTensors","peakBytes","kernels","variableName","dispose","Engine","registry","registryFactory","pendingBackendInitId","state","pendingBackendInit","backendInstance","sortedBackends","getSortedBackends","initializeBackend","success","setBackend","asyncInit","initializeBackendsAndReturnBest","keys","factory","priority","setupRegisteredKernels","profiler","kernel","setupFunc","disposeFunc","registryFactoryEntry","resolve","promiseId","catch","err","stack","message","disposeRegisteredKernels","sort","info","srcBackend","values","disposeData","move","shouldCheckForMemLeaks","nameOrFn","fn","scopedRun","startScope","endScope","error","res","ex","nextTensorId","nextVariableId","y","makeTensorFromDataId","addTapeNode","activeScope","dy","gradInputs","attrs","ENGINE","runKernelFunc","inputsToSave","outputsToSave","numDataIdsBefore","outInfos","numDataIdsAfter","numDataIds","numOutputDataIds","numMoves","dataIdsLeaked","forwardFunc","backwardsFunc","saved","isTapeOn","startingBytecount","startingNumTensors","kernelFunc","getKernel","out","checkKernelForMemLeak","outTensors","tensorsToSave","getTensorsForGradient","outsToSave","filter","_","saveTensorsForBackwardMode","saveFunc","tensors","tensor","keep","tidy","outs","profileKernel","bytesAdded","totalBytesSnapshot","tensorsAdded","totalTensorsSnapshot","inputShapes","outputShapes","item","kernelTimeMs","gradConfig","inputTensorsToSave","saveAllInputs","util.assert","inputName","outputTensorsToSave","backendVals","util.isString","encode","util.encodeString","write","bytesFromStringArray","refCount","util.bytesPerElement","track","delete","varName","memory","unreliable","reasons","query","startBytes","startNumTensors","gradientsFunc","tapeNode","gradFunc","gradient","dys","output","util.makeZerosTypedArray","makeTensor","activeTape","scopeInfo","tensorsToTrackInParent","tensorsToTrackInParentSet","oldScope","pop","scopeId","xs","allowNoGradients","startTape","endTape","filteredTape","tape","tensorsFromX","nodesFromX","node","nodeInputs","input","anyInputFromX","tensorsLeadToY","nodesToY","prunedInputs","nodeInput","prunedNode","getFilteredNodesXToY","accumulatedGradientMap","array","makeOnesTypedArray","ones","tensorAccumulatedGradientMap","o","gradTensor","inputGradients","dx","curGradient","backpropagateGradients","grads","util.isFunction","inputMap","save","gradRes","gradMap","grad","timingInfo","wallMs","reset","_tfengine","environment","getOrMakeEngine","inferShape","firstElem","deepAssertShapeConsistency","indices","subShape","assertDtype","expectedDtype","actualDType","argName","functionName","convertToTensor","parseAsDtype","inferredDtype","inferDtype","isBoolean","indexOf","type","inferredShape","op","opName","endsWith","substring","f2","args","configurable","reshape","reshape_","$x","shapeProd","implicitIdx","newShape","util.inferFromImplicitShape","transpose","transpose_","perm","reverse","axesAreInnerMostDims","axes","expandShapeToKeepDim","outputLoc","reduceLoc","loc","outIdx","reduceIdx","dim","combineLocations","getAxesPermutation","getInnerMostAxes","numAxes","max_","keepDims","reductionIndices","util.parseAxisParam","permutedAxes","axis_util.getAxesPermutation","maxInput","axis_util.getInnerMostAxes","expandedShape","axis_util.expandShapeToKeepDim","DataStorage","dataMover","dataIdsCount","moveData","notYetImplemented","registerFlag","debugValue","document","WorkerGlobalScope","versions","navigator","userAgent","test","vendor","PlatformBrowser","path","fetch","performance","text","textEncoder","TextEncoder","TextDecoder","setPlatform","getNodeFetch","require","systemFetch","PlatformNode","util","requestInits","hrtime","DataType","SaverDef","CheckpointFormatVersion","async","WebAssembly","validate","MessageChannel","port1","postMessage","SharedArrayBuffer","e","_scriptDir","WasmBackendModuleThreadedSimd","currentScript","src","undefined","__filename","GROWABLE_HEAP_I8","wasmMemory","updateGlobalBufferAndViews","HEAP8","GROWABLE_HEAP_U8","HEAPU8","GROWABLE_HEAP_I32","HEAP32","GROWABLE_HEAP_U32","HEAPU32","GROWABLE_HEAP_F64","HEAPF64","Module","moduleOverrides","hasOwnProperty","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","ENVIRONMENT_IS_SHELL","importScripts","ENVIRONMENT_IS_PTHREAD","DYNAMIC_BASE","DYNAMICTOP_PTR","read_","readBinary","nodeFS","nodePath","scriptDirectory","locateFile","nodeWorkerThreads","require$$0","dirname","__dirname","filename","binary","require$$1","ExitStatus","abort","require$$2","Worker","readbuffer","scriptArgs","printErr","href","substr","lastIndexOf","url","xhr","XMLHttpRequest","open","send","responseText","responseType","response","require$$3","wasmBinary","noExitRuntime","bind","wasmModule","wasmTable","Table","initial","maximum","element","threadInfoStruct","ABORT","condition","getCFunc","ident","func","ccall","returnType","argTypes","opts","toC","string","str","stringToUTF8","stackAlloc","writeArrayToMemory","cArgs","converter","stackSave","UTF8ToString","Boolean","convertReturnValue","stackRestore","cwrap","numericArgs","arguments","UTF8ArrayToString","heap","idx","maxBytesToRead","endIdx","u0","u1","u2","fromCharCode","ch","ptr","stringToUTF8Array","maxBytesToWrite","startIdx","u","charCodeAt","outPtr","lengthBytesUTF8","WASM_PAGE_SIZE","alignUp","multiple","buf","Int8Array","Int16Array","Uint16Array","Uint32Array","Float64Array","INITIAL_INITIAL_MEMORY","Memory","shared","callRuntimeCallbacks","callbacks","callback","shift","arg","byteLength","__ATPRERUN__","__ATINIT__","__ATMAIN__","__ATPOSTRUN__","preRun","addOnPreRun","initRuntime","preMain","postRun","addOnPostRun","cb","unshift","Math_ceil","ceil","Math_floor","floor","runDependencies","dependenciesFulfilled","addRunDependency","removeRunDependency","what","RuntimeError","hasPrefix","prefix","prototype","startsWith","dataURIPrefix","isDataURI","fileURIPrefix","isFileURI","wasmBinaryFile","getBinary","getBinaryPromise","reject","credentials","createWasm","asmLibraryArg","receiveInstance","module","exports","numWorkersToLoad","PThread","unusedWorkers","w","loadWasmModuleToWorker","receiveInstantiatedSource","instantiateArrayBuffer","receiver","instantiate","reason","instantiateStreaming","instantiateAsync","ASM_CONSTS","initPthreadsJS","___wasm_call_ctors","__pthread_ptr","__pthread_is_main_runtime_thread","__pthread_is_main_browser_thread","__register_pthread_ptr","pthreadPtr","isMainBrowserThread","isMainRuntimeThread","ERRNO_CODES","EPERM","ENOENT","ESRCH","EINTR","EIO","ENXIO","E2BIG","ENOEXEC","EBADF","ECHILD","EAGAIN","EWOULDBLOCK","ENOMEM","EACCES","EFAULT","ENOTBLK","EBUSY","EEXIST","EXDEV","ENODEV","ENOTDIR","EISDIR","EINVAL","ENFILE","EMFILE","ENOTTY","ETXTBSY","EFBIG","ENOSPC","ESPIPE","EROFS","EMLINK","EPIPE","EDOM","ERANGE","ENOMSG","EIDRM","ECHRNG","EL2NSYNC","EL3HLT","EL3RST","ELNRNG","EUNATCH","ENOCSI","EL2HLT","EDEADLK","ENOLCK","EBADE","EBADR","EXFULL","ENOANO","EBADRQC","EBADSLT","EDEADLOCK","EBFONT","ENOSTR","ENODATA","ETIME","ENOSR","ENONET","ENOPKG","EREMOTE","ENOLINK","EADV","ESRMNT","ECOMM","EPROTO","EMULTIHOP","EDOTDOT","EBADMSG","ENOTUNIQ","EBADFD","EREMCHG","ELIBACC","ELIBBAD","ELIBSCN","ELIBMAX","ELIBEXEC","ENOSYS","ENOTEMPTY","ENAMETOOLONG","ELOOP","EOPNOTSUPP","EPFNOSUPPORT","ECONNRESET","ENOBUFS","EAFNOSUPPORT","EPROTOTYPE","ENOTSOCK","ENOPROTOOPT","ESHUTDOWN","ECONNREFUSED","EADDRINUSE","ECONNABORTED","ENETUNREACH","ENETDOWN","ETIMEDOUT","EHOSTDOWN","EHOSTUNREACH","EINPROGRESS","EALREADY","EDESTADDRREQ","EMSGSIZE","EPROTONOSUPPORT","ESOCKTNOSUPPORT","EADDRNOTAVAIL","ENETRESET","EISCONN","ENOTCONN","ETOOMANYREFS","EUSERS","EDQUOT","ESTALE","ENOTSUP","ENOMEDIUM","EILSEQ","EOVERFLOW","ECANCELED","ENOTRECOVERABLE","EOWNERDEAD","ESTRPIPE","__main_thread_futex_wait_address","_emscripten_futex_wake","addr","count","Infinity","mainThreadWaitAddress","Atomics","load","mainThreadWoken","compareExchange","notify","__kill_thread","pthread_ptr","pthread","pthreads","worker","terminate","freeThreadData","runningWorkers","splice","__cancel_thread","cmd","__cleanup_thread","returnWorkerToPool","_emscripten_get_now","MAIN_THREAD_ID","mainThreadInfo","schedPolicy","schedPrio","mainThreadBlock","_emscripten_register_main_browser_thread_id","initMainThreadBlock","allocateUnusedWorker","headPtr","tlsMemory","store","initWorker","exitHandlers","setThreadStatus","runExitHandlers","___pthread_tsd_run_dtors","threadExit","exitCode","tb","_pthread_self","threadCancel","terminateAllThreads","_free","allocatedOwnStack","stackBase","thread","receiveObjectTransfer","onFinishedLoading","onmessage","currentProxiedOperationCallerThread","targetThread","_emscripten_main_thread_process_queued_calls","__spawn_thread","loaded","runPthread","alert","target","onerror","lineno","on","urlOrBlob","pthreadMainJs","getNewWorker","busySpinWait","msecs","establishStackSpace","stackTop","stackMax","getNoExitRuntime","___assert_fail","line","___call_main","argc","argv","_main","setErrNo","___errno_location","_atexit","_emscripten_proxy_to_main_thread_js","__emscripten_notify_thread_queue","targetThreadId","mainThreadId","_abort","_emscripten_conditional_set_current_thread_status","expectedStatus","newStatus","_emscripten_futex_wait","timeout","wait","tNow","tEnd","ourWaitAddress","_emscripten_is_main_browser_thread","_emscripten_is_main_runtime_thread","_emscripten_memcpy_big","dest","copyWithin","_emscripten_num_logical_cores","index","sync","numCallArgs","_emscripten_run_in_main_runtime_thread_js","dateNow","_emscripten_receive_on_main_thread_js_callArgs","readAsmConstArgs","sigPtr","_emscripten_receive_on_main_thread_js","isEmAsmConst","proxiedFunctionTable","constArgs","_emscripten_get_heap_size","emscripten_realloc_buffer","grow","_emscripten_resize_heap","requestedSize","oldSize","cutDown","overGrownHeapSize","min","JSEvents","keyEvent","mouseEvent","wheelEvent","uiEvent","focusEvent","deviceOrientationEvent","deviceMotionEvent","fullscreenChangeEvent","pointerlockChangeEvent","visibilityChangeEvent","touchEvent","previousFullscreenElement","previousScreenX","previousScreenY","removeEventListenersRegistered","removeAllEventListeners","eventHandlers","_removeHandler","deferredCalls","registerRemoveEventListeners","deferCall","targetFunction","precedence","argsList","arraysHaveEqualContent","arrA","arrB","removeDeferredCalls","canPerformEventHandlerRequests","inEventHandler","currentEventHandler","allowsDeferredCalls","runDeferredCalls","removeAllHandlersOnTarget","eventTypeString","h","removeEventListener","eventListenerFunc","useCapture","registerOrRemoveHandler","eventHandler","jsEventHandler","event","handlerFunc","callbackfunc","addEventListener","queueEventHandlerOnThread_iiii","eventHandlerFunc","eventTypeId","eventData","userData","varargs","_emscripten_async_queue_on_thread_","getTargetThreadForEventCallback","getNodeNameForTarget","screen","nodeName","fullscreenEnabled","webkitFullscreenEnabled","stringToNewUTF8","jsString","cString","_malloc","_emscripten_set_offscreencanvas_size_on_target_thread_js","targetCanvas","width","height","targetCanvasPtr","_emscripten_set_offscreencanvas_size_on_target_thread","__maybeCStringToJsString","specialHTMLTargets","__findEventTarget","querySelector","__findCanvasEventTarget","_emscripten_set_canvas_element_size_calling_thread","canvas","canvasSharedPtr","offscreenCanvas","controlTransferredOffscreen","autoResizeViewport","GLctxObject","GLctx","prevViewport","getParameter","viewport","_emscripten_set_canvas_element_size_main_thread","_emscripten_set_canvas_element_size","_emscripten_set_current_thread_status","_emscripten_set_thread_name","threadId","__webgl_enable_ANGLE_instanced_arrays","ctx","ext","getExtension","divisor","mode","first","primcount","__webgl_enable_OES_vertex_array_object","vao","__webgl_enable_WEBGL_draw_buffers","bufs","GL","counter","lastError","buffers","mappedBuffers","programs","framebuffers","renderbuffers","textures","uniforms","shaders","vaos","contexts","currentContext","offscreenCanvases","timerQueriesEXT","programInfos","stringCache","unpackAlignment","miniTempFloatBuffer","MINI_TEMP_BUFFER_SIZE","miniTempBufferFloatViews","subarray","miniTempIntBuffer","miniTempBufferIntViews","recordError","errorCode","getNewId","table","getSource","shader","source","createContext","webGLContextAttributes","getContext","registerContext","handle","context","attributes","version","majorVersion","enableExtensionsByDefault","initExtensions","makeContextCurrent","contextHandle","deleteContext","initExtensionsDone","disjointTimerQueryExt","automaticallyEnabledExtensions","getSupportedExtensions","populateUniformTable","program","p","ptable","maxUniformLength","maxAttributeLength","maxUniformBlockNameLength","utable","numUniforms","getProgramParameter","getActiveUniform","getUniformLocation","__emscripten_webgl_power_preferences","_emscripten_webgl_do_create_context","contextAttributes","powerPreference","minorVersion","explicitSwapControl","proxyContextToMainThread","renderViaOffscreenBackBuffer","_emscripten_webgl_create_context","a0","a1","SYSCALLS","mappings","printChar","stream","curr","getStr","get64","low","high","_fd_close","fd","_fd_seek","offset_low","offset_high","whence","newOffset","_fd_write","iov","iovcnt","pnum","_pthread_cleanup_pop","execute","routine","_pthread_cleanup_push","dynCall_vi","threadParams","stackHigh","stackSize","tis","detached","global_locale","_emscripten_get_global_libc","start_routine","startRoutine","selfThreadId","parentThreadId","parent_pthread_ptr","transferList","_pthread_getschedparam","policy","schedparam","_pthread_create","attr","_emscripten_sync_run_in_main_thread_4","prevSchedPolicy","prevSchedPrio","_memalign","_roundf","_sysconf","maxHeapSize","g","q","B","A","m","z","asm","calledRun","status","run","doRun","setTimeout","old","runCaller","WasmBackendModule","quit_","toThrow","quit","UTF8Decoder","endPtr","wasi_snapshot_preview1","_emscripten_notify_memory_growth","memoryIndex","_exit","exit","_proc_exit","code","emscripten_notify_memory_growth","fd_close","fd_seek","fd_write","proc_exit","roundf","callMain","entryFunction","toLog","shouldRunNow","implicit","BackendWasm","floatPrecision","transposeA","transposeB","bias","activation","preluActivationWeights","begin","segmentIds","numSegments","sorted","alpha","convInfo","dY","reps","paddings","constantValue","updates","blockShape","crops","newHeight","newWidth","alignCorners","newHEight","mean","variance","scale","varianceEpsilon","radius","beta","inputImage","outputImage","logits","normalized","numSamples","seed","depth","onValue","offValue","exclusive","boxes","scores","maxOutputSize","iouThreshold","scoreThreshold","real","imag","image","boxIndex","cropSize","method","extrapolationValue","blockSize","dataFormat","sizeSplits","sparseIndices","sparseValues","outputShape","defaultValue","stop","wasm","dataIdNextNumber","tfjs","dataIdMap","util.now","stringBytes","memoryOffset","registerTensor","byteOffset","typedArrayFromBuffer","registerBackend","simdSupported","threadsSupported","getAsync","factoryConfig","blob","Blob","URL","createObjectURL","wasmModuleFolder","wasmFileMap","getPathToWasmBinary","wasmPath","wasmFactoryThreadedSimd","mainScriptUrlOrBlob","wasmFactory","initialized","onRuntimeInitialized","initAborted","onAbort","CppDType","FusableActivation","wasmMax","reducedShape","newPerm","minValIdx","removeOneSizeDims","permIsNoOp","outShape","inShape","computeOutShape","cloned","makeOutput","inVals","typedArrayFromHeap","identity","wasmTranspose","registerKernel","inputId","transposed","originalAxes","inputWasTransposed","xShape","xRank","backend_util.getAxesPermutation","xTransposed","backend_util.getInnerMostAxes","xId","permuteAxesAndTranspose","backend_util.assertAxesAreInnerMostDims","reduceShape","aShape","backend_util.computeOutAndReduceShapes","reduceSize","outId","backend_util.expandShapeToKeepDim","tf.max"],"mappings":"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"}